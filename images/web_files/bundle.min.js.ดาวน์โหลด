!function(root,factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof module&&module.exports?module.exports=factory():root.PMS=factory()}(this,function(){"use strict";var PMS=function(sets){this.set(sets),this._callbacks={},this._listen()};PMS.prototype.set=function(sets){sets=sets||{},this._targetWindow=sets.targetWindow,this._targetOrigin=sets.targetOrigin||"*",this._connectionID=sets.connectionID||null},PMS.prototype.setTargetWindow=function(targetWindow){this._targetWindow=targetWindow},PMS.prototype.send=function(type,data){data=data||null;var message;if("object"!=typeof data)throw new TypeError("incorrect data type. Should be an Object");message={connectionID:this._connectionID,data:data,type:type},this._targetWindow.postMessage(JSON.stringify(message),this._targetOrigin)},PMS.prototype.sendRAW=function(message){message=message||null,this._targetWindow.postMessage(JSON.stringify(message),this._targetOrigin)},PMS.prototype._receive=function(e){this._targetWindow&&e.source!==this._targetWindow||this._processMessage(e.data)},PMS.prototype._processMessage=function(postJSON){var parsed,rawEvent,type,data;try{parsed=JSON.parse(postJSON),type=parsed.type,data=parsed.data,rawEvent=parsed}catch(ex){rawEvent=postJSON,type="message",data=null}this._connectionID&&this._connectionID!==parsed.connectionID||this.trigger(type,data,rawEvent)},PMS.prototype._listen=function(){window.addEventListener("message",this._receive.bind(this),!1)},PMS.prototype.on=function(type,callback,context,_once){context=context||null,_once=_once||!1;for(var typeArr,eName,splitRegExp=/[^,\s]+/g;typeArr=splitRegExp.exec(type);)eName=typeArr[0],this._callbacks[eName]=this._callbacks[eName]||[],this._callbacks[eName].push({callback:callback,context:context,once:_once})},PMS.prototype.once=function(type,callback,context){context=context||null,this.on(type,callback,context,!0)},PMS.prototype.trigger=function(type,data,rawEvent){data=data||null,rawEvent=rawEvent||null;for(var typeArr,eName,callbacks,e,all,splitRegExp=/[^,\s]+/g;typeArr=splitRegExp.exec(type);)eName=typeArr[0],all=this._callbacks.all,callbacks=this._callbacks[eName],e=new InternalEvent({type:eName,data:data,rawEvent:rawEvent}),callbacks&&(all&&callbacks.push(all),this._fire(e,callbacks))},PMS.prototype._fire=function(e,callbacks){callbacks.forEach(function(item){var context=item.context;context?item.callback.call(context,e):item.callback(e),item.once&&this._offCallback(item.type,item.callback)},this)},PMS.prototype.off=function(type,callback){type=type||null,callback=callback||null;var typeArr,eName,offMethod="_off",splitRegExp=/[^,\s]+/g;if(type)for(offMethod=callback?"_offCallback":"_off";typeArr=splitRegExp.exec(type);)eName=typeArr[0],this[offMethod](eName,callback);else this._callbacks={}},PMS.prototype._off=function(type){delete this._callbacks[type]},PMS.prototype._offCallback=function(type,callback){var callbacks=this._callbacks[type];callbacks&&callbacks.some(function(clbk,i){return!(callback!==clbk||!callbacks.splice(i,1))})};var InternalEvent=function(sets){this.type=sets.type,this.data=sets.data,this.rawEvent=sets.rawEvent};return PMS}),angular.module("symbols",[]).constant("svgImages",{addPage:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="9px" height="9px" viewBox="0 0 9 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    \x3c!-- Generator: Sketch 3.3.2 (12043) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>+ Add Page</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="+-Add-Page" sketch:type="MSArtboardGroup" fill="#FFFFFF">\n            <path d="M9,4 L5,4 L5,0 L4,0 L4,4 L0,4 L0,5 L4,5 L4,9 L5,9 L5,5 L9,5 L9,4" sketch:type="MSShapeGroup"></path>\n        </g>\n    </g>\n</svg>',arrowDown:'<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="135.1 -517.4 1024 1024" style="enable-background:new 135.1 -517.4 1024 1024;" xml:space="preserve" width="12px" height="12px">\r\n<path d="M137.3-195c0,17.4,7.4,34.7,19.8,47.1l441.4,409.1c27.3,24.8,71.9,24.8,99.2,0l438.9-429\r\n\tc27.3-24.8,27.3-66.9,0-91.7c-27.3-24.8-71.9-24.8-99.2,0L648.1,122.3L256.3-242.2c-27.3-24.8-71.9-24.8-99.2,0\r\n\tC144.7-227.3,137.3-212.4,137.3-195z"/>\r\n</svg>\r\n',camera:'<?xml version="1.0" encoding="utf-8"?>\r\n<svg xmlns="http://www.w3.org/2000/svg"\r\n\txmlns:xlink="http://www.w3.org/1999/xlink"\r\n\twidth="55px" height="42px" viewBox="0 0 55 42">\r\n<path fill="rgb(91,153,231)" fill-rule="evenodd" d="M 46.06 14.94C 47.17 14.94 48.06 14.05 48.06 12.95 48.06 11.86 47.17 10.97 46.06 10.97 44.96 10.97 44.06 11.86 44.06 12.95 44.06 14.05 44.96 14.94 46.06 14.94M 46.06 16.94C 43.85 16.94 42.06 15.15 42.06 12.95 42.06 10.75 43.85 8.97 46.06 8.97 48.27 8.97 50.06 10.75 50.06 12.95 50.06 15.15 48.27 16.94 46.06 16.94 46.06 16.94 46.06 16.94 46.06 16.94Z"/>\r\n<path fill="rgb(91,153,231)" fill-rule="evenodd" d="M 50.06 39.94C 51.72 39.94 53.06 38.59 53.06 36.94 53.06 36.94 53.06 8.97 53.06 8.97 53.06 7.31 51.72 5.97 50.06 5.97 50.06 5.97 5.09 5.97 5.09 5.97 3.44 5.97 2.09 7.31 2.09 8.97 2.09 8.97 2.09 36.94 2.09 36.94 2.09 38.59 3.44 39.94 5.09 39.94 5.09 39.94 50.06 39.94 50.06 39.94M 50.06 41.94C 50.06 41.94 5.09 41.94 5.09 41.94 2.33 41.94 0.09 39.7 0.09 36.94 0.09 36.94 0.09 8.97 0.09 8.97 0.09 6.21 2.33 3.97 5.09 3.97 5.09 3.97 50.06 3.97 50.06 3.97 52.82 3.97 55.06 6.21 55.06 8.97 55.06 8.97 55.06 36.94 55.06 36.94 55.06 39.7 52.82 41.94 50.06 41.94 50.06 41.94 50.06 41.94 50.06 41.94Z"/>\r\n<path fill="rgb(91,153,231)" fill-rule="evenodd" d="M 28.08 34.94C 34.69 34.94 40.06 29.56 40.06 22.95 40.06 16.34 34.69 10.97 28.08 10.97 21.47 10.97 16.09 16.34 16.09 22.95 16.09 29.56 21.47 34.94 28.08 34.94M 28.08 36.94C 20.35 36.94 14.09 30.68 14.09 22.95 14.09 15.23 20.35 8.97 28.08 8.97 35.8 8.97 42.06 15.23 42.06 22.95 42.06 30.68 35.8 36.94 28.08 36.94 28.08 36.94 28.08 36.94 28.08 36.94Z"/>\r\n<path fill="rgb(91,153,231)" fill-rule="evenodd" d="M 38.89 3.97C 38.48 2.8 37.37 1.97 36.06 1.97 36.06 1.97 19.09 1.97 19.09 1.97 17.79 1.97 16.68 2.8 16.27 3.97 16.27 3.97 38.89 3.97 38.89 3.97M 41.06 5.97C 41.06 5.97 14.09 5.97 14.09 5.97 14.09 5.97 14.09 4.97 14.09 4.97 14.09 2.21 16.33-0.03 19.09-0.03 19.09-0.03 36.06-0.03 36.06-0.03 38.82-0.03 41.06 2.21 41.06 4.97 41.06 4.97 41.06 5.97 41.06 5.97 41.06 5.97 41.06 5.97 41.06 5.97Z"/>\r\n</svg>',headerCloseButton:'<svg width="25px" height="25px" viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> \r\n  <path d="M11.7928932,12.5 L8.14644661,8.85355339 L7.79289322,8.5 L8.5,7.79289322 L8.85355339,8.14644661 L12.5,11.7928932 L16.1464466,8.14644661 L16.5,7.79289322 L17.2071068,8.5 L16.8535534,8.85355339 L13.2071068,12.5 L16.8535534,16.1464466 L17.2071068,16.5 L16.5,17.2071068 L16.1464466,16.8535534 L12.5,13.2071068 L8.85355339,16.8535534 L8.5,17.2071068 L7.79289322,16.5 L8.14644661,16.1464466 L11.7928932,12.5 Z"></path>\r\n</svg>',"image-change":'<?xml version="1.0" encoding="utf-8"?>\r\n<svg xmlns="http://www.w3.org/2000/svg"\r\n\txmlns:xlink="http://www.w3.org/1999/xlink"\r\n\tviewBox="0 0 70 70" width="14" height="14">\r\n<path fill="rgb(55,153,235)" fill-rule="evenodd" d="M 62.5 67.5C 62.5 67.5 62.5 50.83 62.5 50.83 62.5 50.83 51.67 66.91 31.39 66.91 12.75 66.91-2.42 52.5-2.42 32.5-2.42 32.5 2.58 32.5 2.58 32.5 2.58 47.5 15.5 61.91 31.39 61.91 41.88 61.91 53.64 56.14 58.75 47.08 58.75 47.08 42.5 46.88 42.5 46.88 42.5 46.88 42.5 42.5 42.5 42.5 42.5 42.5 67.5 42.5 67.5 42.5 67.5 42.5 67.5 67.5 67.5 67.5 67.5 67.5 62.5 67.5 62.5 67.5ZM 33.67 3.09C 23.18 3.09 11.4 8.86 6.29 17.92 6.29 17.92 22.5 18.12 22.5 18.12 22.5 18.12 22.5 22.5 22.5 22.5 22.5 22.5-2.5 22.5-2.5 22.5-2.5 22.5-2.5-2.5-2.5-2.5-2.5-2.5 2.5-2.5 2.5-2.5 2.5-2.5 2.5 14.17 2.5 14.17 2.5 14.17 13.37-1.91 33.65-1.91 52.29-1.91 67.5 12.5 67.5 32.5 67.5 32.5 62.5 32.5 62.5 32.5 62.5 17.5 49.56 3.09 33.67 3.09Z"/>\r\n</svg>',infoIcon:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" viewBox="1.5 1.5 18 18" width="18" height="18">\n  <g id="infoIconSvg">\n    <circle cx="10.5" cy="10.5" r="8px"></circle>\n    <path d="M10.500,19.500 C5.529,19.500 1.500,15.471 1.500,10.500 C1.500,5.529 5.529,1.500 10.500,1.500 C15.471,1.500 19.500,5.529 19.500,10.500 C19.500,15.471 15.471,19.500 10.500,19.500 ZM2.500,10.500 C2.500,14.911 6.089,18.500 10.500,18.500 C14.911,18.500 18.500,14.911 18.500,10.500 C18.500,6.089 14.911,2.500 10.500,2.500 C6.089,2.500 2.500,6.089 2.500,10.500 ZM12.500,15.500 C12.500,15.500 8.500,15.500 8.500,15.500 C8.500,15.500 9.500,13.500 9.500,13.500 C9.500,13.500 9.500,13.500 9.500,13.500 C9.500,13.500 9.500,10.500 9.500,10.500 C9.500,10.500 8.500,10.500 8.500,10.500 C8.500,10.500 9.500,8.500 9.500,8.500 C9.500,8.500 11.500,8.500 11.500,8.500 C11.500,8.500 11.500,13.500 11.500,13.500 C11.500,13.500 11.500,13.500 11.500,13.500 C11.500,13.500 12.500,15.500 12.500,15.500 ZM9.500,5.500 C9.500,5.500 11.500,5.500 11.500,5.500 C11.500,5.500 11.500,7.500 11.500,7.500 C11.500,7.500 9.500,7.500 9.500,7.500 C9.500,7.500 9.500,5.500 9.500,5.500 Z" id="path-1" fill-rule="evenodd"/>\n  </g>\n</svg>',linkBtnThin:'<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path d="M17.0999619,6.90003811 C15.8487306,5.64880678 13.9026131,5.70880479 12.5739298,7.03857898 L11.6870501,7.92545873 L12.2924846,8.53089325 L13.1782734,7.6440135 C14.1796949,6.64259208 15.5738306,6.58477581 16.4956182,7.50547263 C17.4163151,8.42507857 17.3574079,9.82030514 16.3559865,10.8217266 L14.6618607,12.5169432 C14.1840584,12.9936547 13.58626,13.2740091 12.9786437,13.3045535 C12.357937,13.3307345 11.7928647,13.1136507 11.3401524,12.6609384 L10.7347179,13.2652821 C11.3172441,13.8478083 12.0688556,14.1630706 12.8662838,14.1630706 C12.9186457,14.1630706 12.9699167,14.1630706 13.0222786,14.1597979 C13.8426151,14.1172539 14.6400433,13.7485388 15.2662044,13.1212868 L16.961421,11.4271611 C18.2911952,10.096296 18.3511932,8.15017857 17.0999619,6.90003811 L17.0999619,6.90003811 Z M10.8219878,16.3557253 C10.3452763,16.8324368 9.7496596,17.1106094 9.14313422,17.1411539 C8.53988145,17.1815162 7.95953701,16.9480693 7.50573384,16.4942662 C7.05193067,16.040463 6.82830171,15.4753908 6.85884615,14.8568658 C6.88939059,14.2514313 7.16865408,13.6547237 7.64427471,13.1780122 L9.33949136,11.4827956 C10.3354584,10.4857377 11.7295941,10.4290123 12.6502909,11.3497091 L13.2557254,10.7453654 C12.0034032,9.49413411 10.0594675,9.55085951 8.73405684,10.8784519 L7.03993107,12.5725777 C6.41158822,13.1998297 6.04396402,13.996167 6.00360172,14.8154126 C5.96214854,15.6684753 6.27959259,16.4789939 6.90029932,17.0997007 C7.50137035,17.7007717 8.26389058,17.9996709 9.04059215,17.9996709 C9.87947349,17.9996709 10.7368997,17.6516824 11.4274223,16.9611598 L12.2924846,16.0950066 L11.6870501,15.490663 L10.8219878,16.3557253 Z"></path>\n</svg>',quickActionsSettings:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="18px" height="18px" version="1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="0 18 18 18" xml:space="preserve">\n    <path  class="st0" fill="none" fill-rule="evenodd" stroke-width="1.1" stroke="#1d2d3c" d="M16.3,28.6l-1.6,0.3c-0.1,0.2-0.2,0.5-0.3,0.7l0.8,1.3c0.3,0.4,0.2,0.9-0.1,1.2l-0.9,0.9\n    c-0.2,0.2-0.5,0.3-0.8,0.3c-0.2,0-0.4-0.1-0.6-0.2l-1.3-0.8c-0.2,0.1-0.4,0.2-0.7,0.3l-0.3,1.5c-0.1,0.5-0.5,0.8-0.9,0.8H8.3\n    c-0.5,0-0.8-0.4-0.9-0.8l-0.3-1.5c-0.2-0.1-0.5-0.2-0.7-0.3l-1.3,0.8c-0.2,0.1-0.4,0.2-0.6,0.2c-0.3,0-0.5-0.1-0.8-0.3l-0.9-0.9\n    c-0.4-0.4-0.4-0.8-0.1-1.2l0.8-1.3c-0.1-0.2-0.2-0.4-0.3-0.7l-1.5-0.3C1.4,28.6,1,28.2,1,27.7v-1.3c0-0.5,0.4-0.8,0.8-1l1.5-0.3\n    c0.1-0.2,0.2-0.5,0.3-0.7l-0.8-1.3c-0.3-0.4-0.2-0.9,0.1-1.2l0.9-0.9c0.2-0.2,0.5-0.3,0.8-0.3c0.2,0,0.4,0.1,0.6,0.2l1.3,0.8\n    c0.2-0.1,0.4-0.2,0.7-0.3l0.3-1.5c0.1-0.5,0.5-0.8,0.9-0.8h1.4c0.5,0,0.8,0.4,0.9,0.8l0.3,1.5c0.2,0.1,0.5,0.2,0.7,0.3l1.3-0.8\n    c0.2-0.1,0.4-0.2,0.6-0.2c0.3,0,0.6,0.1,0.8,0.3l0.9,0.9c0.4,0.4,0.4,0.8,0.1,1.2l-0.8,1.3c0.1,0.2,0.2,0.4,0.3,0.7l1.5,0.3\n    c0.5,0.1,0.8,0.5,0.8,1v1.3C17.1,28.1,16.7,28.6,16.3,28.6z M9.1,24.5c-1.3,0-2.4,1.1-2.4,2.4c0,1.3,1.1,2.4,2.4,2.4\n    s2.4-1.1,2.4-2.4C11.5,25.6,10.4,24.5,9.1,24.5z" />\n</svg>\n',change:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="14px" height="14px" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    \x3c!-- Generator: Sketch 3.3 (11970) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>L_Change</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M9,10 L12.25,9.917 C11.227,11.727 8.877,12.881 6.778,12.881 C3.601,12.881 1.016,10 1.016,7 L0.016,7 C0.016,11 3.049,13.881 6.778,13.881 C10.833,13.881 13,10.667 13,10.667 L13,14 L14,14 L14,9 L9,9 L9,10 L9,10 Z M5,4 L1.758,4.083 C2.781,2.273 5.135,1.119 7.234,1.119 C10.411,1.119 13,4 13,7 L14,7 C14,3 10.959,0.119 7.23,0.119 C3.175,0.119 1,3.333 1,3.333 L1,0 L0,0 L0,5 L5,5 L5,4 L5,4 Z" id="L_Change" fill="#1D2D3C" sketch:type="MSShapeGroup"></path>\n    </g>\n</svg>',deleteTrash:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="13px" height="15px" viewBox="0 0 13 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    \x3c!-- Generator: Sketch 3.3 (11970) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>L_Delete</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M4,11 L5,11 L5,5 L4,5 L4,11 Z M8,11 L9,11 L9,5 L8,5 L8,11 Z M6,11 L7,11 L7,5 L6,5 L6,11 Z M9,2 L9,1.5 C9,0.701 8.248,0 7.392,0 L5.525,0 C4.684,0 4,0.673 4,1.5 L4,2 L0,2 L0,3 L1,3 L1,12 C1,13.657 2.343,15 4,15 L9,15 C10.657,15 12,13.657 12,12 L12,3 L13,3 L13,2 L9,2 L9,2 Z M5,1.5 C5,1.229 5.24,1 5.525,1 L7.392,1 C7.693,1 8,1.252 8,1.5 L8,2 L5,2 L5,1.5 L5,1.5 Z M11,12 C11,13.105 10.105,14 9,14 L4,14 C2.895,14 2,13.105 2,12 L2,3 L11,3 L11,12 L11,12 Z" id="L_Delete" fill="#1D2D3C" sketch:type="MSShapeGroup"></path>\n    </g>\n</svg>',noItems:'<svg y="838" width="128" height="100" viewBox="0 0 128 100">\n<path d="M116.478 100h-104.5C5.148 100 0 94.413 0 87.91v-66.5C0 14.742 5.374 10 11.978 10h28.834l2.113-4.055C43.507 4.33 45.387 0 48.798 0h30.647c3.41 0 5.29 4.33 5.873 5.945L87.432 10h29.046C122.938 10 128 14.628 128 21.41v66.5c0 6.61-4.846 12.09-11.522 12.09zM123 21.41c0-4.044-2.804-6.41-6.522-6.41H85.915c-.93 0-1.786-.775-2.216-1.6l-2.897-5.813c-.058-.11-.107-.053-.147-.17C80.216 6.144 79.516 5 79.13 5H49.113c-.388 0-1.088 1.23-1.527 2.503-.04.117-.09-.025-.147.084l-2.896 5.727C44.114 14.14 43.26 15 42.328 15h-30.35C8.13 15 5 17.498 5 21.41V36h32.934c5.677-9 15.39-14.202 26.4-14.202 11.01 0 20.723 5.202 26.4 14.202H123V21.41zM37.413 52.786c0 14.843 12.077 26.92 26.92 26.92 14.845 0 26.922-12.077 26.922-26.92 0-14.844-12.077-26.92-26.92-26.92-14.845 0-26.922 12.076-26.922 26.92zM123 38H91.955c2.574 4 4.05 9.597 4.05 15.213 0 17.463-14.208 31.414-31.67 31.414-17.464 0-31.672-14.036-31.672-31.5C32.663 47.51 34.14 42 36.713 38H5v49.91C5 91.623 7.935 95 11.978 95h104.5c3.9 0 6.522-3.258 6.522-7.09V38zm-58.666-4.357c10.556 0 19.143 8.587 19.143 19.143 0 10.555-8.587 19.143-19.143 19.143-10.556 0-19.143-8.59-19.143-19.144 0-10.556 8.588-19.143 19.144-19.143zm0 35.91c9.246 0 16.768-7.52 16.768-16.767S73.58 36.018 64.334 36.018s-16.768 7.52-16.768 16.768c0 9.246 7.522 16.768 16.768 16.768zm48.58-48.52c1.97 0 3.564 1.596 3.564 3.564s-1.595 3.563-3.563 3.563c-1.967 0-3.562-1.595-3.562-3.563 0-1.968 1.595-3.563 3.562-3.563z" class="hover" fill-rule="evenodd"/>\n</svg>',
organizeImagesEmptyState:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="300px" height="150px" viewBox="0 0 300 150" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    \x3c!-- Generator: Sketch 3.3.2 (12043) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Organize Images Empty State</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Organize-Images-Empty-State" sketch:type="MSArtboardGroup">\n            <path d="M494.684,312.033 L494.431,312.037 L490.431,312.037 L490.431,314.037 L494.431,314.037 C494.539,314.037 494.648,314.035 494.755,314.031 L494.684,312.033 L494.684,312.033 Z M501.15,307.007 C500.817,308.146 500.201,309.165 499.383,309.985 L500.798,311.398 C501.848,310.347 502.64,309.036 503.069,307.569 L501.15,307.007 L501.15,307.007 Z M501.431,301.319 L503.431,301.319 L503.431,297.319 L501.431,297.319 L501.431,301.319 Z M501.431,291.319 L503.431,291.319 L503.431,287.319 L501.431,287.319 L501.431,291.319 Z M501.431,281.319 L503.431,281.319 L503.431,277.319 L501.431,277.319 L501.431,281.319 Z M501.431,271.319 L503.431,271.319 L503.431,267.319 L501.431,267.319 L501.431,271.319 Z M501.431,261.319 L503.431,261.319 L503.431,257.319 L501.431,257.319 L501.431,261.319 Z M501.431,251.319 L503.431,251.319 L503.431,247.319 L501.431,247.319 L501.431,251.319 Z M501.431,241.319 L503.431,241.319 L503.431,237.319 L501.431,237.319 L501.431,241.319 Z M501.431,231.319 L503.431,231.319 L503.431,227.319 L501.431,227.319 L501.431,231.319 Z M501.431,221.319 L503.431,221.319 L503.431,217.319 L501.431,217.319 L501.431,221.319 Z M501.431,211.319 L503.431,211.319 L503.431,207.319 L501.431,207.319 L501.431,211.319 Z M501.431,201.319 L503.431,201.319 L503.431,197.319 L501.431,197.319 L501.431,201.319 Z M501.431,191.319 L503.431,191.319 L503.431,187.319 L501.431,187.319 L501.431,191.319 Z M501.431,181.319 L503.431,181.319 L503.431,177.319 L501.431,177.319 L501.431,181.319 Z M501.431,171.319 L503.431,171.319 L503.431,167.319 L501.431,167.319 L501.431,171.319 Z M501.431,161.319 L503.431,161.319 L503.431,157.319 L501.431,157.319 L501.431,161.319 Z M501.431,151.319 L503.431,151.319 L503.431,147.319 L501.431,147.319 L501.431,151.319 Z M501.431,141.319 L503.431,141.319 L503.431,137.319 L501.431,137.319 L501.431,141.319 Z M501.431,131.319 L503.431,131.319 L503.431,127.319 L501.431,127.319 L501.431,131.319 Z M501.431,121.319 L503.431,121.319 L503.431,117.319 L501.431,117.319 L501.431,121.319 Z M501.431,111.319 L503.431,111.319 L503.431,107.319 L501.431,107.319 L501.431,111.319 Z M501.431,101.319 L503.431,101.319 L503.431,97.319 L501.431,97.319 L501.431,101.319 Z M501.431,91.319 L503.431,91.319 L503.431,87.319 L501.431,87.319 L501.431,91.319 Z M501.431,81.319 L503.431,81.319 L503.431,77.319 L501.431,77.319 L501.431,81.319 Z M501.431,71.319 L503.431,71.319 L503.431,67.319 L501.431,67.319 L501.431,71.319 Z M501.431,61.319 L503.431,61.319 L503.431,57.319 L501.431,57.319 L501.431,61.319 Z M501.431,51.319 L503.431,51.319 L503.431,47.319 L501.431,47.319 L501.431,51.319 Z M501.431,41.319 L503.431,41.319 L503.431,37.319 L501.431,37.319 L501.431,41.319 Z M501.431,31.319 L503.431,31.319 L503.431,27.319 L501.431,27.319 L501.431,31.319 Z M501.431,21.319 L503.431,21.319 L503.431,17.319 L501.431,17.319 L501.431,21.319 Z M501.431,11.319 L503.431,11.319 L503.431,7.319 L501.431,7.319 L501.431,11.319 Z M501.431,1.319 L503.431,1.319 L503.431,-2.681 L501.431,-2.681 L501.431,1.319 Z M501.431,-8.681 L503.431,-8.681 L503.431,-12.681 L501.431,-12.681 L501.431,-8.681 Z M501.272,-22.455 C501.375,-21.975 501.431,-21.476 501.431,-20.963 L501.431,-18.681 L503.431,-18.681 L503.43,-20.963 C503.431,-21.619 503.36,-22.261 503.226,-22.879 L501.272,-22.455 L501.272,-22.455 Z M495.177,-27.924 C496.375,-27.797 497.479,-27.369 498.42,-26.716 L499.561,-28.358 C498.354,-29.198 496.927,-29.75 495.387,-29.913 L495.177,-27.924 L495.177,-27.924 Z M485.284,-27.963 L489.284,-27.963 L489.284,-29.963 L485.284,-29.963 L485.284,-27.963 Z M475.284,-27.963 L479.284,-27.963 L479.284,-29.963 L475.284,-29.963 L475.284,-27.963 Z M465.285,-27.963 L469.285,-27.963 L469.285,-29.963 L465.285,-29.963 L465.285,-27.963 Z M455.284,-27.963 L459.284,-27.963 L459.284,-29.963 L455.284,-29.963 L455.284,-27.963 Z M445.284,-27.963 L449.284,-27.963 L449.284,-29.963 L445.284,-29.963 L445.284,-27.963 Z M435.285,-27.963 L439.285,-27.963 L439.285,-29.963 L435.285,-29.963 L435.285,-27.963 Z M425.284,-27.963 L429.284,-27.963 L429.284,-29.963 L425.284,-29.963 L425.284,-27.963 Z M415.284,-27.963 L419.284,-27.963 L419.284,-29.963 L415.284,-29.963 L415.284,-27.963 Z M405.285,-27.963 L409.285,-27.963 L409.285,-29.963 L405.285,-29.963 L405.285,-27.963 Z M395.285,-27.963 L399.285,-27.963 L399.285,-29.963 L395.285,-29.963 L395.285,-27.963 Z M385.285,-27.963 L389.285,-27.963 L389.285,-29.963 L385.285,-29.963 L385.285,-27.963 Z M375.285,-27.963 L379.285,-27.963 L379.285,-29.963 L375.285,-29.963 L375.285,-27.963 Z M365.285,-27.963 L369.285,-27.963 L369.285,-29.963 L365.285,-29.963 L365.285,-27.963 Z M355.285,-27.963 L359.285,-27.963 L359.285,-29.963 L355.285,-29.963 L355.285,-27.963 Z M345.285,-27.963 L349.285,-27.963 L349.285,-29.963 L345.285,-29.963 L345.285,-27.963 Z M335.285,-27.963 L339.285,-27.963 L339.285,-29.963 L335.285,-29.963 L335.285,-27.963 Z M325.285,-27.963 L329.285,-27.963 L329.285,-29.963 L325.285,-29.963 L325.285,-27.963 Z M315.285,-27.963 L319.285,-27.963 L319.285,-29.963 L315.285,-29.963 L315.285,-27.963 Z M305.285,-27.963 L309.285,-27.963 L309.285,-29.963 L305.285,-29.963 L305.285,-27.963 Z M295.285,-27.963 L299.285,-27.963 L299.285,-29.963 L295.285,-29.963 L295.285,-27.963 Z M285.285,-27.963 L289.285,-27.963 L289.285,-29.963 L285.285,-29.963 L285.285,-27.963 Z M275.285,-27.963 L279.285,-27.963 L279.285,-29.963 L275.285,-29.963 L275.285,-27.963 Z M265.285,-27.963 L269.285,-27.963 L269.285,-29.963 L265.285,-29.963 L265.285,-27.963 Z M255.285,-27.963 L259.285,-27.963 L259.285,-29.963 L255.285,-29.963 L255.285,-27.963 Z M245.285,-27.963 L249.285,-27.963 L249.285,-29.963 L245.285,-29.963 L245.285,-27.963 Z M235.285,-27.963 L239.285,-27.963 L239.285,-29.963 L235.285,-29.963 L235.285,-27.963 Z M225.285,-27.963 L229.285,-27.963 L229.285,-29.963 L225.285,-29.963 L225.285,-27.963 Z M215.285,-27.963 L219.285,-27.963 L219.285,-29.963 L215.285,-29.963 L215.285,-27.963 Z M205.286,-27.963 L209.286,-27.963 L209.286,-29.963 L205.286,-29.963 L205.286,-27.963 Z M195.285,-27.963 L199.285,-27.963 L199.285,-29.963 L195.285,-29.963 L195.285,-27.963 Z M185.285,-27.963 L189.285,-27.963 L189.285,-29.963 L185.285,-29.963 L185.285,-27.963 Z M175.286,-27.963 L179.286,-27.963 L179.286,-29.963 L175.286,-29.963 L175.286,-27.963 Z M165.285,-27.963 L169.285,-27.963 L169.285,-29.963 L165.285,-29.963 L165.285,-27.963 Z M155.286,-27.963 L159.286,-27.963 L159.286,-29.963 L155.286,-29.963 L155.286,-27.963 Z M145.286,-27.963 L149.286,-27.963 L149.286,-29.963 L145.286,-29.963 L145.286,-27.963 Z M135.286,-27.963 L139.286,-27.963 L139.286,-29.963 L135.286,-29.963 L135.286,-27.963 Z M125.286,-27.963 L129.286,-27.963 L129.286,-29.963 L125.286,-29.963 L125.286,-27.963 Z M115.286,-27.963 L119.286,-27.963 L119.286,-29.963 L115.286,-29.963 L115.286,-27.963 Z M105.286,-27.963 L109.286,-27.963 L109.286,-29.963 L105.286,-29.963 L105.286,-27.963 Z M95.286,-27.963 L99.286,-27.963 L99.286,-29.963 L95.286,-29.963 L95.286,-27.963 Z M85.286,-27.963 L89.286,-27.963 L89.286,-29.963 L85.286,-29.963 L85.286,-27.963 Z M75.286,-27.963 L79.286,-27.963 L79.286,-29.963 L75.286,-29.963 L75.286,-27.963 Z M65.286,-27.963 L69.286,-27.963 L69.286,-29.963 L65.286,-29.963 L65.286,-27.963 Z M55.286,-27.963 L59.286,-27.963 L59.286,-29.963 L55.286,-29.963 L55.286,-27.963 Z M45.286,-27.963 L49.286,-27.963 L49.286,-29.963 L45.286,-29.963 L45.286,-27.963 Z M35.286,-27.963 L39.286,-27.963 L39.286,-29.963 L35.286,-29.963 L35.286,-27.963 Z M25.286,-27.963 L29.286,-27.963 L29.286,-29.963 L25.286,-29.963 L25.286,-27.963 Z M15.286,-27.963 L19.286,-27.963 L19.286,-29.963 L15.286,-29.963 L15.286,-27.963 Z M5.286,-27.963 L9.286,-27.963 L9.286,-29.963 L5.286,-29.963 L5.286,-27.963 Z M-4.714,-27.963 L-0.714,-27.963 L-0.714,-29.963 L-4.714,-29.963 L-4.714,-27.963 Z M-14.714,-27.963 L-10.714,-27.963 L-10.714,-29.963 L-14.714,-29.963 L-14.714,-27.963 Z M-24.714,-27.963 L-20.714,-27.963 L-20.714,-29.963 L-24.714,-29.963 L-24.714,-27.963 Z M-34.714,-27.963 L-30.714,-27.963 L-30.714,-29.963 L-34.714,-29.963 L-34.714,-27.963 Z M-44.714,-27.963 L-40.714,-27.963 L-40.714,-29.963 L-44.714,-29.963 L-44.714,-27.963 Z M-54.714,-27.963 L-50.714,-27.963 L-50.714,-29.963 L-54.714,-29.963 L-54.714,-27.963 Z M-64.714,-27.963 L-60.714,-27.963 L-60.714,-29.963 L-64.714,-29.963 L-64.714,-27.963 Z M-74.714,-27.963 L-70.714,-27.963 L-70.714,-29.963 L-74.714,-29.963 L-74.714,-27.963 Z M-84.714,-27.963 L-80.714,-27.963 L-80.714,-29.963 L-84.714,-29.963 L-84.714,-27.963 Z M-94.714,-27.963 L-90.714,-27.963 L-90.714,-29.963 L-94.714,-29.963 L-94.714,-27.963 Z M-104.714,-27.963 L-100.714,-27.963 L-100.714,-29.963 L-104.714,-29.963 L-104.714,-27.963 Z M-114.714,-27.963 L-110.714,-27.963 L-110.714,-29.963 L-114.714,-29.963 L-114.714,-27.963 Z M-124.714,-27.963 L-120.714,-27.963 L-120.714,-29.963 L-124.714,-29.963 L-124.714,-27.963 Z M-134.714,-27.963 L-130.714,-27.963 L-130.714,-29.963 L-134.714,-29.963 L-134.714,-27.963 Z M-144.714,-27.963 L-140.714,-27.963 L-140.714,-29.963 L-144.714,-29.963 L-144.714,-27.963 Z M-154.714,-27.963 L-150.714,-27.963 L-150.714,-29.963 L-154.714,-29.963 L-154.714,-27.963 Z M-164.714,-27.963 L-160.714,-27.963 L-160.714,-29.963 L-164.714,-29.963 L-164.714,-27.963 Z M-174.714,-27.963 L-170.714,-27.963 L-170.714,-29.963 L-174.714,-29.963 L-174.714,-27.963 Z M-184.714,-27.963 L-180.714,-27.963 L-180.714,-29.963 L-184.714,-29.963 L-184.714,-27.963 Z M-194.696,-27.962 L-194.569,-27.963 L-190.714,-27.963 L-190.714,-29.963 L-194.569,-29.963 L-194.732,-29.962 L-194.697,-27.962 L-194.696,-27.962 L-194.696,-27.962 Z M-201.252,-23.054 C-200.899,-24.185 -200.265,-25.194 -199.431,-25.999 L-200.82,-27.438 C-201.89,-26.405 -202.705,-25.108 -203.161,-23.65 L-201.252,-23.054 L-201.252,-23.054 Z M-203.569,-13.39 L-201.569,-13.39 L-201.569,-17.39 L-203.569,-17.39 L-203.569,-13.39 Z M-203.569,-3.39 L-201.569,-3.39 L-201.569,-7.39 L-203.569,-7.39 L-203.569,-3.39 Z M-203.569,6.61 L-201.569,6.61 L-201.569,2.61 L-203.569,2.61 L-203.569,6.61 Z M-203.569,16.61 L-201.569,16.61 L-201.569,12.61 L-203.569,12.61 L-203.569,16.61 Z M-203.569,26.61 L-201.569,26.61 L-201.569,22.61 L-203.569,22.61 L-203.569,26.61 Z M-203.569,36.61 L-201.569,36.61 L-201.569,32.61 L-203.569,32.61 L-203.569,36.61 Z M-203.569,46.61 L-201.569,46.61 L-201.569,42.61 L-203.569,42.61 L-203.569,46.61 Z M-203.569,56.61 L-201.569,56.61 L-201.569,52.61 L-203.569,52.61 L-203.569,56.61 Z M-203.569,66.61 L-201.569,66.61 L-201.569,62.61 L-203.569,62.61 L-203.569,66.61 Z M-203.569,76.61 L-201.569,76.61 L-201.569,72.61 L-203.569,72.61 L-203.569,76.61 Z M-203.569,86.61 L-201.569,86.61 L-201.569,82.61 L-203.569,82.61 L-203.569,86.61 Z M-203.569,96.61 L-201.569,96.61 L-201.569,92.61 L-203.569,92.61 L-203.569,96.61 Z M-203.569,106.61 L-201.569,106.61 L-201.569,102.61 L-203.569,102.61 L-203.569,106.61 Z M-203.569,116.61 L-201.569,116.61 L-201.569,112.61 L-203.569,112.61 L-203.569,116.61 Z M-203.569,126.61 L-201.569,126.61 L-201.569,122.61 L-203.569,122.61 L-203.569,126.61 Z M-203.569,136.61 L-201.569,136.61 L-201.569,132.61 L-203.569,132.61 L-203.569,136.61 Z M-203.569,146.61 L-201.569,146.61 L-201.569,142.61 L-203.569,142.61 L-203.569,146.61 Z M-203.569,156.61 L-201.569,156.61 L-201.569,152.61 L-203.569,152.61 L-203.569,156.61 Z M-203.569,166.61 L-201.569,166.61 L-201.569,162.61 L-203.569,162.61 L-203.569,166.61 Z M-203.569,176.61 L-201.569,176.61 L-201.569,172.61 L-203.569,172.61 L-203.569,176.61 Z M-203.569,186.61 L-201.569,186.61 L-201.569,182.61 L-203.569,182.61 L-203.569,186.61 Z M-203.569,196.61 L-201.569,196.61 L-201.569,192.61 L-203.569,192.61 L-203.569,196.61 Z M-203.569,206.61 L-201.569,206.61 L-201.569,202.61 L-203.569,202.61 L-203.569,206.61 Z M-203.569,216.61 L-201.569,216.61 L-201.569,212.61 L-203.569,212.61 L-203.569,216.61 Z M-203.569,226.61 L-201.569,226.61 L-201.569,222.61 L-203.569,222.61 L-203.569,226.61 Z M-203.569,236.61 L-201.569,236.61 L-201.569,232.61 L-203.569,232.61 L-203.569,236.61 Z M-203.569,246.61 L-201.569,246.61 L-201.569,242.61 L-203.569,242.61 L-203.569,246.61 Z M-203.569,256.61 L-201.569,256.61 L-201.569,252.61 L-203.569,252.61 L-203.569,256.61 Z M-203.569,266.61 L-201.569,266.61 L-201.569,262.61 L-203.569,262.61 L-203.569,266.61 Z M-203.569,276.61 L-201.569,276.61 L-201.569,272.61 L-203.569,272.61 L-203.569,276.61 Z M-203.569,286.61 L-201.569,286.61 L-201.569,282.61 L-203.569,282.61 L-203.569,286.61 Z M-203.569,296.61 L-201.569,296.61 L-201.569,292.61 L-203.569,292.61 L-203.569,296.61 Z M-201.436,306.405 C-201.523,305.964 -201.569,305.506 -201.57,305.037 L-201.57,302.61 L-203.569,302.61 L-203.569,305.037 C-203.569,305.637 -203.51,306.225 -203.398,306.794 L-201.436,306.405 L-201.436,306.405 Z M-195.442,311.983 C-196.635,311.835 -197.732,311.388 -198.662,310.717 L-199.832,312.338 C-198.639,313.2 -197.222,313.778 -195.688,313.968 L-195.441,311.983 L-195.442,311.983 L-195.442,311.983 Z M-189.568,314.037 L-185.568,314.037 L-185.568,312.037 L-189.568,312.037 L-189.568,314.037 Z M-179.568,314.037 L-175.568,314.037 L-175.568,312.037 L-179.568,312.037 L-179.568,314.037 Z M-169.568,314.037 L-165.568,314.037 L-165.568,312.037 L-169.568,312.037 L-169.568,314.037 Z M-159.568,314.037 L-155.568,314.037 L-155.568,312.037 L-159.568,312.037 L-159.568,314.037 Z M-149.568,314.037 L-145.568,314.037 L-145.568,312.037 L-149.568,312.037 L-149.568,314.037 Z M-139.568,314.037 L-135.568,314.037 L-135.568,312.037 L-139.568,312.037 L-139.568,314.037 Z M-129.568,314.037 L-125.568,314.037 L-125.568,312.037 L-129.568,312.037 L-129.568,314.037 Z M-119.568,314.037 L-115.568,314.037 L-115.568,312.037 L-119.568,312.037 L-119.568,314.037 Z M-109.568,314.037 L-105.568,314.037 L-105.568,312.037 L-109.568,312.037 L-109.568,314.037 Z M-99.568,314.037 L-95.568,314.037 L-95.568,312.037 L-99.568,312.037 L-99.568,314.037 Z M-89.568,314.037 L-85.568,314.037 L-85.568,312.037 L-89.568,312.037 L-89.568,314.037 Z M-79.568,314.037 L-75.568,314.037 L-75.568,312.037 L-79.568,312.037 L-79.568,314.037 Z M-69.568,314.037 L-65.568,314.037 L-65.568,312.037 L-69.568,312.037 L-69.568,314.037 Z M-59.568,314.037 L-55.568,314.037 L-55.568,312.037 L-59.568,312.037 L-59.568,314.037 Z M-49.568,314.037 L-45.568,314.037 L-45.568,312.037 L-49.568,312.037 L-49.568,314.037 Z M-39.568,314.037 L-35.568,314.037 L-35.568,312.037 L-39.568,312.037 L-39.568,314.037 Z M-29.568,314.037 L-25.568,314.037 L-25.568,312.037 L-29.568,312.037 L-29.568,314.037 Z M-19.568,314.037 L-15.568,314.037 L-15.568,312.037 L-19.568,312.037 L-19.568,314.037 Z M-9.568,314.037 L-5.568,314.037 L-5.568,312.037 L-9.568,312.037 L-9.568,314.037 Z M0.432,314.037 L4.432,314.037 L4.432,312.037 L0.432,312.037 L0.432,314.037 Z M10.432,314.037 L14.432,314.037 L14.432,312.037 L10.432,312.037 L10.432,314.037 Z M20.431,314.037 L24.431,314.037 L24.431,312.037 L20.431,312.037 L20.431,314.037 Z M30.431,314.037 L34.431,314.037 L34.431,312.037 L30.431,312.037 L30.431,314.037 Z M40.432,314.037 L44.432,314.037 L44.432,312.037 L40.432,312.037 L40.432,314.037 Z M50.431,314.037 L54.431,314.037 L54.431,312.037 L50.431,312.037 L50.431,314.037 Z M60.431,314.037 L64.431,314.037 L64.431,312.037 L60.431,312.037 L60.431,314.037 Z M70.431,314.037 L74.431,314.037 L74.431,312.037 L70.431,312.037 L70.431,314.037 Z M80.431,314.037 L84.431,314.037 L84.431,312.037 L80.431,312.037 L80.431,314.037 Z M90.431,314.037 L94.431,314.037 L94.431,312.037 L90.431,312.037 L90.431,314.037 Z M100.431,314.037 L104.431,314.037 L104.431,312.037 L100.431,312.037 L100.431,314.037 Z M110.431,314.037 L114.431,314.037 L114.431,312.037 L110.431,312.037 L110.431,314.037 Z M120.431,314.037 L124.431,314.037 L124.431,312.037 L120.431,312.037 L120.431,314.037 Z M130.431,314.037 L134.431,314.037 L134.431,312.037 L130.431,312.037 L130.431,314.037 Z M140.431,314.037 L144.431,314.037 L144.431,312.037 L140.431,312.037 L140.431,314.037 Z M150.431,314.037 L154.431,314.037 L154.431,312.037 L150.431,312.037 L150.431,314.037 Z M160.431,314.037 L164.431,314.037 L164.431,312.037 L160.431,312.037 L160.431,314.037 Z M170.431,314.037 L174.431,314.037 L174.431,312.037 L170.431,312.037 L170.431,314.037 Z M180.431,314.037 L184.431,314.037 L184.431,312.037 L180.431,312.037 L180.431,314.037 Z M190.431,314.037 L194.431,314.037 L194.431,312.037 L190.431,312.037 L190.431,314.037 Z M200.431,314.037 L204.431,314.037 L204.431,312.037 L200.431,312.037 L200.431,314.037 Z M210.431,314.037 L214.431,314.037 L214.431,312.037 L210.431,312.037 L210.431,314.037 Z M220.431,314.037 L224.431,314.037 L224.431,312.037 L220.431,312.037 L220.431,314.037 Z M230.431,314.037 L234.431,314.037 L234.431,312.037 L230.431,312.037 L230.431,314.037 Z M240.431,314.037 L244.431,314.037 L244.431,312.037 L240.431,312.037 L240.431,314.037 Z M250.431,314.037 L254.431,314.037 L254.431,312.037 L250.431,312.037 L250.431,314.037 Z M260.431,314.037 L264.431,314.037 L264.431,312.037 L260.431,312.037 L260.431,314.037 Z M270.431,314.037 L274.431,314.037 L274.431,312.037 L270.431,312.037 L270.431,314.037 Z M280.431,314.037 L284.431,314.037 L284.431,312.037 L280.431,312.037 L280.431,314.037 Z M290.431,314.037 L294.431,314.037 L294.431,312.037 L290.431,312.037 L290.431,314.037 Z M300.431,314.037 L304.431,314.037 L304.431,312.037 L300.431,312.037 L300.431,314.037 Z M310.431,314.037 L314.431,314.037 L314.431,312.037 L310.431,312.037 L310.431,314.037 Z M320.431,314.037 L324.431,314.037 L324.431,312.037 L320.431,312.037 L320.431,314.037 Z M330.431,314.037 L334.431,314.037 L334.431,312.037 L330.431,312.037 L330.431,314.037 Z M340.431,314.037 L344.431,314.037 L344.431,312.037 L340.431,312.037 L340.431,314.037 Z M350.431,314.037 L354.431,314.037 L354.431,312.037 L350.431,312.037 L350.431,314.037 Z M360.431,314.037 L364.431,314.037 L364.431,312.037 L360.431,312.037 L360.431,314.037 Z M370.431,314.037 L374.431,314.037 L374.431,312.037 L370.431,312.037 L370.431,314.037 Z M380.431,314.037 L384.431,314.037 L384.431,312.037 L380.431,312.037 L380.431,314.037 Z M390.431,314.037 L394.431,314.037 L394.431,312.037 L390.431,312.037 L390.431,314.037 Z M400.431,314.037 L404.431,314.037 L404.431,312.037 L400.431,312.037 L400.431,314.037 Z M410.431,314.037 L414.431,314.037 L414.431,312.037 L410.431,312.037 L410.431,314.037 Z M420.431,314.037 L424.431,314.037 L424.431,312.037 L420.431,312.037 L420.431,314.037 Z M430.431,314.037 L434.431,314.037 L434.431,312.037 L430.431,312.037 L430.431,314.037 Z M440.431,314.037 L444.431,314.037 L444.431,312.037 L440.431,312.037 L440.431,314.037 Z M450.431,314.037 L454.431,314.037 L454.431,312.037 L450.431,312.037 L450.431,314.037 Z M460.431,314.037 L464.431,314.037 L464.431,312.037 L460.431,312.037 L460.431,314.037 Z M470.431,314.037 L474.431,314.037 L474.431,312.037 L470.431,312.037 L470.431,314.037 Z M480.431,314.037 L484.431,314.037 L484.431,312.037 L480.431,312.037 L480.431,314.037 Z" id="Fill-1" fill="#D3EDFF" sketch:type="MSShapeGroup"></path>\n            <path d="M55,47.094 L55,115.525 L139.167,113.134 C139.167,119.739 144.642,125.094 151.315,125.094 C157.989,125.094 163.581,119.739 163.581,113.134 L247,115.525 L247,47.094 L234.777,47.094 L181.316,54.083 L131.504,54.083 L65.883,47.094 L55,47.094" id="Fill-2" fill="#D3EDFF" sketch:type="MSShapeGroup"></path>\n            <path d="M59,111.224 L136.044,108.531 C143.461,108.531 150,114.561 150,121.998 L150,59.084 C150,48.67 141.516,38.999 131.133,38.999 L59,38.999 L59,111.224" id="Fill-3" fill="#EBF8FF" sketch:type="MSShapeGroup"></path>\n            <path d="M133.143,92.42 L132.143,92.42 C131.867,92.42 131.643,92.643 131.643,92.919 C131.643,93.195 131.867,93.419 132.143,93.419 L133.143,93.419 C133.419,93.419 133.643,93.195 133.643,92.919 C133.643,92.643 133.419,92.42 133.143,92.42 M134.643,90.445 L134.643,90.92 C134.643,91.055 134.625,91.185 134.592,91.31 C134.52,91.576 134.678,91.85 134.945,91.922 C135.212,91.993 135.486,91.835 135.558,91.568 C135.613,91.361 135.643,91.143 135.643,90.92 L135.643,90.445 C135.643,90.169 135.419,89.946 135.144,89.946 C134.868,89.946 134.643,90.169 134.643,90.445 M134.643,86.445 L134.643,87.445 C134.643,87.721 134.866,87.946 135.144,87.946 C135.42,87.946 135.643,87.721 135.643,87.445 L135.643,86.445 C135.643,86.168 135.42,85.945 135.144,85.945 C134.866,85.945 134.643,86.168 134.643,86.445 M134.643,82.445 L134.643,83.445 C134.643,83.721 134.866,83.945 135.144,83.945 C135.42,83.945 135.643,83.721 135.643,83.445 L135.643,82.445 C135.643,82.169 135.42,81.945 135.144,81.945 C134.866,81.945 134.643,82.169 134.643,82.445 M134.643,78.445 L134.643,79.446 C134.643,79.722 134.866,79.945 135.144,79.945 C135.42,79.945 135.643,79.722 135.643,79.446 L135.643,78.445 C135.643,78.169 135.42,77.946 135.144,77.946 C134.866,77.946 134.643,78.169 134.643,78.445 M134.643,74.445 L134.643,75.445 C134.643,75.721 134.866,75.946 135.144,75.946 C135.42,75.946 135.643,75.721 135.643,75.445 L135.643,74.445 C135.643,74.168 135.42,73.945 135.144,73.945 C134.866,73.945 134.643,74.168 134.643,74.445 M134.643,70.445 L134.643,71.445 C134.643,71.721 134.866,71.945 135.144,71.945 C135.42,71.945 135.643,71.721 135.643,71.445 L135.643,70.445 C135.643,70.169 135.42,69.945 135.144,69.945 C134.866,69.945 134.643,70.169 134.643,70.445 M134.643,66.445 L134.643,67.446 C134.643,67.722 134.866,67.945 135.144,67.945 C135.42,67.945 135.643,67.722 135.643,67.446 L135.643,66.445 C135.643,66.169 135.42,65.946 135.144,65.946 C134.866,65.946 134.643,66.169 134.643,66.445 M134.643,62.445 L134.643,63.445 C134.643,63.721 134.866,63.946 135.144,63.946 C135.42,63.946 135.643,63.721 135.643,63.445 L135.643,62.445 C135.643,62.168 135.42,61.945 135.144,61.945 C134.866,61.945 134.643,62.168 134.643,62.445 M134.643,58.445 L134.643,59.445 C134.643,59.721 134.866,59.945 135.144,59.945 C135.42,59.945 135.643,59.721 135.643,59.445 L135.643,58.445 C135.643,58.169 135.42,57.945 135.144,57.945 C134.866,57.945 134.643,58.169 134.643,58.445 M134.193,54.965 C134.371,55.139 134.505,55.356 134.579,55.599 C134.659,55.864 134.939,56.012 135.203,55.933 C135.466,55.852 135.616,55.572 135.536,55.309 C135.412,54.902 135.188,54.54 134.894,54.251 C134.696,54.058 134.379,54.061 134.186,54.258 C133.993,54.455 133.996,54.772 134.193,54.965 M130.695,54.537 L131.695,54.537 C131.971,54.537 132.195,54.312 132.195,54.036 C132.195,53.76 131.971,53.536 131.695,53.536 L130.695,53.536 C130.419,53.536 130.195,53.76 130.195,54.036 C130.195,54.312 130.419,54.537 130.695,54.537 M126.695,54.537 L127.694,54.537 C127.971,54.537 128.195,54.312 128.195,54.036 C128.195,53.76 127.971,53.536 127.694,53.536 L126.695,53.536 C126.419,53.536 126.195,53.76 126.195,54.036 C126.195,54.312 126.419,54.537 126.695,54.537 M122.694,54.537 L123.695,54.537 C123.971,54.537 124.195,54.312 124.195,54.036 C124.195,53.76 123.971,53.536 123.695,53.536 L122.694,53.536 C122.418,53.536 122.195,53.76 122.195,54.036 C122.195,54.312 122.418,54.537 122.694,54.537 M118.695,54.537 L119.695,54.537 C119.971,54.537 120.195,54.312 120.195,54.036 C120.195,53.76 119.971,53.536 119.695,53.536 L118.695,53.536 C118.419,53.536 118.195,53.76 118.195,54.036 C118.195,54.312 118.419,54.537 118.695,54.537 M114.695,54.537 L115.694,54.537 C115.971,54.537 116.195,54.312 116.195,54.036 C116.195,53.76 115.971,53.536 115.694,53.536 L114.695,53.536 C114.419,53.536 114.195,53.76 114.195,54.036 C114.195,54.312 114.419,54.537 114.695,54.537 M110.694,54.537 L111.695,54.537 C111.971,54.537 112.195,54.312 112.195,54.036 C112.195,53.76 111.971,53.536 111.695,53.536 L110.694,53.536 C110.418,53.536 110.195,53.76 110.195,54.036 C110.195,54.312 110.418,54.537 110.694,54.537 M106.695,54.537 L107.695,54.537 C107.971,54.537 108.195,54.312 108.195,54.036 C108.195,53.76 107.971,53.536 107.695,53.536 L106.695,53.536 C106.418,53.536 106.195,53.76 106.195,54.036 C106.195,54.312 106.418,54.537 106.695,54.537 M102.695,54.537 L103.694,54.537 C103.971,54.537 104.195,54.312 104.195,54.036 C104.195,53.76 103.971,53.536 103.694,53.536 L102.695,53.536 C102.419,53.536 102.195,53.76 102.195,54.036 C102.195,54.312 102.419,54.537 102.695,54.537 M98.694,54.537 L99.695,54.537 C99.971,54.537 100.195,54.312 100.195,54.036 C100.195,53.76 99.971,53.536 99.695,53.536 L98.694,53.536 C98.418,53.536 98.195,53.76 98.195,54.036 C98.195,54.312 98.418,54.537 98.694,54.537 M94.695,54.537 L95.695,54.537 C95.971,54.537 96.195,54.312 96.195,54.036 C96.195,53.76 95.971,53.536 95.695,53.536 L94.695,53.536 C94.418,53.536 94.195,53.76 94.195,54.036 C94.195,54.312 94.418,54.537 94.695,54.537 M90.695,54.537 L91.694,54.537 C91.971,54.537 92.195,54.312 92.195,54.036 C92.195,53.76 91.971,53.536 91.694,53.536 L90.695,53.536 C90.419,53.536 90.195,53.76 90.195,54.036 C90.195,54.312 90.419,54.537 90.695,54.537 M86.694,54.537 L87.695,54.537 C87.971,54.537 88.195,54.312 88.195,54.036 C88.195,53.76 87.971,53.536 87.695,53.536 L86.694,53.536 C86.418,53.536 86.195,53.76 86.195,54.036 C86.195,54.312 86.418,54.537 86.694,54.537 M82.695,54.537 L83.695,54.537 C83.971,54.537 84.195,54.312 84.195,54.036 C84.195,53.76 83.971,53.536 83.695,53.536 L82.695,53.536 C82.418,53.536 82.195,53.76 82.195,54.036 C82.195,54.312 82.418,54.537 82.695,54.537 M78.695,54.537 L79.694,54.537 C79.971,54.537 80.195,54.312 80.195,54.036 C80.195,53.76 79.971,53.536 79.694,53.536 L78.695,53.536 C78.419,53.536 78.195,53.76 78.195,54.036 C78.195,54.312 78.419,54.537 78.695,54.537 M75.325,55.108 C75.479,54.912 75.682,54.755 75.914,54.656 C76.167,54.547 76.285,54.254 76.177,54 C76.068,53.746 75.773,53.629 75.52,53.737 C75.132,53.903 74.797,54.163 74.539,54.49 C74.368,54.706 74.406,55.021 74.622,55.192 C74.839,55.363 75.153,55.325 75.325,55.108 M75.004,58.702 L75.004,57.702 C75.004,57.425 74.78,57.201 74.504,57.201 C74.227,57.201 74.003,57.425 74.003,57.702 L74.003,58.702 C74.003,58.978 74.227,59.202 74.504,59.202 C74.78,59.202 75.004,58.978 75.004,58.702 M75.004,62.702 L75.004,61.702 C75.004,61.426 74.78,61.202 74.504,61.202 C74.227,61.202 74.003,61.426 74.003,61.702 L74.003,62.702 C74.003,62.978 74.227,63.202 74.504,63.202 C74.78,63.202 75.004,62.978 75.004,62.702 M75.004,66.702 L75.004,65.701 C75.004,65.426 74.78,65.202 74.504,65.202 C74.227,65.202 74.003,65.426 74.003,65.701 L74.003,66.702 C74.003,66.978 74.227,67.202 74.504,67.202 C74.78,67.202 75.004,66.978 75.004,66.702 M75.004,70.702 L75.004,69.702 C75.004,69.425 74.78,69.201 74.504,69.201 C74.227,69.201 74.003,69.425 74.003,69.702 L74.003,70.702 C74.003,70.978 74.227,71.202 74.504,71.202 C74.78,71.202 75.004,70.978 75.004,70.702 M75.004,74.702 L75.004,73.702 C75.004,73.426 74.78,73.202 74.504,73.202 C74.227,73.202 74.003,73.426 74.003,73.702 L74.003,74.702 C74.003,74.978 74.227,75.202 74.504,75.202 C74.78,75.202 75.004,74.978 75.004,74.702 M75.004,78.702 L75.004,77.701 C75.004,77.426 74.78,77.202 74.504,77.202 C74.227,77.202 74.003,77.426 74.003,77.701 L74.003,78.702 C74.003,78.978 74.227,79.202 74.504,79.202 C74.78,79.202 75.004,78.978 75.004,78.702 M75.004,82.702 L75.004,81.702 C75.004,81.425 74.78,81.201 74.504,81.201 C74.227,81.201 74.003,81.425 74.003,81.702 L74.003,82.702 C74.003,82.978 74.227,83.202 74.504,83.202 C74.78,83.202 75.004,82.978 75.004,82.702 M75.004,86.702 L75.004,85.702 C75.004,85.426 74.78,85.202 74.504,85.202 C74.227,85.202 74.003,85.426 74.003,85.702 L74.003,86.702 C74.003,86.978 74.227,87.202 74.504,87.202 C74.78,87.202 75.004,86.978 75.004,86.702 M75.004,90.702 L75.004,89.701 C75.004,89.426 74.78,89.202 74.504,89.202 C74.227,89.202 74.003,89.426 74.003,89.701 L74.003,90.702 C74.003,90.978 74.227,91.202 74.504,91.202 C74.78,91.202 75.004,90.978 75.004,90.702 M77.143,92.42 L76.504,92.42 C76.411,92.419 76.321,92.411 76.234,92.396 C75.962,92.346 75.703,92.527 75.653,92.798 C75.603,93.069 75.784,93.33 76.055,93.379 C76.201,93.406 76.351,93.419 76.504,93.419 L77.143,93.419 C77.419,93.419 77.643,93.195 77.643,92.919 C77.643,92.643 77.419,92.42 77.143,92.42 M81.143,92.42 L80.143,92.42 C79.867,92.42 79.643,92.643 79.643,92.919 C79.643,93.195 79.867,93.419 80.143,93.419 L81.143,93.419 C81.419,93.419 81.643,93.195 81.643,92.919 C81.643,92.643 81.419,92.42 81.143,92.42 M85.143,92.42 L84.143,92.42 C83.867,92.42 83.643,92.643 83.643,92.919 C83.643,93.195 83.867,93.419 84.143,93.419 L85.143,93.419 C85.419,93.419 85.643,93.195 85.643,92.919 C85.643,92.643 85.419,92.42 85.143,92.42 M89.143,92.42 L88.143,92.42 C87.867,92.42 87.643,92.643 87.643,92.919 C87.643,93.195 87.867,93.419 88.143,93.419 L89.143,93.419 C89.419,93.419 89.643,93.195 89.643,92.919 C89.643,92.643 89.419,92.42 89.143,92.42 M93.143,92.42 L92.143,92.42 C91.867,92.42 91.643,92.643 91.643,92.919 C91.643,93.195 91.867,93.419 92.143,93.419 L93.143,93.419 C93.419,93.419 93.643,93.195 93.643,92.919 C93.643,92.643 93.419,92.42 93.143,92.42 M97.143,92.42 L96.143,92.42 C95.867,92.42 95.643,92.643 95.643,92.919 C95.643,93.195 95.867,93.419 96.143,93.419 L97.143,93.419 C97.419,93.419 97.643,93.195 97.643,92.919 C97.643,92.643 97.419,92.42 97.143,92.42 M101.143,92.42 L100.143,92.42 C99.867,92.42 99.643,92.643 99.643,92.919 C99.643,93.195 99.867,93.419 100.143,93.419 L101.143,93.419 C101.419,93.419 101.643,93.195 101.643,92.919 C101.643,92.643 101.419,92.42 101.143,92.42 M105.143,92.42 L104.143,92.42 C103.867,92.42 103.643,92.643 103.643,92.919 C103.643,93.195 103.867,93.419 104.143,93.419 L105.143,93.419 C105.419,93.419 105.643,93.195 105.643,92.919 C105.643,92.643 105.419,92.42 105.143,92.42 M109.143,92.42 L108.143,92.42 C107.867,92.42 107.643,92.643 107.643,92.919 C107.643,93.195 107.867,93.419 108.143,93.419 L109.143,93.419 C109.419,93.419 109.643,93.195 109.643,92.919 C109.643,92.643 109.419,92.42 109.143,92.42 M113.143,92.42 L112.143,92.42 C111.867,92.42 111.643,92.643 111.643,92.919 C111.643,93.195 111.867,93.419 112.143,93.419 L113.143,93.419 C113.419,93.419 113.643,93.195 113.643,92.919 C113.643,92.643 113.419,92.42 113.143,92.42 M117.143,92.42 L116.143,92.42 C115.867,92.42 115.643,92.643 115.643,92.919 C115.643,93.195 115.867,93.419 116.143,93.419 L117.143,93.419 C117.419,93.419 117.643,93.195 117.643,92.919 C117.643,92.643 117.419,92.42 117.143,92.42 M121.143,92.42 L120.143,92.42 C119.867,92.42 119.643,92.643 119.643,92.919 C119.643,93.195 119.867,93.419 120.143,93.419 L121.143,93.419 C121.419,93.419 121.643,93.195 121.643,92.919 C121.643,92.643 121.419,92.42 121.143,92.42 M125.143,92.42 L124.143,92.42 C123.867,92.42 123.643,92.643 123.643,92.919 C123.643,93.195 123.867,93.419 124.143,93.419 L125.143,93.419 C125.419,93.419 125.643,93.195 125.643,92.919 C125.643,92.643 125.419,92.42 125.143,92.42 M129.143,92.42 L128.143,92.42 C127.867,92.42 127.643,92.643 127.643,92.919 C127.643,93.195 127.867,93.419 128.143,93.419 L129.143,93.419 C129.419,93.419 129.643,93.195 129.643,92.919 C129.643,92.643 129.419,92.42 129.143,92.42" id="Fill-4" fill="#7FCCF8" sketch:type="MSShapeGroup"></path>\n            <path d="M74.504,75.202 C74.227,75.202 74.003,74.978 74.003,74.702 L74.003,73.702 C74.003,73.426 74.227,73.202 74.504,73.202 C74.78,73.202 75.004,73.426 75.004,73.702 L75.004,74.702 C75.004,74.978 74.78,75.202 74.504,75.202 M74.504,71.202 C74.227,71.202 74.003,70.978 74.003,70.702 L74.003,69.702 C74.003,69.425 74.227,69.201 74.504,69.201 C74.78,69.201 75.004,69.425 75.004,69.702 L75.004,70.702 C75.004,70.978 74.78,71.202 74.504,71.202 M74.504,67.202 C74.227,67.202 74.003,66.978 74.003,66.702 L74.003,65.701 C74.003,65.426 74.227,65.202 74.504,65.202 C74.78,65.202 75.004,65.426 75.004,65.701 L75.004,66.702 C75.004,66.978 74.78,67.202 74.504,67.202 M74.504,63.202 C74.227,63.202 74.003,62.978 74.003,62.702 L74.003,61.702 C74.003,61.426 74.227,61.202 74.504,61.202 C74.78,61.202 75.004,61.426 75.004,61.702 L75.004,62.702 C75.004,62.978 74.78,63.202 74.504,63.202 M74.504,59.202 C74.227,59.202 74.003,58.978 74.003,58.702 L74.003,57.702 C74.003,57.425 74.227,57.201 74.504,57.201 C74.78,57.201 75.004,57.425 75.004,57.702 L75.004,58.702 C75.004,58.978 74.78,59.202 74.504,59.202 M74.931,55.299 C74.823,55.299 74.714,55.264 74.622,55.192 C74.406,55.021 74.368,54.706 74.539,54.49 C74.797,54.163 75.132,53.903 75.52,53.737 C75.584,53.71 75.651,53.697 75.717,53.697 C75.911,53.697 76.096,53.811 76.177,54 C76.285,54.254 76.167,54.547 75.914,54.656 C75.682,54.755 75.479,54.912 75.325,55.108 C75.226,55.234 75.079,55.299 74.931,55.299 M78.695,54.537 C78.419,54.537 78.195,54.312 78.195,54.036 C78.195,53.76 78.419,53.536 78.695,53.536 L79.694,53.536 C79.971,53.536 80.195,53.76 80.195,54.036 C80.195,54.312 79.971,54.537 79.694,54.537 L78.695,54.537 M82.695,54.537 C82.418,54.537 82.195,54.312 82.195,54.036 C82.195,53.76 82.418,53.536 82.695,53.536 L83.695,53.536 C83.971,53.536 84.195,53.76 84.195,54.036 C84.195,54.312 83.971,54.537 83.695,54.537 L82.695,54.537 M86.694,54.537 C86.418,54.537 86.195,54.312 86.195,54.036 C86.195,53.76 86.418,53.536 86.694,53.536 L87.695,53.536 C87.971,53.536 88.195,53.76 88.195,54.036 C88.195,54.312 87.971,54.537 87.695,54.537 L86.694,54.537 M90.695,54.537 C90.419,54.537 90.195,54.312 90.195,54.036 C90.195,53.76 90.419,53.536 90.695,53.536 L91.694,53.536 C91.971,53.536 92.195,53.76 92.195,54.036 C92.195,54.312 91.971,54.537 91.694,54.537 L90.695,54.537 M94.695,54.537 C94.418,54.537 94.195,54.312 94.195,54.036 C94.195,53.76 94.418,53.536 94.695,53.536 L95.695,53.536 C95.971,53.536 96.195,53.76 96.195,54.036 C96.195,54.312 95.971,54.537 95.695,54.537 L94.695,54.537 M98.694,54.537 C98.418,54.537 98.195,54.312 98.195,54.036 C98.195,53.76 98.418,53.536 98.694,53.536 L99.695,53.536 C99.971,53.536 100.195,53.76 100.195,54.036 C100.195,54.312 99.971,54.537 99.695,54.537 L98.694,54.537 M102.695,54.537 C102.419,54.537 102.195,54.312 102.195,54.036 C102.195,53.76 102.419,53.536 102.695,53.536 L103.694,53.536 C103.971,53.536 104.195,53.76 104.195,54.036 C104.195,54.312 103.971,54.537 103.694,54.537 L102.695,54.537 M106.695,54.537 C106.418,54.537 106.195,54.312 106.195,54.036 C106.195,53.76 106.418,53.536 106.695,53.536 L107.695,53.536 C107.971,53.536 108.195,53.76 108.195,54.036 C108.195,54.312 107.971,54.537 107.695,54.537 L106.695,54.537 M110.694,54.537 C110.418,54.537 110.195,54.312 110.195,54.036 C110.195,53.76 110.418,53.536 110.694,53.536 L111.695,53.536 C111.971,53.536 112.195,53.76 112.195,54.036 C112.195,54.312 111.971,54.537 111.695,54.537 L110.694,54.537 M114.695,54.537 C114.419,54.537 114.195,54.312 114.195,54.036 C114.195,53.76 114.419,53.536 114.695,53.536 L115.694,53.536 C115.971,53.536 116.195,53.76 116.195,54.036 C116.195,54.312 115.971,54.537 115.694,54.537 L114.695,54.537 M118.695,54.537 C118.419,54.537 118.195,54.312 118.195,54.036 C118.195,53.76 118.419,53.536 118.695,53.536 L119.695,53.536 C119.971,53.536 120.195,53.76 120.195,54.036 C120.195,54.312 119.971,54.537 119.695,54.537 L118.695,54.537 M114.786,39 L69.122,39 L61,42.535 L61,66.888 L66.775,80.151 C67.102,80.903 67.838,81.352 68.61,81.352 C68.876,81.352 69.147,81.299 69.407,81.186 L74.2,79.099 C74.08,79.008 74.003,78.864 74.003,78.702 L74.003,77.701 C74.003,77.426 74.227,77.202 74.504,77.202 C74.78,77.202 75.004,77.426 75.004,77.701 L75.004,78.702 C75.004,78.718 75.003,78.734 75.001,78.75 L121.162,58.652 C122.175,58.211 122.638,57.032 122.198,56.02 L114.786,39" id="Fill-5" fill="#B7E0FA" sketch:type="MSShapeGroup"></path>\n            <path d="M74.504,77.202 C74.227,77.202 74.003,77.426 74.003,77.701 L74.003,78.702 C74.003,78.864 74.08,79.008 74.2,79.099 L75.001,78.75 C75.003,78.734 75.004,78.718 75.004,78.702 L75.004,77.701 C75.004,77.426 74.78,77.202 74.504,77.202 M74.504,73.202 C74.227,73.202 74.003,73.426 74.003,73.702 L74.003,74.702 C74.003,74.978 74.227,75.202 74.504,75.202 C74.78,75.202 75.004,74.978 75.004,74.702 L75.004,73.702 C75.004,73.426 74.78,73.202 74.504,73.202 M74.504,69.201 C74.227,69.201 74.003,69.425 74.003,69.702 L74.003,70.702 C74.003,70.978 74.227,71.202 74.504,71.202 C74.78,71.202 75.004,70.978 75.004,70.702 L75.004,69.702 C75.004,69.425 74.78,69.201 74.504,69.201 M74.504,65.202 C74.227,65.202 74.003,65.426 74.003,65.701 L74.003,66.702 C74.003,66.978 74.227,67.202 74.504,67.202 C74.78,67.202 75.004,66.978 75.004,66.702 L75.004,65.701 C75.004,65.426 74.78,65.202 74.504,65.202 M74.504,61.202 C74.227,61.202 74.003,61.426 74.003,61.702 L74.003,62.702 C74.003,62.978 74.227,63.202 74.504,63.202 C74.78,63.202 75.004,62.978 75.004,62.702 L75.004,61.702 C75.004,61.426 74.78,61.202 74.504,61.202 M74.504,57.201 C74.227,57.201 74.003,57.425 74.003,57.702 L74.003,58.702 C74.003,58.978 74.227,59.202 74.504,59.202 C74.78,59.202 75.004,58.978 75.004,58.702 L75.004,57.702 C75.004,57.425 74.78,57.201 74.504,57.201 M75.717,53.697 C75.651,53.697 75.584,53.71 75.52,53.737 C75.132,53.903 74.797,54.163 74.539,54.49 C74.368,54.706 74.406,55.021 74.622,55.192 C74.714,55.264 74.823,55.299 74.931,55.299 C75.079,55.299 75.226,55.234 75.325,55.108 C75.479,54.912 75.682,54.755 75.914,54.656 C76.167,54.547 76.285,54.254 76.177,54 C76.096,53.811 75.911,53.697 75.717,53.697 M79.694,53.536 L78.695,53.536 C78.419,53.536 78.195,53.76 78.195,54.036 C78.195,54.312 78.419,54.537 78.695,54.537 L79.694,54.537 C79.971,54.537 80.195,54.312 80.195,54.036 C80.195,53.76 79.971,53.536 79.694,53.536 M83.695,53.536 L82.695,53.536 C82.418,53.536 82.195,53.76 82.195,54.036 C82.195,54.312 82.418,54.537 82.695,54.537 L83.695,54.537 C83.971,54.537 84.195,54.312 84.195,54.036 C84.195,53.76 83.971,53.536 83.695,53.536 M87.695,53.536 L86.694,53.536 C86.418,53.536 86.195,53.76 86.195,54.036 C86.195,54.312 86.418,54.537 86.694,54.537 L87.695,54.537 C87.971,54.537 88.195,54.312 88.195,54.036 C88.195,53.76 87.971,53.536 87.695,53.536 M91.694,53.536 L90.695,53.536 C90.419,53.536 90.195,53.76 90.195,54.036 C90.195,54.312 90.419,54.537 90.695,54.537 L91.694,54.537 C91.971,54.537 92.195,54.312 92.195,54.036 C92.195,53.76 91.971,53.536 91.694,53.536 M95.695,53.536 L94.695,53.536 C94.418,53.536 94.195,53.76 94.195,54.036 C94.195,54.312 94.418,54.537 94.695,54.537 L95.695,54.537 C95.971,54.537 96.195,54.312 96.195,54.036 C96.195,53.76 95.971,53.536 95.695,53.536 M99.695,53.536 L98.694,53.536 C98.418,53.536 98.195,53.76 98.195,54.036 C98.195,54.312 98.418,54.537 98.694,54.537 L99.695,54.537 C99.971,54.537 100.195,54.312 100.195,54.036 C100.195,53.76 99.971,53.536 99.695,53.536 M103.694,53.536 L102.695,53.536 C102.419,53.536 102.195,53.76 102.195,54.036 C102.195,54.312 102.419,54.537 102.695,54.537 L103.694,54.537 C103.971,54.537 104.195,54.312 104.195,54.036 C104.195,53.76 103.971,53.536 103.694,53.536 M107.695,53.536 L106.695,53.536 C106.418,53.536 106.195,53.76 106.195,54.036 C106.195,54.312 106.418,54.537 106.695,54.537 L107.695,54.537 C107.971,54.537 108.195,54.312 108.195,54.036 C108.195,53.76 107.971,53.536 107.695,53.536 M111.695,53.536 L110.694,53.536 C110.418,53.536 110.195,53.76 110.195,54.036 C110.195,54.312 110.418,54.537 110.694,54.537 L111.695,54.537 C111.971,54.537 112.195,54.312 112.195,54.036 C112.195,53.76 111.971,53.536 111.695,53.536 M115.694,53.536 L114.695,53.536 C114.419,53.536 114.195,53.76 114.195,54.036 C114.195,54.312 114.419,54.537 114.695,54.537 L115.694,54.537 C115.971,54.537 116.195,54.312 116.195,54.036 C116.195,53.76 115.971,53.536 115.694,53.536 M119.695,53.536 L118.695,53.536 C118.419,53.536 118.195,53.76 118.195,54.036 C118.195,54.312 118.419,54.537 118.695,54.537 L119.695,54.537 C119.971,54.537 120.195,54.312 120.195,54.036 C120.195,53.76 119.971,53.536 119.695,53.536" id="Fill-6" fill="#64B9F2" sketch:type="MSShapeGroup"></path>\n            <path d="M231.509,146.805 C231.509,148.461 194.349,149.805 148.509,149.805 C102.669,149.805 65.509,148.461 65.509,146.805 C65.509,145.148 102.669,143.805 148.509,143.805 C194.349,143.805 231.509,145.148 231.509,146.805" id="Fill-7" fill="#EBF8FF" sketch:type="MSShapeGroup"></path>\n            <path d="M243,111.224 L166.137,108.531 C158.72,108.531 152,114.561 152,121.998 L152,59.083 C152,48.67 160.723,38.998 171.106,38.998 L243,38.998 L243,111.224" id="Fill-8" fill="#EBF8FF" sketch:type="MSShapeGroup"></path>\n            <path d="M227,91.897 L170.448,91.897 C169.343,91.897 168.448,91.002 168.448,89.897 L168.448,55.037 C168.448,53.933 169.343,53.037 170.448,53.037 L227,53.037 C228.105,53.037 229,53.933 229,55.037 L229,89.897 C229,91.002 228.105,91.897 227,91.897" id="Fill-9" fill="#B1DDF9" sketch:type="MSShapeGroup"></path>\n            <path d="M201.68,81.213 L193.624,72.639 L198.161,84.878 L201.68,81.213" id="Fill-10" fill="#7FCCF8" sketch:type="MSShapeGroup"></path>\n            <path d="M215.83,66.812 L201.68,81.345 L201.766,81.42 L201.68,81.368 L198.161,84.979 L198.171,85.102 L198.161,85.074 L198.092,85.097 L198.161,85.024 L193.624,72.807 L175.183,91.897 L224.963,91.897 L215.83,66.812" id="Fill-11" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n            <path d="M224.963,91.897 L229,91.897 L229,80.731 L215.83,66.693 L224.963,91.897" id="Fill-12" fill="#7FCCF8" sketch:type="MSShapeGroup"></path>\n            <path d="M186.429,64.153 C186.429,61.792 184.515,59.877 182.154,59.877 C179.793,59.877 177.878,61.792 177.878,64.153 C177.878,66.514 179.793,68.428 182.154,68.428 C184.515,68.428 186.429,66.514 186.429,64.153" id="Fill-13" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n            <path d="M168,97 L229,97 L229,98 L168,98 L168,97 Z" id="Fill-14" fill="#B1DDF9" sketch:type="MSShapeGroup"></path>\n            <path d="M168,101 L206,101 L206,102 L168,102 L168,101 Z" id="Fill-15" fill="#B1DDF9" sketch:type="MSShapeGroup"></path>\n            <path d="M100,73.537 L110,73.537 L110,74.537 L100,74.537 L100,73.537 Z" id="Fill-16" fill="#7FCCF8" sketch:type="MSShapeGroup"></path>\n            <path d="M104.5,69.037 L105.5,69.037 L105.5,79.037 L104.5,79.037 L104.5,69.037 Z" id="Fill-17" fill="#7FCCF8" sketch:type="MSShapeGroup"></path>\n            <path d="M113.166,55.404 L61.411,77.938 C60.398,78.379 59.22,77.915 58.778,76.903 L44.889,45.002 C44.448,43.989 44.912,42.811 45.924,42.37 L97.68,19.836 C98.693,19.395 99.871,19.858 100.312,20.871 L114.202,52.772 C114.643,53.784 114.179,54.963 113.166,55.404" id="Fill-18" fill="#7FCCF8" sketch:type="MSShapeGroup"></path>\n            <path d="M110.822,44.56 L107.083,35.972 C92.246,34.121 77.912,43.39 73.842,58.233 C72.481,63.195 72.431,68.205 73.471,72.903 L115.243,54.715 L110.822,44.56" id="Fill-19" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n            <path d="M95.784,50.749 C94.649,54.891 96.217,59.132 99.416,61.606 L115.243,54.715 L110.822,44.56 C110.082,44.135 109.284,43.786 108.423,43.55 C102.945,42.048 97.287,45.271 95.784,50.749" id="Fill-20" fill="#D3EDFF" sketch:type="MSShapeGroup"></path>\n            <path d="M84.315,51.416 C81.649,50.685 78.895,52.253 78.164,54.919 C77.433,57.585 79.001,60.339 81.667,61.07 C84.333,61.801 87.087,60.233 87.818,57.567 C88.549,54.901 86.981,52.147 84.315,51.416" id="Fill-21" fill="#D3EDFF" sketch:type="MSShapeGroup"></path>\n            <path d="M93.263,59.952 C91.546,59.481 89.773,60.491 89.302,62.207 C88.956,63.472 89.417,64.763 90.368,65.546 L95.626,63.256 C95.719,61.765 94.76,60.362 93.263,59.952" id="Fill-22" fill="#D3EDFF" sketch:type="MSShapeGroup"></path>\n            <path d="M73.002,44.582 L80.002,39.5 L76.924,35.26 L69.924,40.341 L73.002,44.582" id="Fill-23" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n            <path d="M75.954,35.045 L84.603,46.341 L85.397,45.733 L76.748,34.437" id="Fill-24" fill="#D3EDFF" sketch:type="MSShapeGroup"></path>\n            <path d="M65.089,51.633 L62.696,51.951 L64.585,50.476 L64.586,50.479 L64.267,48.084 L65.742,49.976 L65.739,49.97 L68.132,49.652 L66.243,51.127 L66.562,53.522 L65.088,51.63 L65.089,51.633" id="Fill-25" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n            <path d="M61.463,58.836 C61.768,59.537 61.447,60.354 60.746,60.66 C60.044,60.965 59.227,60.644 58.922,59.942 C58.616,59.24 58.938,58.424 59.639,58.118 C60.341,57.813 61.158,58.134 61.463,58.836" id="Fill-26" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n            <path d="M94.984,30.573 C95.289,31.275 94.968,32.092 94.266,32.397 C93.565,32.703 92.748,32.381 92.443,31.68 C92.137,30.978 92.458,30.162 93.16,29.856 C93.862,29.55 94.678,29.872 94.984,30.573" id="Fill-27" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n            <path d="M56.855,46.773 C57.047,47.213 56.846,47.726 56.404,47.919 C55.963,48.111 55.45,47.909 55.258,47.468 C55.066,47.027 55.268,46.513 55.709,46.322 C56.15,46.129 56.663,46.331 56.855,46.773" id="Fill-28" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n            <path d="M68.005,66.841 C68.197,67.282 67.995,67.795 67.554,67.987 C67.113,68.179 66.6,67.977 66.408,67.536 C66.216,67.095 66.418,66.582 66.859,66.39 C67.3,66.198 67.813,66.4 68.005,66.841" id="Fill-29" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n        </g>\n    </g>\n</svg>',
zoomIn:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    \x3c!-- Generator: Sketch 3.3 (11970) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>L_Zoom In</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M8,5 L7,5 L7,7 L5,7 L5,8 L7,8 L7,10 L8,10 L8,8 L10,8 L10,7 L8,7 L8,5 L8,5 Z M12.646,11.895 C13.711,10.675 14.262,9.167 14.262,7.469 C14.262,3.718 11.221,0.677 7.469,0.677 C3.718,0.677 0.677,3.718 0.677,7.469 C0.677,11.221 3.718,14.262 7.469,14.262 C9.159,14.262 10.733,13.746 11.958,12.697 L14.938,15.677 L15.677,14.938 L12.646,11.895 L12.646,11.895 Z M7.469,13.217 C4.3,13.217 1.722,10.639 1.722,7.469 C1.722,4.3 4.3,1.722 7.469,1.722 C10.639,1.722 13.217,4.3 13.217,7.469 C13.217,10.639 10.639,13.217 7.469,13.217 L7.469,13.217 Z" id="L_Zoom-In" fill="#1D2D3C" sketch:type="MSShapeGroup"></path>\n    </g>\n</svg>'});var translation=angular.module("translation",[]);translation.service("translationService",[function(){this.translation={lang:"en",map:{}},this.setTranslation=function(data){this.translation.map=data.map||data,data.lang&&(this.translation.lang=data.lang)},this.getLang=function(){return this.translation.lang},this.translate=function(key){return this.translation.map[key]||key}}]),translation.directive("translate",["translationService",function(translationService){return{restrict:"A",controller:function($scope,$element,$attrs){var el=$element[0],update=function(){var placeholder=$attrs.placeholder,tooltip=el.getAttribute("data-tooltip");"textarea"!==el.type&&this._getTextNodes().forEach(function(textNode){textNode.textContent=translationService.translate(textNode.textContent.trim())},this),placeholder&&el.setAttribute("placeholder",translationService.translate(placeholder.trim())),tooltip&&el.setAttribute("data-tooltip",translationService.translate(tooltip.trim()))}.bind(this);$scope.$watch(function(){return translationService.translation.map},update),$scope.$watch(function(){return $element.text()},update),this._getTextNodes=function(){var node,textNodes=[];if(el)for(node=el.firstChild;node;)3===node.nodeType&&textNodes.push(node),node=node.nextSibling;return textNodes}}}}]);var bi=angular.module("bi",[]);bi.service("biService",[function(){"use strict";var pms;this.changes={},this.changesCollector=function(){},this.sendBiEvent=function(eventName,param){var data={name:eventName};if(param&&(data.params={c1:param}),!pms)throw new ReferenceError("Can't send a postMessage. PMS should be setup before attempt to send a BI event.");pms.send("bi",data)},this.setPMS=function(arg){if(arg instanceof PMS)pms=arg;else{if(arg.constructor!==Object)throw new TypeError("Incorrect argument type. Should be a settings Object or instance of the PMS.");pms=new PMS({connectionID:arg.connectionID,targetWindow:arg.targetWindow})}},this.setup=function(sets){sets.pms&&this.setPMS(sets.pms),sets.changesCollector&&(this.changesCollector=sets.changesCollector)},this.collectChanges=function(biData){biData.changesCollector?biData.changesCollector(biData,this.changes):this.changesCollector(biData,this.changes)},this.sendCollectedChanges=function(){pms.send("biChanges",this.changes),this.changes={}}}]),bi.directive("biEvent",["biService",function(biService){return{restrict:"A",controller:function($scope,$element,$attrs){var bind="on",type=$attrs.biEventType||"click";"once"===$attrs.biEventBind&&(bind="one"),$element[bind](type,function(){$attrs.biEventCollect?biService.collectChanges({biEvent:$attrs.biEvent,biEventParam:$attrs.biEventParam,biEventBind:$attrs.biEventBind,biEventType:$attrs.biEventType,biEventEl:$element[0]}):biService.sendBiEvent($attrs.biEvent,$attrs.biEventParam)})}}}]),"transition"in document.documentElement.style?(window.transitionName="transition",window.transitionEndEvent="transitionend"):"webkitTransition"in document.documentElement.style&&(window.transitionName="webkitTransition",window.transitionEndEvent="webkitTransitionEnd"),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.$win=$(window);var app=angular.module("organizeImages",["translation","bi","symbols"]);!function(){"use strict";app.config(["$locationProvider",function($locationProvider){$locationProvider.html5Mode(!0)}]),app.value("appConfig",{galleryType:"galleryType",experiments:""}),app.run(["$location","appConfig",function($location,appConfig){angular.extend(appConfig,$location.search()),"socialIcons"===appConfig.galleryType?(appConfig.helpId="6377d68a-a81f-4fd7-a675-f5a79f7e7ea9",appConfig.dialogTitle="ORGANIZE_ICONS_DIALOG_TITLE"):(appConfig.helpId="afc9efce-faab-42ec-87aa-e5dafe3b29fe",appConfig.dialogTitle="OrganizeImages_IMAGES_DIALOG_TITLE"),appConfig.showLinkTo="false"!==appConfig.showLinkTo}])}(),app.service("transportService",["$rootScope","translationService","biService",function($rootScope,translationService,biService){var uniqueID,presetImgs,pms=this.pms=new PMS({connectionID:"OrganizeImages",targetWindow:window.parent}),saved=!1;this.addImages=function(newImages){var images=[],addMethod=this.userSets.addMethod;newImages.forEach(function(item){images.push({id:this.getNewID(),data:this._getNeededData(item.data),linkText:"",position:this.images.length-1})},this),"splice"!==this.userSets.addMethod?this.images[addMethod].apply(this.images,images):this.images.splice.apply(this.images,[this.selectedImgIndex+1,0].concat(images)),pms.trigger("added, changed",images)},this.changeImage=function(pos,data){var i,image=this.images[pos].data;for(i in image)image.hasOwnProperty(i)&&data.hasOwnProperty(i)&&(image[i]=data[i]);pms.trigger("changed",image)},this.getNewID=function(){return"new_"+uniqueID++},this.removeImg=function(key){var biEventParam,removed=this.images.splice(key,1);biEventParam=presetImgs&&presetImgs.length&&removed.length&&presetImgs.indexOf(removed[0].data.uri)>-1?"1":"0",biService.sendBiEvent("ORGIMAGES_CLICK_DELETE",biEventParam),pms.trigger("removed, changed",removed)},this.reorderImgs=function(from,to){var moved=this.images.splice(from,1)[0];return this.images.splice(to,0,moved),pms.trigger("reordered, changed",moved),biService.collectChanges({biEvent:"ORGIMAGES_START_REORDERING"}),moved},this.close=function(){pms.off("changed"),biService.sendCollectedChanges(),pms.send("closed")},this.save=function(){saved||(pms.send("save",this.images),saved=!0)},this.openLinkDialog=function(data){pms.send("openLinkDialog",data)},this.sendUserSets=function(){pms.send("setUserSets",this.userSets)},this.openMediaGallery=function(){pms.send("openMediaGallery")},this.openHelpCenter=function(options){pms.send("openHelpCenter",options)},this.openMediaGalleryForReplace=function(position){pms.send("openMediaGalleryForReplace",{position:position})},this._set=function(e){var data=e.data,userSets=data.userSets;this.topology=data.topology,$rootScope.$apply(function(){var userSetsProps=userSets?Object.keys(userSets):[];userSetsProps.length&&userSetsProps.forEach(function(p){this.userSets[p]=userSets[p]},this),translationService.setTranslation(data.translation),this.images.push.apply(this.images,data.images)}.bind(this)),pms.once("changed",function(){this.isChanged=!0},this),data.isPreset&&(presetImgs=[],data.images.forEach(function(image){presetImgs.push(image.data.uri)})),pms.trigger("setup"),pms.send("setup")},this._add=function(imageData){$rootScope.$apply(function(){this.addImages(imageData.data)}.bind(this))},this._replace=function(replaceData){replaceData=replaceData.data,$rootScope.$apply(function(){this.changeImage(replaceData.position,this._getNeededData(replaceData.data.data))}.bind(this))},this._setLink=function(e){var data=e.data,img=this.images[data.imgData.position];biService.collectChanges({biEvent:"ORGIMAGES_ADD_LINK"}),$rootScope.$apply(function(){pms.trigger("changed"),img.data.link=data.link,img.linkText=data.linkText,img.id!==data.id&&(img.id=data.id)})},this._getNeededData=function(data){return{uri:data.uri,height:data.height,width:data.width,title:this._getTitle(data)}},this._setDefaults=function(){uniqueID=0,presetImgs=null,this.isChanged=!1,this.topology={},this.selectedImgIndex=0,this.images.length=0,saved=!1,this.userSets={addMethod:"unshift",keepTitles:!0}},this._saveAndClose=function(){this.save(),this.close()},this._getTitle=function(data){return this.userSets.keepTitles?(data.title||data.fileName).replace(/\.[^\/\.]+$/,""):""},this.images=[],this._setDefaults(),biService.setup({pms:pms,changesCollector:function(biData,changesCollection){changesCollection[biData.biEvent]||(changesCollection[biData.biEvent]=biData.biEventParam||!0)}}),pms.send("ready"),pms.on("set",this._set,this),pms.on("add",this._add,this),pms.on("replace",this._replace,this),pms.on("setLink",this._setLink,this)}]),app.directive("customScroll",["$window",function($window){return{restrict:"E",templateUrl:"partials/customScrollTpl.html",transclude:!0,replace:!0,scope:{className:"@",allowOuterScroll:"=",heightRelativetoParent:"@",freezePosition:"="},link:function($scope,$el,$attr,$controller){var $document=$($window.document),refs={domNode:$el[0],scrollHandle:$el.find('[ref="scrollHandle"]')[0],innerContainer:$el.find('[ref="innerContainer"]')[0],contentWrapper:$el.find('[ref="contentWrapper"]')[0]};$scope.styles={root:{},contentWrapper:{},innerContainer:{},outerContainer:{},scrollHandle:{}},$scope.state={hasScroll:!1,onDrag:!1,scrollPos:0,scrollRatio:0,scrollbarYWidth:0,visibleHeight:0,position:{top:0,left:0}};var self={forceUpdate:function(){var boundingRect=refs.domNode.getBoundingClientRect(),innerContainer=refs.innerContainer,contentHeight=innerContainer.scrollHeight;$scope.state.scrollbarYWidth=innerContainer.offsetWidth-innerContainer.clientWidth,$scope.state.visibleHeight=innerContainer.clientHeight,$scope.state.scrollRatio=contentHeight?$scope.state.visibleHeight/contentHeight:1,$scope.state.hasScroll=contentHeight-$scope.state.visibleHeight>1,$scope.state.position={top:boundingRect.top+$(window).scrollTop(),left:boundingRect.left+$(window).scrollLeft()},self.updateScrollStyles()},componentDidUpdate:function(prevProps){self.forceUpdate(),self.freezePosition()},freezePosition:function(prevProps){var contentWrapper=(refs.innerContainer,refs.contentWrapper);$scope.freezePosition&&(contentWrapper.scrollTop=$scope.state.scrollPos)},updateScrollPosition:function(scrollValue){refs.innerContainer.scrollTop=scrollValue,$scope.state.scrollPos=scrollValue},isClickOnScrollHandle:function(event){return event.target===refs.scrollHandle},calculateNewScrollHandleTop:function(clickEvent){var scrollHandleHeight=$scope.state.visibleHeight*$scope.state.scrollRatio,clickYRelativeToScrollbar=clickEvent.pageY-$scope.state.position.top,scrollHandleTop=self.getScrollHandleStyle().top,isBelowHandle=clickYRelativeToScrollbar>scrollHandleTop+scrollHandleHeight;return isBelowHandle?scrollHandleTop+Math.min(scrollHandleHeight,$scope.state.visibleHeight-scrollHandleHeight):scrollHandleTop-Math.max(scrollHandleHeight,0)},getScrollValueFromHandlePosition:function(handlePosition){return handlePosition/$scope.state.scrollRatio},getScrolledElement:function(){return refs.innerContainer},ensureWithinLimits:function(value,min,max){return min=null===min?value:min,max=null===max?value:max,min>max&&(max=min+100),value<min?min:value>max?max:value},onHandleDrag:function(event){var mouseDeltaY=event.pageY-self.startDragMousePos,handleTopPosition=self.ensureWithinLimits(self.startDragHandlePos+mouseDeltaY,0,$scope.state.visibleHeight-self.scrollHandleHeight),newScrollValue=self.getScrollValueFromHandlePosition(handleTopPosition);$scope.$apply(function(){self.updateScrollPosition(newScrollValue)})},onHandleDragEnd:function(){$scope.state.onDrag=!1,$document.off("mousemove",self.onHandleDrag),$document.off("mouseup",self.onHandleDragEnd)},updateScrollStyles:function(){var handlePosition=$scope.state.scrollPos*$scope.state.scrollRatio,scrollHandleHeight=$scope.state.visibleHeight*$scope.state.scrollRatio,scrollSize=$scope.state.scrollbarYWidth||20;$scope.styles.root={height:$scope.heightRelativetoParent},$scope.styles.innerContainer={"margin-right":-scrollSize},$scope.styles.outerContainer={height:$scope.heightRelativetoParent?"100%":""},$scope.styles.contentWrapper={height:$scope.heightRelativetoParent?"100%":"","margin-right":$scope.state.scrollbarYWidth?0:scrollSize+"px","overflow-y":$scope.freezePosition?"hidden":"visible"},$scope.styles.scrollHandle={height:scrollHandleHeight,top:handlePosition}},getScrollHandleStyle:function(){return this.updateScrollStyles(),$scope.styles.scrollHandle}};$scope.onCustomScrollClick=function(event){if(!self.isClickOnScrollHandle(event)){var newScrollHandleTop=self.calculateNewScrollHandleTop(event),newScrollValue=self.getScrollValueFromHandlePosition(newScrollHandleTop);self.updateScrollPosition(newScrollValue)}},$scope.onHandleMouseDown=function(event){self.startDragHandlePos=self.getScrollHandleStyle().top,self.startDragMousePos=event.pageY,$scope.state.onDrag=!0,$document.on("mousemove",self.onHandleDrag),$document.on("mouseup",self.onHandleDragEnd)},$scope.$watch(function(){return refs.domNode.offsetHeight+"x"+refs.contentWrapper.offsetHeight},function(newValue,oldValue){self.forceUpdate()}),$(refs.innerContainer).on("scroll",function(e){$scope.$apply(function(){$scope.freezePosition||($scope.state.scrollPos=e.currentTarget.scrollTop,self.forceUpdate())})}),$(refs.innerContainer).on("wheel",function(e){$scope.$apply(function(){if(!$scope.allowOuterScroll){var contentNode=e.currentTarget,totalHeight=contentNode.scrollHeight,maxScroll=totalHeight-contentNode.offsetHeight,deltaY=e.originalEvent.deltaY||0,delta=deltaY%3?deltaY:10*deltaY;contentNode.scrollTop+delta<=0?(contentNode.scrollTop=0,e.preventDefault()):contentNode.scrollTop+delta>=maxScroll&&(contentNode.scrollTop=maxScroll,e.preventDefault()),e.stopPropagation()}})}),self.forceUpdate()}}}]),app.directive("infotip",[function(){return{restrict:"E",templateUrl:"partials/infotipTpl.html",replace:!0,link:function($scope,$el,$attrs,$controller){$scope.extraClass=$attrs.extraClass,$scope.label=$attrs.label}}}]),app.directive("selectOnFocus",[function(){function selectInputContent(target){$(target).select()}return{restrict:"A",link:function($scope,$el,$attr,$controller){$el.on("focus",function(e){setTimeout(selectInputContent,25,e.target)}),$el.on("blur",function(e){e.target.scrollTop=0})}}}]),app.directive("symbol",["svgImages",function(svgImages){"use strict";return{restrict:"E",link:function($scope,$element,$attrs){function onIconChange(icon){if(angular.isDefined(icon)){var svg=angular.element(svgImages[icon]);svg.attr("class","bm-icon"),$element.append(svg),onExtraClassChange($attrs.svgExtraClass),onIconFullChange($attrs.iconFull)}}function onExtraClassChange(extraClass){var svg=$element.find("svg");angular.isDefined(extraClass)&&svg.length&&svg[0].setAttribute("class","bm-icon "+extraClass)}function onIconFullChange(iconFull){if(angular.isDefined(iconFull)){var svg=$element.find("svg"),viewBox=svg[0].getAttribute("viewBox").split(/\s+/).map(function(item){return parseInt(item,10)});iconFull?(svg.css("width",viewBox[2]),svg.css("height",viewBox[3]),$element.css("height",viewBox[3])):(svg.css("width",null),svg.css("height",null),$element.css("height",null))}}onIconChange($attrs.icon),$attrs.$observe($attrs.icon,onIconChange),$scope.$watch(function(){return $attrs.svgExtraClass},onExtraClassChange),$attrs.$observe($attrs.iconFull,onIconFullChange)}}}]),app.directive("dialog",["$window","$document","$timeout","transportService","translationService","biService","appConfig",function($window,$document,$timeout,transportService,translationService,biService,appConfig){"use strict";function extendScopeWithDialogSettings($scope){function sendUserSetsChangedBI(){var userSets=$scope.userSets;$scope.currentUserSets.addMethod!==userSets.addMethod&&($scope.currentUserSets.addMethod=userSets.addMethod,biService.sendBiEvent("ORGIMAGES_USER_SETS_ORDER_CHANGED",userSetsBIParamsMap.addMethod[userSets.addMethod.addMethod])),$scope.currentUserSets.keepTitles!==userSets.keepTitles&&($scope.currentUserSets.keepTitles=userSets.keepTitles,biService.sendBiEvent("ORGIMAGES_USER_SETS_TITLES_CHANGED",userSetsBIParamsMap.keepTitles[userSets.keepTitles.toString()]))}var userSetsBIParamsMap={addMethod:{unshift:"start",push:"end",splice:"after-the-selected"},keepTitles:{true:"import",false:"blank"}};$scope.currentUserSets={},$scope.userSetsOptions={addMethod:[{label:"Organize_Images_Dialog_Sets_Add_Place_Start",value:"unshift"},{label:"Organize_Images_Dialog_Sets_Add_Place_End",value:"push"},{label:"Organize_Images_Dialog_Sets_Add_Place_After",value:"splice"}],keepTitles:[{label:"Organize_Images_Dialog_Sets_Add_Title_With",value:!0},{label:"Organize_Images_Dialog_Sets_Add_Title_Without",value:!1}]},$scope.translateUserSetsOptions=function(){var userSetsOptions=$scope.userSetsOptions;for(var prop in userSetsOptions)if(userSetsOptions.hasOwnProperty(prop)){var optList=userSetsOptions[prop];optList.forEach(function(option){option.label=translationService.translate(option.label)})}},$scope.getCurrentLabelFromMethod=function(methodName){var currentMethodLabel="",value=$scope.userSets[methodName];return $scope.userSetsOptions[methodName].some(function(item){var found=item.value===value;return found&&(currentMethodLabel=item.label),found}),currentMethodLabel},$scope.userSets=transportService.userSets,$scope.sendSettings=function(buttonType){buttonType&&biService.sendBiEvent("ORGIMAGES_USER_SETS_"+buttonType),sendUserSetsChangedBI(),transportService.sendUserSets()},transportService.pms.on("setup",$scope.translateUserSetsOptions)}function addDialogSettingsHandlers($scope,$element){function stopPropagation(e){e.stopPropagation()}var $gear=$element.find("i.settings"),$setsDialog=$element.find(".settings-dialog"),setsDialog=$setsDialog[0],setsDialogWidth=setsDialog&&parseInt($window.getComputedStyle(setsDialog).getPropertyValue("width"),10),header=$element.find(".oi-header-grid"),setsDialogTop=header&&header[0].getBoundingClientRect().bottom;$scope.toggleSettings=function(){$setsDialog.hasClass("show")?$scope.closeSettings():$scope.openSettings()},$scope.openSettings=function(){var userSets=$scope.userSets;biService.sendBiEvent("ORGIMAGES_USER_SETS_OPEN"),$scope.locateSettingsPopup(),$gear.addClass("active"),$setsDialog.addClass("show"),$scope.currentUserSets={keepTitles:userSets.keepTitles,addMethod:userSets.addMethod}},$scope.closeSettings=function(buttonType){$setsDialog.hasClass("show")&&($setsDialog.removeClass("show"),$gear.removeClass("active"),$scope.sendSettings(buttonType))},$scope.locateSettingsPopup=function(e){if(!e||"resize"===e.type&&$setsDialog.hasClass("show")){var gearRect=$gear[0].getBoundingClientRect();$setsDialog.css({left:gearRect.left+gearRect.width/2-setsDialogWidth/2,top:setsDialogTop})}},$document.on("click",function(){$scope.closeSettings()}),$gear.on("click",stopPropagation),$setsDialog.on("click",stopPropagation),$window.$win.on("resize",$scope.locateSettingsPopup),$scope.translateUserSetsOptions()}return{restrict:"E",replace:!0,templateUrl:"partials/dialogTpl.html",controller:function($scope){var defaultImg={thumb:{}};extendScopeWithDialogSettings($scope),$scope.dialogTitle=appConfig.dialogTitle,$scope.preloader=!1,$scope.confirm=null,$scope.selectedImg=defaultImg,$scope.images=transportService.images,$scope.showNoImagesTooltip=0===$scope.images.length,$scope.$watch("images.length",function(newLength){$scope.showNoImagesTooltip=0===newLength,$scope.showNoImagesTooltip||($scope.selectedImg=$scope.images[0])}),$scope.zoomImg=null,$scope.zoomVisible=!1,$scope.tootipMsg=null,$scope.tootipVisible=!1,$scope.method="close",$scope.close=function(){transportService.close(),$scope.closeSettings(),$scope.clearPreview(),$scope.hidePeek(),$scope.hideTooltip()},$scope.confirmSets={message:"ORGANIZE_IMAGES_DIALOG_CONFIRM_MSG",callback:$scope.close,afterChange:!0},$scope.showConfirm=function(sets){if(sets.afterChange&&transportService.isChanged||!sets.afterChange){var confirmCallback=function(){sets.args?sets.callback.apply($scope,sets.args):sets.callback(),$scope.hideConfirm()};$scope.confirm={message:translationService.translate(sets.message),callback:confirmCallback}}else $scope.close()},$scope.hideConfirm=function(){$scope.confirm=null},$scope.save=function(){transportService.save(),$scope.close()},$scope.openMediaGallery=function(){transportService.openMediaGallery()},$scope.openHelpCenter=function(){transportService.openHelpCenter({helpId:appConfig.helpId})},$scope.showPeek=function(data,e){$scope.zoomImg={data:data,el:e.currentTarget},$scope.zoomVisible=!0},$scope.hidePeek=function(){$scope.zoomVisible=!1},$scope.showTooltip=function(data,e){$scope.tooltipMsg={data:translationService.translate(data),el:e.currentTarget},$scope.tooltipVisible=!0},$scope.hideTooltip=function(){$scope.tooltipVisible=!1},$scope.removeImage=function(index){var newLength=$scope.images.length-1,newPreviewIndex=index<newLength?index:index-1;transportService.removeImg(index),newLength>0?$scope.preview($scope.images[newPreviewIndex],newPreviewIndex):$scope.clearPreview(),$scope.zoomVisible&&$scope.hidePeek(),$scope.tooltipVisible&&$scope.hideTooltip()},$scope.preview=function(image,key){image.thumb||(image.thumb={}),transportService.selectedImgIndex=image.position=key,$scope.selectedImg=image},$scope.clearPreview=function(){$scope.selectedImg=defaultImg},$scope.tryClose=function(isAppliying){if(!isAppliying)return $scope.$apply(function(){$scope.tryClose(!0)});$scope.confirm?$scope.hideConfirm():transportService.isChanged?$scope.showConfirm($scope.confirmSets):$scope.close()},$scope.getImgUrl=function(imgUrl,width,height){return width=width||height,height=height||width,transportService.topology.staticMediaUrl+"/"+imgUrl+"/v1/fill/w_"+width+",h_"+height+",lg_1/"+imgUrl},transportService.pms.on("saveAndClose",function(){$scope.tryClose()},$scope),transportService.pms.on("close",function(){window.focus()})},link:function($scope,$element){addDialogSettingsHandlers($scope,$element),$document.on("keyup",function(e){var keyCode=e.keyCode;27===keyCode&&$scope.tryClose(),13===keyCode&&$scope.confirm&&$scope.$apply(function(){$scope.confirm.callback()})})}}}]),app.directive("imageList",["$window","$document","transportService",function($window,$document,transportService){return{restrict:"E",replace:!0,templateUrl:"partials/imageListTpl.html",scope:{preview:"=",showPeek:"=",hidePeek:"=",showTooltip:"=",hideTooltip:"=",removeImage:"=",selectedImg:"=",confirm:"=",getImgUrl:"="},link:function($scope,$el,$attr){var self,doc=$document[0];self={_container:$el[0],_dragging:null,_draggingClass:"classList"in doc.documentElement?"dragging":"dragging ie9",_dropped:!1,_tempWider:null,_styleSheet:null,_defaultImgContSize:null,_style:doc.createElement("style"),_defaultThumbSize:120,_actualThumbSize:120,_maxThumbSize:256,_maxScrollBarWidth:18,run:function(){$el.on("mouseenter mouseleave",".imgCont",this._hover),$el.on("dragstart",".imgCont",this._dragStart),$el.on("selectstart",".imgCont",this._ie9fix),$el.on("dragenter",".imgCont",this._dragEnter),$el.on("dragleave",".imgCont",this._dragLeave),$el.on("dragend",".imgCont",this._dragEnd),$el.on("dragover",".imgCont",this._dragOver),$el.on("dragover",this._dragOverOutside),$window.$win.on("dragover",this._dragOverOutside),$window.$win.on("resize",this._setImgContSize),$el.on("drop",".imgCont",this._drop),$el.on("drop",this._toEdge),$el.on("keydown",this._keydown),$window.$win.on("keydown",this._disableBackspace),transportService.pms.on("added",function(){setTimeout(function(){$el.stop().animate({scrollTop:0},500)},0)}),doc.head.appendChild(this._style),this._setImgContSize()},_setImgContSize:function(){var size=self._defaultThumbSize,elW=$el.width()-self._maxScrollBarWidth,styleSheet=self._style.sheet;if((size=Math.floor(elW/Math.floor(elW/size)))!==self._actualThumbSize){if(styleSheet.cssRules.length)for(;styleSheet.cssRules.length;)styleSheet.deleteRule(0);styleSheet.insertRule(".imageList .content .items .imgCont {width: "+size+"px; height: "+size+"px;}",0),styleSheet.insertRule(".imageList .content .items .imgCont.wider {padding-left: "+size+"px;}",1)}},_hover:function(e){var el=$(e.currentTarget);"mouseenter"===e.type?el.addClass("hover"):el.removeClass("hover")},_keydown:function(e){if(!$scope.confirm){var keyCode=e.keyCode,isLeftArrow=37===keyCode,isRightArrow=39===keyCode;isLeftArrow||isRightArrow?self._switchSelectedImg(isLeftArrow,isRightArrow):46!==keyCode&&8!==keyCode||($scope.images.length&&$scope.$apply(function(){$scope.removeNode($scope.selectedImg.position)}),e.preventDefault(),e.stopPropagation())}},_disableBackspace:function(e){8===e.keyCode&&(e.preventDefault(),e.stopPropagation())},_switchSelectedImg:function(isLeftArrow,isRightArrow){var newPos,newPreviewImg,currentEl,pos=$scope.selectedImg.position,images=$scope.images,isAlreadySelected=void 0!==pos,el=self._container;isLeftArrow?newPos=isAlreadySelected&&pos-1>-1?pos-1:images.length-1:isRightArrow&&(newPos=isAlreadySelected&&pos+1<images.length?pos+1:0),newPreviewImg=images[newPos],currentEl=$("#"+newPreviewImg.id)[0],$scope.$apply(function(){$scope.preview(newPreviewImg,newPos),setTimeout(function(){(el.scrollTop+el.offsetHeight<currentEl.offsetTop+currentEl.offsetHeight||currentEl.offsetTop<el.scrollTop)&&$el.stop().animate({scrollTop:currentEl.offsetTop},200)},0)})},_dragStart:function(e){var el=e.currentTarget,$elem=$(el),dataTransfer=e.originalEvent.dataTransfer;$scope.$apply($scope.hidePeek),$scope.$apply($scope.hideTooltip),self._dropped=!1,$el.children().addClass("animation"),$window.requestAnimationFrame?$window.requestAnimationFrame(function(){$elem.addClass(self._draggingClass)}):$elem.addClass(self._draggingClass),self._tempWider=$elem.next(),self._tempWider.addClass("wider"),self._dragging={el:el,i:Array.prototype.indexOf.call(self._container.children,el)};try{dataTransfer.setData("text/html",el.outerHTML)}catch(ex){dataTransfer.setData("text",el.outerHTML)}dataTransfer.effectAllowed="move"},_ie9fix:function(e){this.dragDrop&&this.dragDrop(),e.preventDefault()},_dragEnd:function(e){self._dropped||self.restoreImage(),e.preventDefault(),e.stopPropagation()},_dragOver:function(e){if(self._dragging){var isWider,wider,el=e.currentTarget,$elem=$(el),width=el.offsetWidth,halfWidth=width/2,offsetX=self._getOffsetX(e);$elem.hasClass("dragging")||(isWider=$elem.hasClass("wider"),self._isOnRightSide(el,offsetX)?(self._restoreTempWider(),wider=$elem.next(),wider.hasClass("dragging")&&(wider=wider.next()),wider.addClass("wider"),self._tempWider=wider):!isWider&&offsetX<halfWidth&&($elem.addClass("wider"),self._restoreTempWider(),self._tempWider=$elem)),e.originalEvent.dataTransfer.dropEffect="move",e.preventDefault(),e.stopPropagation()}},_getOffsetX:function(e){var el=e.currentTarget,eve=e.originalEvent,offsetX=eve.offsetX||eve.layerX;return el===e.target?offsetX:offsetX+el.offsetWidth-e.target.offsetWidth},_isOnRightSide:function(el,offsetX){var width=el.offsetWidth,halfWidth=width/2,isWider=$(el).hasClass("wider");return isWider&&offsetX>3*width/4||!isWider&&offsetX>halfWidth},_dragOverOutside:function(e){self._dragging&&(self._restoreTempWider(),e.originalEvent.dataTransfer.dropEffect="move",e.preventDefault(),e.stopPropagation())},_restoreTempWider:function(){self._tempWider.hasClass("wider")&&self._tempWider.removeClass("wider")},_dragEnter:function(e){e.preventDefault(),e.stopPropagation()},_dragLeave:function(e){e.preventDefault(),e.stopPropagation()},restoreImage:function(){$window.requestAnimationFrame?$window.requestAnimationFrame(function(){self._restoreImage()}):self._restoreImage(),$el.children().removeClass("animation")},_restoreImage:function(){$(self._dragging.el).removeClass(self._draggingClass),self._restoreTempWider(),self._dragging=null},_drop:function(e){if(self._dragging){var target=e.currentTarget,offsetX=self._getOffsetX(e),before=!self._isOnRightSide(target,offsetX),parent=target.parentNode,targetInd=Array.prototype.indexOf.call(parent.children,target);self._dropped=!0,self._dragging.i<targetInd&&(targetInd-=1),before||(targetInd+=1),self._reorderImages(self._dragging.i,targetInd),self.restoreImage(),e.preventDefault(),e.stopPropagation()}},_toEdge:function(e){if(self._dragging){var list=e.currentTarget,eve=e.originalEvent,offsetY=$el[0].scrollTop+(eve.offsetY||eve.layerY),lastIndex=list.children.length-1,first=list.children[0],last=list.children[lastIndex],to=null;offsetY<first.offsetTop?(list.insertBefore(self._dragging.el,first),to=0):offsetY>last.offsetTop&&(list.appendChild(self._dragging.el),to=lastIndex),self._reorderImages(self._dragging.i,to)}},loadThumb:function(url,imgData,onlyCache){onlyCache=onlyCache||!1;var img=new Image;onlyCache?img.src=url:(img.onload=this._loadThumb.bind(this,imgData),img.src=url,img.complete&&this._loadThumb(imgData,{currentTarget:img}))},_loadThumb:function(imgData,e){var img=e.currentTarget,figure=$el.find("#"+imgData.id),el=figure.find(".img");imgData._thumb.w=img.naturalWidth,imgData._thumb.h=img.naturalHeight,figure.css("background","none"),el.addClass("loaded")},_reorderImages:function(from,to){$scope.$apply(function(){var moved=transportService.reorderImgs(self._dragging.i,to);$scope.preview(moved,to)})}},$scope.images=transportService.images,$scope.getBGUrl=function(img){var url=$scope.getImgUrl(img.data.uri,self._actualThumbSize);return img._thumb={url:url},self.loadThumb(url,img),"url("+url+")"},$scope.cursorHasChangedPositionAfterRemove=!1,$scope.removeNode=function(index){function triggerMouseEnterOnTheNextItem(imageList,nextItemIndex){if(!($scope.cursorHasChangedPositionAfterRemove||nextItemIndex>$scope.images.length)){var nextItem=imageList.eq(nextItemIndex);$window.transitionEndEvent?(nextItem.one($window.transitionEndEvent,function(){nextItem.find(".delete").mouseenter()}),nextItem.mouseenter()):(nextItem.mouseenter(),nextItem.find(".delete").mouseenter())}}var children=$el.children(),el=children.eq(index);$scope.cursorHasChangedPositionAfterRemove=!1,$el.one("mousemove",function(){$scope.cursorHasChangedPositionAfterRemove=!0}),$window.transitionEndEvent?(el.one($window.transitionEndEvent,function(){$scope.$apply(function(){$scope.removeImage(index),triggerMouseEnterOnTheNextItem(children,index+1)})}),el.addClass("animation"),$window.requestAnimationFrame(function(){el.addClass("deleting")})):($scope.removeImage(index),triggerMouseEnterOnTheNextItem(children,index+1)),$el.focus()},$scope.$watch(function(){return $scope.images.length},function(newLength,oldLength){var selectedImg;0===oldLength&&newLength!==oldLength?$scope.preview($scope.images[0],0):(selectedImg=$scope.selectedImg,$scope.preview(selectedImg,$scope.images.indexOf(selectedImg)))}),self.run()}}}]),app.directive("zoom",["transportService",function(transportService){return{restrict:"A",templateUrl:"partials/zoomTpl.html",scope:{zoomImg:"=",zoomVisible:"="},link:function($scope,$el){var _self={_peekImage:null,_peekTitle:null,_peekSizeText:null,_parent:null,_visible:!1,maxSize:400,run:function(){_self._peekImage=$el.find("img"),_self._parent=$el.parent(),$el.on(window.transitionEndEvent,function(e){$scope.$apply(function(){_self._removePeek(e)})}),_self._peekImage.on("load",this._peekLoad.bind(this))},_showPeek:function(){$el.addClass("show")},_hidePeek:function(){window.requestAnimationFrame?window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){$el.removeClass("show show-img")})}):$el.removeClass("show show-img"),window.transitionEndEvent||_self._removePeek({target:$el[0]})},_positionPeek:function(){
var el=$el[0],lens=$scope.zoomImg.el,offset=lens.getBoundingClientRect(),left=offset.left+lens.offsetWidth+5,top=offset.top+lens.offsetHeight+5,diff={h:_self._parent.height()+_self._parent[0].offsetTop-top-el.offsetHeight-10,w:_self._parent.width()+_self._parent[0].offsetLeft-left-el.offsetWidth-10};diff.h<0&&(top+=diff.h),diff.w<0&&(left-=el.offsetWidth+lens.offsetLeft+lens.offsetWidth+5),$el.css({left:left,top:top})},_removePeek:function(e){e.target!==$el[0]||_self._visible||($el.removeClass("display"),$scope.zoomImg=null)},_peekLoad:function(){_self._visible&&(this._positionPeek(),$el.addClass("show-img"))}};$scope.getSrc=function(){return $scope.zoomImg?transportService.topology.staticMediaUrl+"/"+$scope.zoomImg.data.uri+"/v1/fit/w_"+_self.maxSize+",h_"+_self.maxSize+"/"+$scope.zoomImg.data.uri:"//:0"},$scope.$watch("zoomVisible",function(newVal){newVal?($el.addClass("display"),_self._visible=!0,_self._positionPeek(),window.requestAnimationFrame?window.requestAnimationFrame(_self._showPeek):_self._showPeek(),_self._peekImage[0].complete&&_self._peekLoad()):(_self._visible=!1,_self._hidePeek())}),_self.run()}}}]),app.directive("tooltip",[function(){return{restrict:"A",templateUrl:"partials/tooltipTpl.html",scope:{tooltipMsg:"=",tooltipVisible:"="},link:function($scope,$el){var _self={_parent:null,_visible:!1,run:function(){_self._parent=$el.parent(),$el.on(window.transitionEndEvent,function(e){$scope.$apply(function(){_self._removePeek(e)})})},_showTooltip:function(){$el.addClass("show")},_hideTooltip:function(){$el.removeClass("show"),window.transitionEndEvent||_self._removePeek({target:$el[0]})},_positionPeek:function(){var tooltip=$el[0],margin=10,orgImages=_self._parent,lens=$scope.tooltipMsg.el,lensOffset=lens.getBoundingClientRect(),left=lensOffset.left+lens.offsetWidth/2-tooltip.offsetWidth/2,top=lensOffset.top+lens.offsetHeight+margin,diffHeight=orgImages.height()+orgImages[0].offsetTop-top-tooltip.offsetHeight-margin;left<margin&&(left=margin),diffHeight<0&&(top+=diffHeight),$el.css({left:left,top:top})},_removePeek:function(e){e.target!==$el[0]||_self._visible||($el.removeClass("display"),$scope.tooltipMsg=null)}};$scope.$watch("tooltipVisible",function(newVal){newVal?($el.addClass("display"),_self._visible=!0,_self._positionPeek(),_self._showTooltip()):(_self._visible=!1,_self._hideTooltip())}),_self.run()}}}]),app.directive("imageSettingsPanel",["transportService","appConfig",function(transportService,appConfig){"use strict";return{restrict:"E",replace:!0,templateUrl:"partials/imageSettingsPanelTpl.html",scope:{preview:"=",selectedImg:"=",getImgUrl:"="},controller:function($scope,$element){var _style=window.getComputedStyle($element.find(".image-wrapper")[0]),self={height:parseInt(_style.getPropertyValue("height"),10),width:parseInt(_style.getPropertyValue("width"),10),min:100,openLinkDialog:function(e,selectedImg){var el=e.currentTarget,offset=$(el).parent().offset();transportService.openLinkDialog({id:selectedImg.id,data:selectedImg.data,position:selectedImg.position,left:offset.left-370,top:offset.top-120})}};$scope.height=self.height+"px",$scope.width=self.width+"px",$scope.showLinkTo=appConfig.showLinkTo,$scope.images=transportService.images,$scope.isThereAnImage=function(){return Boolean($scope.selectedImg.id)},$scope.getPreviewImageUrl=function(){return $scope.selectedImg._thumb?$scope.getImgUrl($scope.selectedImg.data.uri,self.width,self.height):""},$scope.getCssUrl=function(){var url=$scope.getPreviewImageUrl();return url?"url("+url+")":"none"},$scope.getCssSize=function(){var img=$scope.selectedImg;if(!img||!img.data)return"auto";var w0=self.width,h0=self.height,w1=img.data.width,h1=img.data.height;return w1>h1?w1>w0?"cover":"auto":h1>h0?"contain":"auto"},$scope.getPos=function(){var pos=$scope.selectedImg.position;return void 0!==pos?pos+1:0},$scope.selectImg=function(direction){var images,key=$scope.selectedImg.position;void 0!==key&&(key+=direction,images=transportService.images,key>-1&&key<images.length&&$scope.preview(images[key],key))},$scope.openMediaGallery=function(){transportService.openMediaGalleryForReplace($scope.selectedImg.position)},$scope.openLinkDialog=function(e){var selectedImg=$scope.selectedImg;selectedImg.id&&self.openLinkDialog(e,selectedImg)},$scope.change=function(){transportService.isChanged||transportService.pms.trigger("changed")},$scope.keyDown=function(e){27===e.keyCode&&e.preventDefault(),e.stopPropagation()},$scope.isImageGallery="socialIcons"!==appConfig.galleryType},link:function($scope,$el){$el.on("selectstart",".switcher",function(e){e.preventDefault()})}}}]);