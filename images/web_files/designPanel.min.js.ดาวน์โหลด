define("designPanel/core/designPanelMixin",["prop-types","lodash","designPanelUtils","coreBi","stateManagement","constants","experiment"],function(e,a,l,t,n,r,p){"use strict";var d=n.editorPlugins.components.selectors.getStyleId;function i(e){return e.split(".").pop()}return{propTypes:{compType:e.string.isRequired},getInitialState:function(){return this.getResetState(this.props)},getResetState:function(e){var t={advancedStyling:!1,isStyleChanged:!1};return this.getStateFromProps&&a.assign(t,this.getStateFromProps(e)),t},componentWillMount:function(){p.isOpen("animateChangeStyleButton")&&(this.customizeDesignClicked=!1),this.props.onlyAdvancedStyling&&this.openCustomizeDesign()},componentWillReceiveProps:function(e){a.isEqual(e.selectedComponent,this.props.selectedComponent)||(p.isOpen("animateChangeStyleButton")&&(this.customizeDesignClicked=!1),this.setState(this.getResetState(e))),this.syncStyleIds()},syncStyleIds:function(){var e=this.getComponentStyleId();this.state.currentStyleId&&e!==this.state.currentStyleId&&this.setState({currentStyleId:e})},getComponentStyleId:function(){if(this.props.currentStyleId)return this.props.currentStyleId;var e=this.getEditorAPI().selection.getSelectedComponents();return d(e,this.getEditorAPI().dsRead)},getPropsForDesignPanel:function(){var e=a.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:this.changeTempState,maintainOriginalState:this.maintainOriginalState,isSelectedItem:this.isSelectedItem,hideComponentSections:this.state.advancedStyling,shouldHideContentOverflow:this.state.advancedStyling,isCustomizeDesign:this.state.advancedStyling});return this.state.advancedStyling&&!this.props.onlyAdvancedStyling&&(e.onBackClick=this.customizeDesignCallBack),e},openCustomizeDesign:function(){var i=this.getEditorAPI(),s={},o=this.props.currentStyleId||d(this.props.selectedComponent,i.dsRead);a.assign(s,{currentStyleId:o}),i.dsActions.waitForChangesApplied(function(){var e,t=i.dsRead.viewMode.get()===i.dsRead.viewMode.VIEW_MODES.MOBILE;if(!p.isOpen("fastStyling")&&!t||!l.customizeDesignComponents.isFastStylingEnabled(this.props.compType)||((e=this.props).switchPanelFunc||e.isWixApp))s.advancedStyling=!0,p.isOpen("animateChangeStyleButton")&&(this.customizeDesignClicked=!0);else{var n={backButtonLabel:"design_panel_back_button_label",onBackClick:a.noop,styleId:o};i.replaceComponentPanel(r.componentPanels.customizeDesign,n)}this.setState(s,function(){this.reportCustomizeDesignClickedToBI()})}.bind(this))},reportCustomizeDesignClickedToBI:function(){this.getEditorAPI().bi.event(t.events.designPanel.DESIGN_PANEL_CUSTOMIZE_BUTTON_CLICK,{was_preset_clicked_current_session:this.state.isStyleChanged,component_type:i(this.props.compType),component_id:a.head(this.props.selectedComponent).id,chosen_style_id:this.state.currentStyleId})},customizeDesignCallBack:function(){this.setState({advancedStyling:!1}),this.getEditorAPI().bi.event(t.events.ADVANCED_STYLE_PANEL.BACK_BUTTON_CLICK,{component_type:i(this.props.compType)}),this.setState(this.getResetState(this.props)),a.isFunction(this.props.onCustomizeDesignCallBack)&&this.props.onCustomizeDesignCallBack()},getAdvancedStylingProps:function(){var t=this,n=this.getEditorAPI(),e={selectedSkin:this.props.selectedSkin,selectedComponent:this.props.selectedComponent,styleId:this.state.currentStyleId,compType:this.props.compType,maxStrokeWidth:this.props.maxStrokeWidth,panelPosition:this.actualPanelPosition,onPreviewStateChange:this.props.onPreviewStateChange,getDefaultState:this.props.getDefaultState,updateStyle:this.props.updateStyle||function(e){return n.components.style.update(t.props.selectedComponent,e)},getStyle:this.props.getStyle||function(){return n.components.style.get(t.props.selectedComponent)}};return a.has(this.props,"shouldStartClosed")&&(e.shouldStartClosed=this.props.shouldStartClosed),e}}}),define("designPanel/core/designPanel.rt",["react","lodash","util","compPanelInfra"],function(s,o,n,i){"use strict";return function(){function t(e){var n=this,t=this.getSections();return s.createElement.apply(this,["div",{onMouseLeave:this.onPanelMouseLeave,className:o(this.getSectionsClasses()).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),key:"designPanelSections"},o.map(t.filter(function(e,t){return!n.shouldHideSection(e,t)}),function(e,t,n,i){return s.createElement(e,o.assign({},{ref:this.getSectionRef(n,i),key:this.getSectionRef(n,i)},this.getSectionProps(n,i,t)))}.bind(this,e,t))])}return function(){var e=this.getEditorAPI().addPanelInfra.baseGenerator;return s.createElement(i.compPanelFrame,o.assign({},{id:"designPanel",title:this.getTitle(),shouldHideContentOverflow:this.props.shouldHideContentOverflow,helpId:this.getHelpId()},n.panelUtils.getFrameProps(this.props)),this.props.hideComponentSections?null:t.apply(this,[e]),s.createElement("div",{},this.props.children))}.apply(this,[])}}),define("designPanel/core/designPanel",["create-react-class","prop-types","lodash","addPanelDataConsts","util","core","stateManagement","designPanel/core/designPanel.rt","coreBi","helpIds"],function(e,t,a,i,n,l,s,o,r,p){"use strict";var d=s.editorPlugins.components.selectors.getStyleId;return e({displayName:"designPanel",mixins:[l.mixins.editorAPIMixin,n.addPanelHoverMixin],render:o,propTypes:{panelName:t.string.isRequired,style:t.object.isRequired,selectedComponent:t.array.isRequired,compType:t.string.isRequired,changePermanentState:t.func.isRequired,changeTempState:t.func,maintainOriginalState:t.func.isRequired,hideComponentSections:t.bool,getTitle:t.func,title:function(e){if(!a.isUndefined(e.title)){if(!a.isUndefined(e.getTitle))return new Error("Cannot provide both title and getTitle");if(!a.isString(e.title))return new Error("Warning: Invalid prop 'title', expected a string.")}},getSections:t.func,getAdditionalElementProps:t.func,shouldHideContentOverflow:t.bool,withAdditionalBehaviors:t.bool},getInitialState:function(){return{selectedItemKey:null}},componentWillReceiveProps:function(e){var t=this.getEditorAPI();this.styleId=d(this.props.selectedComponent,t.dsRead),e.hideComponentSections!==this.props.hideComponentSections&&this.setState({selectedItemKey:null})},getTitle:function(){var e=this.getEditorAPI();return this.props.getTitle?this.props.getTitle():this.props.title?this.props.title:e.addPanel.getDesignPanelTitleByComp(this.props.compType,this.props.selectedComponent)},getHelpId:function(){return this.props.helpId?this.props.helpId:this.props.isCustomizeDesign?p.UTILS.getCustomizeDesignHelpId(this.props.compType):p.UTILS.getDesignHelpId(this.props.compType)},shouldHideSection:function(e,t){var n=s.designPanel.selectors.getOverriddenSections(this.getEditorAPI().store.getState()),i=this.getSectionRef(e,t);return a.get(n,[i,"isHidden"])},getSections:function(){return this.props.getSections?this.props.getSections():this.getEditorAPI().addPanel.getSectionsByComponentType(this.props.compType,this.props.selectedComponent,this.props.withAdditionalBehaviors)},onClick:function(e,t,n,i){this.props.changePermanentState(e,i),this.setState({selectedItemKey:i}),this.getEditorAPI().history.add("clicked on new item in design panel"),this.reportToBI(e,t,n,i)},reportToBI:function(e,t,n,i){var s=this.getEditorAPI(),o=l.styleManager.getCompDefStyle(e,s);s.bi.event(r.events.designPanel.DESIGN_PANEL_SELECT_PRESET_CLICK,{style_id:o.id,preset_id:i,component_type:this.props.compType,component_id:a.head(this.props.selectedComponent).id,preset_data_skin:o&&o.skin,preset_data_tags:n,section:t})},onMouseEnter:function(e,t){this.enter(null,e,t,this.props.changeTempState)},onItemMouseLeave:function(e){this.leave(null,e)},onPanelMouseLeave:function(){this.props.hideComponentSections||this.props.maintainOriginalState()},getSectionRef:function(e,t){return e.type+t},getSectionsClasses:function(){return{sections:!0,"panel-has-children":!!this.props.children&&!a.isEmpty(a.compact(this.props.children))}},getSectionProps:function(e,t,n){var o=a.isFunction(this.props.isSelectedItem)&&a(n).map("type").uniq().isEqual([i.SECTIONS_TYPES.PRESET]);return a.assign(e,{id:this.getSectionRef(e,t),additionalScaling:i.DESIGN_PANEL_SCALE,onClick:this.onClick,isImageSection:"wysiwyg.viewer.components.WPhoto"===this.props.compType,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onItemMouseLeave,isSelectedItem:this.props.isSelectedItem,selectedItemKey:this.state.selectedItemKey?[this.state.selectedItemKey]:null,parentType:i.PANEL_TYPES.DESIGN_PANEL,nextSibling:n[t+1],sectionIndex:t,getAdditionalElementProps:this.props.getAdditionalElementProps,getAdditionalItemProps:function(e){var t=this.props.getAdditionalElementProps&&this.props.getAdditionalElementProps(e.structure)||{},n=this.state.selectedItemKey&&this.state.selectedItemKey===e.id,i=o&&this.props.isSelectedItem(e.structure);if(n||i){var s=t.className?t.className+" ":"";t=a.assign(t,{className:s+"design-panel-selected-item",symbolName:"selectedItemDesignPanel"})}return t}.bind(this)})}})}),define("designPanel/panelTypes/changeStyleDesignPanel.rt",["react","lodash","designPanel/core/designPanel","baseUI","util"],function(t,e,n,i,s){"use strict";return function(){return t.createElement(n,e.assign({},{ref:"designPanel"},this.getPanelProps()),this.shouldLinkToAdvancedStyling()?t.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},t.createElement(i.button,{ref:"customizeDesign",className:"button",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.state.advancedStyling?function(){var e=this.getAdvancedStylePanelClass();return t.createElement("div",{key:"advancedStylePanel"},t.createElement(e,this.getAdvancedStylingProps()))}.apply(this,[]):null)}}),define("designPanel/panelTypes/changeStyleDesignPanel",["reactDOM","create-react-class","prop-types","lodash","zepto","stateManagement","core","advancedStylePanel","designPanel/core/designPanelMixin","designPanel/panelTypes/changeStyleDesignPanel.rt","util","experiment"],function(o,e,t,a,l,n,r,i,s,p,d,c){"use strict";var u=d.hoc,g=u.connect,h=u.STORES.EDITOR_API,m=n.editorPlugins.domMeasurements.hoc.panelPosition,y=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"],f=["wysiwyg.viewer.skins.VideoSkin"],P=["wysiwyg.viewer.skins.photo.NoSkinPhoto"],S={"wysiwyg.viewer.components.svgshape.SvgShape":i.svgShape,"wysiwyg.viewer.components.BoxSlideShowSlide":i.boxSlideShowSlide};function C(e,t){return a.pick(e.components.layout.get(t),["x","y","width","height"])}var _=e({displayName:"changeStyleDesignPanel",mixins:[s,r.mixins.editorAPIMixin],render:p,propTypes:{panelName:t.string.isRequired,style:t.object.isRequired,selectedComponent:t.oneOfType([t.object.isRequired,t.array.isRequired]),compType:t.string.isRequired,updateStyle:t.func,getStyle:t.func,currentStyleId:t.string,shouldMaintainOriginalLayout:t.bool,shouldChangeProperties:t.bool,shouldForkStyle:t.bool},getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label",shouldForkStyle:!0}},getStateFromProps:function(e){var t=this.getEditorAPI();return e.shouldForkStyle&&t.components.style.fork(e.selectedComponent),{originalStyleDef:e.getStyle(),layoutToMaintain:e.shouldMaintainOriginalLayout&&C(t,e.selectedComponent)}},componentWillReceiveProps:function(e){var t=this.getEditorAPI();if(a.isEqual(e.selectedComponent,this.props.selectedComponent)&&this.state.layoutToMaintain){var n=C(t,e.selectedComponent),i=!a.isEqual(this.state.layoutToMaintain,n),s=!a.isEqual(e.getStyle(),this.state.originalStyleDef);i&&!s&&this.setState({layoutToMaintain:n})}},changePermanentState:function(e){var t=this.getEditorAPI(),n=r.styleManager.getCompDefStyle(e,t);this.props.updateStyle(n,!1,this.state.layoutToMaintain);var i={originalStyleDef:n,isStyleChanged:!0};if(c.isOpen("animateChangeStyleButton")){var s=l(o.findDOMNode(this.refs.customizeDesign));s.removeClass("animate-button"),this.setState(i,function(){s.addClass("animate-button")})}else this.setState(i)},changeTempState:function(e){var t=this.getEditorAPI(),n=r.styleManager.getCompDefStyle(e,t);n&&(this.props.updateStyle(n,!0,this.state.layoutToMaintain),this.props.shouldChangeProperties&&t.components.properties.update(this.props.selectedComponent,e.props))},maintainOriginalState:function(){this.state.originalStyleDef&&this.props.updateStyle(this.state.originalStyleDef,!1,this.state.layoutToMaintain)},isSelectedItem:function(e){var t=this.getEditorAPI(),n=r.styleManager.isEqualWithoutTypeConsideration(r.styleManager.getCompDefStyle(e,t),this.state.originalStyleDef),i=a(this.props.selectedComponent).thru(t.components.properties.get).omit("id","metaData").isEqual(a.omit(e.props,"id","metaData"));return n&&(!this.props.shouldChangeProperties||i)},getPanelProps:function(){var i=this.getEditorAPI();return a.assign(this.getPropsForDesignPanel(),{getAdditionalElementProps:function(e){var t=r.styleManager.getCompDefStyle(e,i),n={};if(a.includes(y,t.skin))n.text="DESIGN_LABEL_NO_COLOR",n.className="design-panel-transparent-skin-item";else if(a.includes(f,t.skin))n.text="Design_Label_No_Frame",n.className="design-panel-no-frame-skin-item";else if(a.includes(P,t.skin)){n.text="Design_Label_No_Frame";this.props&&"wysiwyg.viewer.components.WPhoto"===a.head(this.props.compTypes)?n.className="design-panel-no-frame-skin-item":n.className="design-panel-no-frame-skin-item-discover-more"}return n}})},getAdvancedStylePanelClass:function(){return S[this.props.compType]?S[this.props.compType]:i.panel},shouldLinkToAdvancedStyling:function(){return!this.state.advancedStyling}}),I=g(h,void 0,function(l,e){var t=e.updateStyle,n=e.getStyle,r=e.selectedComponent;return{updateStyle:t||function(e,t,n){return l((s=r,o=e,a=n,function(e,t,n){var i=n.editorAPI;i.components.layout.update(s,a,!0),i.components.style.update(s,o)}));var s,o,a},getStyle:n||function(){return l((i=r,function(e,t,n){return n.editorAPI.components.style.get(i)}));var i}}})(m()(_));return I.pure=_,I}),define("designPanel/panelTypes/changeDataDesignPanel.rt",["react","lodash","designPanel/core/designPanel"],function(e,t,n){"use strict";return function(){return e.createElement(n,t.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()))}}),define("designPanel/panelTypes/changeDataDesignPanel",["create-react-class","lodash","core","stateManagement","designPanel/core/designPanelMixin","designPanel/panelTypes/changeDataDesignPanel.rt"],function(e,t,n,i,s,o){"use strict";var a=i.editorPlugins.domMeasurements.hoc.panelPosition,l=e({displayName:"changeDataDesignPanel",mixins:[s,n.mixins.editorAPIMixin],render:o,getStateFromProps:function(e){return{currentDataItem:this.getEditorAPI().components.data.get(e.selectedComponent)}},changePermanentState:function(e){e.data&&(this.getEditorAPI().components.data.update(this.props.selectedComponent,e.data),this.setState({currentDataItem:e.data}))},changeTempState:function(e){e.data&&this.getEditorAPI().components.data.update(this.props.selectedComponent,e.data)},maintainOriginalState:function(){this.state.currentDataItem&&this.getEditorAPI().components.data.update(this.props.selectedComponent,this.state.currentDataItem)},isSelectedItem:function(e){return e.data===this.state.currentDataItem}}),r=a()(l);return r.pure=l,r}),define("designPanel/panelTypes/changeGalleryDesignPanel.rt",["react","lodash","designPanel/core/designPanel","baseUI","util","advancedStylePanel","compPanelInfra"],function(t,n,i,s,e,o,a){"use strict";return function(){return function(){var e=this.getAdvancedStyleClass();return t.createElement(i,n.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()),!this.state.advancedStyling&&e?t.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},t.createElement(s.button,{className:"button",ref:"customizeDesign",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.state.advancedStyling&&e?t.createElement("div",{key:"advancedStylePanel"},t.createElement(e,this.getAdvancedStylingProps())):null)}.apply(this,[])}}),define("designPanel/panelTypes/changeGalleryDesignPanel",["reactDOM","create-react-class","lodash","zepto","core","stateManagement","designPanelUtils","advancedStylePanel","designPanel/core/designPanelMixin","designPanel/panelTypes/changeGalleryDesignPanel.rt","experiment","util"],function(n,e,P,i,t,s,S,o,a,l,r,p){"use strict";var d=s.editorPlugins.domMeasurements.hoc.panelPosition,c=s.editorPlugins.components.selectors.getStyleId,C=["wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.PaginatedGridGallery"];function u(e,t,n,i,s,o,a){var l,r,p,d,c,u,g,h=e[0],m=S.changeGalleryHelper.convertGalleryProperties(n,t.props,a),y=(l=a,r=h,p=i,d=m,c=s,u=o,(g={componentType:t.componentType,type:"Component",style:c,layout:u,data:p,props:d,connections:P.get(l.components.serialize(r),"connections")}).connections&&!P.includes(C,g.componentType)&&(g.connections.items=P.filter(g.connections.items,{type:"WixCodeConnectionItem"})),P.assign(g,{layout:S.changeGalleryHelper.convertGalleryLayouts(l,r,g)})),f=a.components.getContainer(h);a.components.remove(h,{isReplacingComp:!0}),a.components.add(f,y,h.id)}var g=e({displayName:"changeGalleryDesignPanel",mixins:[a,t.mixins.editorAPIMixin],render:l,getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},getStateFromProps:function(e){var t=this.getEditorAPI(),n=P.omit(t.components.layout.get(e.selectedComponent),"anchors");return{propertyItemToMaintain:t.components.properties.get(e.selectedComponent),dataItemToMaintain:t.components.data.get(e.selectedComponent),layoutToMaintain:n,currentStyleId:c(e.selectedComponent,t.dsRead),currentStyleDef:t.components.style.get(this.props.selectedComponent)}},componentWillReceiveProps:function(e){var t=this.getEditorAPI(),n=c(e.selectedComponent,t.dsRead)!==this.state.currentStyleId;this.setState({isStyleChanged:n})},changePermanentState:function(e){if(!this.pendingGalleryChange){this.pendingGalleryChange=!0;var t=this.getEditorAPI();u(this.props.selectedComponent,e,this.state.propertyItemToMaintain,this.state.dataItemToMaintain,e.style,this.state.layoutToMaintain,t),t.dsActions.waitForChangesApplied(function(){if(this.pendingGalleryChange=!1,r.isOpen("animateChangeStyleButton")){var e=i(n.findDOMNode(this.refs.customizeDesign));e.removeClass("animate-button"),p.animationFrameUtils.request(e.addClass.bind(e,"animate-button"))}}.bind(this))}},changeTempState:function(){},maintainOriginalState:function(){},isSelectedItem:function(e){return(e.compType||e.componentType)===this.props.compType&&t.styleManager.isEqual(e.style,this.state.currentStyleDef)},getAdvancedStyleClass:function(){return S.customizeDesignComponents.isGalleryCustomizable(this.props.compType)?S.customizeDesignComponents.isTPAGalleryAdvancedStyle(this.props.compType)?o.tpaGallery:o.panel:null}}),h=d()(g);return h.pure=g,h}),define("designPanel/wixapps/wixappsDesignSubComponentsPanel.rt",["react","lodash","baseUILib","baseUI","core","compPanelInfra","util"],function(n,e,i,s,t,o,a){"use strict";return function(){return n.createElement.apply(this,[o.compPanelFrame,e.assign({},{title:this.getSelectedAppPartDisplayName()+"_design",helpId:this.getComponentHelpIdByType("design")},this.getFrameProps()),e.map(this.getComps(),function(e,t){return n.createElement("div",{},e.customization||e.styleCustomizationRules.length?n.createElement("div",{key:e.label},n.createElement(s.checkboxWithButton,{label:e.label,shouldTranslate:!0,className:"design-customization-checkbox",buttonLabel:"blog_design_panel_customize_design",value:!e.customization||this.isChecked(e.customization),onChange:function(e,t,n){this.updateCompValue(e.customization,String(n))}.bind(this,e,t),onButtonClick:this.openCustomizeDesign.bind(this,e),isCheckboxDisabled:!e.customization,isButtonDisabled:!e.styleCustomizationRules.length}),t!==this.getComps().length-1?n.createElement(i.Divider,{key:"divider-long",long:!0}):null):null)}.bind(this))])}}),define("designPanel/wixapps/appPartChangeStyleDesignPanel.rt",["react","lodash","designPanel/panelTypes/changeStyleDesignPanel"],function(e,t,n){"use strict";return function(){return e.createElement(n,t.assign({},{isWixApp:!0,shouldForkStyle:!1,updateStyle:this.updateStyle},this.getPanelProps()),"\n    ",this.props.children,"\n")}}),define("designPanel/wixapps/appPartChangeStyleDesignPanel",["create-react-class","lodash","prop-types","core","designPanel/wixapps/appPartChangeStyleDesignPanel.rt"],function(e,t,n,i,s){"use strict";return e({displayName:"appPartChangeStyleDesignPanel",render:s,mixins:[i.mixins.editorAPIMixin],propTypes:{updateStyle:n.func.isRequired,setStyleId:n.func.isRequired,onForkStyle:n.func.isRequired},getDefaultProps:function(){return{onForkStyle:t.noop}},updateStyle:function(e,t){var n=this.getEditorAPI();if(this.styleForked)this.props.updateStyle(e,t);else{var i=n.dsActions.wixapps.styles.fork(e);this.styleForked=!0,n.dsActions.waitForChangesApplied(function(){this.props.setStyleId(i.id),this.props.onForkStyle(i)})}},getPanelProps:function(){return t.omit(this.props,["updateStyle","setStyleId","onForkStyle"])}})}),define("designPanel/wixapps/wixappsFontCustomizationPanel.rt",["react","lodash","baseUILib","baseUI","textControls","compPanelInfra","helpIds","experiment","constants"],function(o,a,l,r,p,d,c,u,n){"use strict";return function(){function s(e){var t=n.UI.TOOLTIP.STYLE_TYPE.SMALL;return o.createElement("div",{className:"button-row"},function(e,t){var n=this.isBold();return o.createElement(p.iconButton,{isSelected:n,name:"textBold",tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:t,onClick:function(e,t,n){this.setBold(!n)}.bind(this,e,t,n)})}.apply(this,[e,t]),function(e,t){var n=this.isItalic();return o.createElement(p.iconButton,{isSelected:n,name:"textItalic",tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:t,onClick:function(e,t,n){this.setItalic(!n)}.bind(this,e,t,n)})}.apply(this,[e,t]),function(e,t){var n=this.isUnderlined();return o.createElement(p.iconButton,{isSelected:n,name:"textUnderline",tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:t,onClick:function(e,t,n){this.setUnderlined(!n)}.bind(this,e,t,n)})}.apply(this,[e,t]),function(e,t){var n=this.resolveColor(this.getColor());return o.createElement(p.textColor,{onClick:function(e,t,n){this.openTextColorPicker(this.setColor,n)}.bind(this,e,t,n),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:t,value:n})}.apply(this,[e,t]),function(e,t){var n=this.resolveColor(this.getBackgroundColor());return o.createElement(p.textBackgroundColor,{onClick:function(e,t,n){this.openTextColorPicker(this.setBackgroundColor,"noColor")}.bind(this,e,t,n),tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:t,handleNoColor:this.handleNoColor,color:"transparent"!==n?n:null})}.apply(this,[e,t]))}return function(){var e,t,n,i=u.isOpen("blogLineSpacing");return o.createElement(d.compPanelFrame,(e={className:"settings-panel",panelName:"wixappsFontCustomizationPanel",title:this.props.title,helpId:c.SETTINGS.WRICHTEXT},t=this.filteredProps(),n=a.assign({},e,t),e.hasOwnProperty("style")&&(n.style=a.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n),this.props.customizeTheme?o.createElement(p.textStyle,{key:"textStyleCustomization",label:"text_editor_theme_label",infoText:"text_editor_tooltip_theme",value:this.getTheme(),onChange:this.setTheme,themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().dsRead.theme.fonts.getAll(),isDeveloperMode:this.getEditorAPI().developerMode.isEnabled()}):null,this.props.customizeTheme?o.createElement(l.Divider,{long:!0,key:"textStyleCustomizationSeparator"}):null,function(e){var t=this.getEditorAPI();return o.createElement(p.fontFamily,{fonts:p.fontUtils.getCurrentSelectableFontsWithParams(t),infoText:"text_editor_font_tooltip",label:"text_editor_font_label",onChange:function(e,t,n){this.setFontFamily(n)}.bind(this,e,t),value:this.getFontFamily()})}.apply(this,[i]),o.createElement(l.Divider,{long:!0}),this.props.customizeTheme?o.createElement(r.slider,{key:"fontSizeCustomization",label:"text_editor_font_size_label",infoText:"text_editor_font_size_tooltip",value:this.getFontSize(),onChange:function(e,t){this.setFontSize(t)}.bind(this,i),min:p.constants.FONT_SIZE.MIN,max:p.constants.FONT_SIZE.MAX}):null,this.props.customizeTheme?o.createElement(l.Divider,{long:!0,key:"fontSizeCustomizationSeparator"}):null,s.apply(this,[i]),i?o.createElement(l.Divider,{long:!0,key:"blogLineSpacingExpDivider"}):null,i?o.createElement(r.accordion,{key:"blogLineSpacingExpComp",label:"text_editor_spacing_label"},o.createElement(p.lineHeight,{infoText:"text_editor_line_spacing_tooltip",value:this.getLineHeightValue(),onChange:function(e,t){this.setLineHeight(t)}.bind(this,i),onSlideEnd:this.focus})):null)}.apply(this,[])}}),define("designPanel/wixapps/wixappsFontCustomizationPanel",["lodash","create-react-class","prop-types","compPanelInfra","util","panelUtils","textControls","designPanel/wixapps/wixappsFontCustomizationPanel.rt"],function(e,t,n,i,s,o,a,l){"use strict";return t({displayName:"wixappsFontCustomizationPanel",mixins:[i.compPanelMixin,s.propTypesFilterMixin,i.wixappsPanelMixin,o.linkColorPickerMixin],propTypes:{fieldIds:n.arrayOf(n.string).isRequired,forType:n.string.isRequired,format:n.string.isRequired,view:n.string.isRequired,customizeTheme:n.bool},_getAppPartCustomizationRulesForCompParam:function(t){return this.props.fieldIds.map(function(e){return{fieldId:e,forType:this.props.forType,format:this.props.format,key:"comp."+t,type:"AppPartCustomization",view:this.props.view}},this)},_getValueFromCustomizationsOrDefaultValues:function(e){for(var t=this._getAppPartCustomizationRulesForCompParam(e);t.length;){var n=t.shift(),i=this.linkedCustomization(n);if(i.value)return i.value}},_getValueFromCurrentStyle:function(e){var t=this.getEditorAPI(),n=this.getTheme();return a.fontUtils.parseStyleFont(n,t.dsRead.theme.fonts.getAll(),t.theme.colors.getAll())[{fontFamily:"family",fontSize:"size",bold:"bold",italic:"italic",color:"cssColor",backgroundColor:"color"}[e]]},_getValue:function(e){var t=this._getValueFromCustomizationsOrDefaultValues(e);return void 0===t&&(t=this._getValueFromCurrentStyle(e)),t},_setValue:function(e,t){this._getAppPartCustomizationRulesForCompParam(e).forEach(function(e){this.linkedCustomization(e).requestChange(t)},this)},getFontFamily:function(){return this._getValue("fontFamily")},setFontFamily:function(e){this._setValue("fontFamily",e)},getFontSize:function(){return this._getValue("fontSize")},setFontSize:function(e){this._setValue("fontSize",e)},_getBooleanCustomizationValue:function(e){return s.stringUtils.isTrue(this._getValue(e))},_setBooleanCustomizationValue:function(e,t){this._setValue(e,t?"true":"false")},isBold:function(){return this._getBooleanCustomizationValue("bold")},setBold:function(e){this._setBooleanCustomizationValue("bold",e)},isItalic:function(){return this._getBooleanCustomizationValue("italic")},setItalic:function(e){this._setBooleanCustomizationValue("italic",e)},isUnderlined:function(){return this._getBooleanCustomizationValue("underline")},setUnderlined:function(e){this._setBooleanCustomizationValue("underline",e)},openTextColorPicker:function(e,t){var n={top:this.props.style.top,left:this.props.style.left};this.openColorPicker(e,t,!0,n)},getColorValue:function(e){return this._getValue(e)||"noColor"},setAppPartCustomizationValueForColorCompParam:function(e,t){this._setValue(e,t&&"noColor"!==t?t:null)},getColor:function(){return this.getColorValue("color")},setColor:function(e){this.setAppPartCustomizationValueForColorCompParam("color",e)},getBackgroundColor:function(){return this.getColorValue("backgroundColor")},setBackgroundColor:function(e){var t=/^color_/.test(e)?"back"+e:e;this.setAppPartCustomizationValueForColorCompParam("backgroundColor",t)},handleNoColor:function(){this.setAppPartCustomizationValueForColorCompParam("backgroundColor","transparent")},getStyle:function(){return this._getValueFromCustomizationsOrDefaultValues("style")},setStyle:function(e){this.setFontFamily(null),this.setFontSize(null),this._setValue("style",e)},getTheme:function(){var e=this.getStyle();return this.getEditorAPI().dsRead.wixapps.classics.styleMapping.styleToFontClass(e)||"font_8"},setTheme:function(e){var t=this.getEditorAPI().dsRead.wixapps.classics.styleMapping.fontClassToStyle(e);this.setStyle(t)},getLineHeightValue:function(){var e=this._getValue("line-height")||"auto";return"auto"===e?"":e},setLineHeight:function(e){this._setValue("line-height",e)},render:l})}),define("designPanel/wixapps/wixappsDesignCustomizationPanel.rt",["react","lodash","designPanel/wixapps/appPartChangeStyleDesignPanel","designPanel/wixapps/wixappsFontCustomizationPanel"],function(e,t,n,i){"use strict";return function(){return e.createElement("div",{},"wysiwyg.viewer.components.WRichText"!==this.props.compType?e.createElement(n,t.assign({},{key:"changeStyleDesign",getTitle:this.getPanelTitle,compType:this.props.compType,currentStyleId:this.getStyleId(),selectedComponent:this.getCompRefs(),updateStyle:this.updateStyle,getStyle:this.getStyleDef,setStyleId:this.setStyleId},this.getPanelProps())):null,"wysiwyg.viewer.components.WRichText"===this.props.compType?e.createElement(i,t.assign({},{fieldIds:this.getFieldIds(),forType:this.getForType(),format:this.getFormat(),key:"wixappsFontCustomization",selectedComponent:this.props.selectedComponent,title:this.getPanelTitle(),view:this.getView(),customizeTheme:this.props.customizeTheme},this.getPanelProps())):null)}}),define("designPanel/wixapps/wixappsDesignCustomizationPanel",["create-react-class","prop-types","lodash","util","compPanelInfra","designPanel/wixapps/wixappsDesignCustomizationPanel.rt","core","experiment"],function(e,t,n,i,s,o,a,l){"use strict";return e({displayName:"wixappsDesignCustomizationPanel",mixins:[s.compPanelMixin,i.propTypesFilterMixin,s.wixappsPanelMixin],propTypes:{styleCustomizationRules:t.array.isRequired,compType:t.string.isRequired,panelTitle:t.string.isRequired,panelStyle:t.object.isRequired,customizeTheme:t.bool},getPanelTitle:function(){return this.props.panelTitle},getStyleId:function(){var e=this._getStyleCustomizationRule();return this.linkedCustomization(e).value},getCompRefs:function(){return this.getEditorAPI().selection.getSelectedComponents()},updateStyle:function(e){this.getEditorAPI().dsActions.wixapps.styles.update(this.getStyleId(),e)},firstSystemStyleForComp:function(){var e=this.getEditorAPI();return n.head(a.styleManager.getUniqueThemeStyleList(e.theme,e.components,this.props.compType))},getStyleDef:function(){var e=this.getEditorAPI();return e.theme.styles.get(this.getStyleId(),e.components.getPage(this.getCompRefs()).id)||l.isOpen("se_oldBlogDefaultStyleFix")&&this.firstSystemStyleForComp()},setStyleId:function(t){this.props.styleCustomizationRules.forEach(function(e){this.setCustomizationValue(e,t,!0)},this)},customizeDesignCallBack:function(){},getFieldIds:function(){return this.props.styleCustomizationRules.map(function(e){return e.fieldId})},getFormat:function(){return this._getStyleCustomizationRule().format},getView:function(){return this._getStyleCustomizationRule().view},_getStyleCustomizationRule:function(){return n.head(this.props.styleCustomizationRules)},getForType:function(){return this._getStyleCustomizationRule().forType},getPanelProps:function(){return n.assign(this.filteredProps(),{style:this.props.panelStyle})},render:o})}),define("designPanel/wixapps/wixappsDesignSubComponentsPanel",["lodash","create-react-class","compPanelInfra","designPanel/wixapps/wixappsDesignSubComponentsPanel.rt","designPanel/wixapps/wixappsDesignCustomizationPanel"],function(a,e,t,n,i){"use strict";return e({displayName:"wixappsDesignSubComponentsPanel",mixins:[t.compPanelMixin,t.wixappsPanelMixin],getStyleCustomizationRules:function(s){var e=this.getAvailableCustomizations("design"),o=this._getFormat();return a.filter(e,function(e){var t=a.isUndefined(e.format)||e.format===o||"*"===e.format,n=s.rules?a.some(s.rules,{fieldId:e.fieldId}):e.fieldId===(s.compId||s.id),i="comp.style"===e.key;return t&&n&&i})},getCompVisibilityCustomization:function(t){var e=a.find(this.getAvailableCustomizations("design"),function(e){return e.relatedComp===t.id&&a.includes(["comp.hidden","showItemsCount","showPostCount"],e.key)});return e&&(e.value=this.linkedCustomization(e).value),e},getComps:function(){var t=this;return this.getInnerComps().filter(function(e){return!t.evaluateHiddenWhenCondition(e.hiddenWhen)}).map(function(e){return{label:e.label,id:e.id,type:e.type,customization:this.getCompVisibilityCustomization(e),styleCustomizationRules:this.getStyleCustomizationRules(e)}},this)},isChecked:function(e){return e.value===e.input.trueVal},openCustomizeDesign:function(e){this.props.switchPanelFunc(i,{styleCustomizationRules:e.styleCustomizationRules,compType:this.getEditorAPI().dsRead.wixapps.classics.getComponentTypeByProxyName(e.type),panelTitle:e.label,panelStyle:this.props.style,customizeTheme:"LabelWithoutTheme"!==e.type})},updateCompValue:function(e,t){e.value=String(t===e.input.trueVal),this.linkedCustomization(e).requestChange(e.value)},render:n})}),define("designPanel/wixapps/wixappsDesignPanel",["create-react-class","lodash","core","compPanelInfra","designPanel/wixapps/wixappsDesignSubComponentsPanel"],function(e,t,n,i,s){"use strict";return e({displayName:"WixappsDesignPanel",mixins:[n.mixins.editorAPIMixin,i.panelSwitcherMixin],getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label"}},getInitialPanelClass:function(){return s}})}),define("designPanel/list/listDesignPresetPanel.rt",["react","lodash","baseUI","designPanel/core/designPanel"],function(e,t,n,i){"use strict";return function(){return e.createElement(i,t.assign({},{title:"list_design_panel_header_label",panelName:"listDesignPresetPanel",compType:"wixapps.integration.components.AppPart2",helpId:this.props.helpId},this.getDesignPanelProps()),e.createElement("div",{className:"button-wrapper"},e.createElement(n.button,{className:"button",label:"list_design_panel_customize_design_button_label",onClick:this.openCustomizeFieldsPanel})))}}),define("designPanel/list/listDesignPanelMixin",["lodash","prop-types","core","util"],function(t,e,n,i){"use strict";return{mixins:[n.mixins.editorAPIMixin],propTypes:{listId:e.string,selectedComponent:e.array.isRequired,switchPanelFunc:e.func.isRequired},switchPanel:function(e,t){this.props.switchPanelFunc(e,t)},getFormat:function(){return this.getEditorAPI().isMobileEditor()?"Mobile":void 0},getListId:function(){return this.props.listId||this.getEditorAPI().components.data.get(this.props.selectedComponent).appPartName},getCompId:function(){return t.head(this.props.selectedComponent).id},getFieldPropValue:function(e,t){var n=this.getEditorAPI().dsRead.wixapps.appbuilder.layout.getField(this.getListId(),e,this.getFormat());return t?n[t]:n},updateFieldPropValue:function(e,t,n){var i={name:e};i[t]=n,this.getEditorAPI().dsActions.wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),i,this.getFormat())},updateFieldPropValueInAllDevices:function(e,t,n){var i={name:e};i[t]=n,this.getEditorAPI().dsActions.wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),i),this.getEditorAPI().dsActions.wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),i,"Mobile")},addHistorySnapshot:function(e,t,n){this.getEditorAPI().history.add("List design update: listId ["+this.props.listId+"] fieldName ["+e+"] prop ["+t+"] newValue ["+n+"]")},getTitleForFieldPanel:function(e){return t.compact([i.translate("list_design_header_prefix"),e,i.translate("list_design_header_suffix")]).join(" ")}}}),define("designPanel/list/listCustomizeFieldsPanel.rt",["react","lodash","baseUILib","baseUI","compPanelInfra","util","core"],function(i,s,o,a,l,r,e){"use strict";return function(){return i.createElement.apply(this,[l.compPanelFrame,(e={className:"list-customize-fields",title:"list_design_panel_header_label",panelName:this.panelName},t=this.filteredProps(),n=s.assign({},e,t),e.hasOwnProperty("style")&&(n.style=s.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n),i.createElement(o.Divider,{long:!0}),s.map(this.getFields(),function(e,t){return i.createElement("div",{key:e.name},this.canCustomizeField(e)?i.createElement(a.checkboxWithButton,{key:e.name,className:"field-checkbox-component",shouldTranslate:!1,value:!e.hidden,onChange:function(e,t,n){this.toggleFieldVisibility(e,n)}.bind(this,e,t),label:e.displayName,buttonLabel:r.translate("list_design_panel_customize_field_call_to_action_label"),onButtonClick:this.openStylePanel.bind(this,e)}):null,this.canCustomizeField(e)?null:i.createElement(o.Checkbox,{key:e.name,labelAfterSymbol:!0,className:"field-checkbox-component",shouldTranslate:!1,value:!e.hidden,onChange:function(e,t,n){this.toggleFieldVisibility(e,n)}.bind(this,e,t),label:e.displayName}),i.createElement(o.Divider,{long:!0}))}.bind(this)),function(){var e=this.getListLayout();return i.createElement(a.checkboxWithButton,{className:"field-checkbox-component",value:!e.hideSeparator,onChange:function(e,t){this.setListLayout("hideSeparator",!t)}.bind(this,e),label:"list_design_panel_separator_label",buttonLabel:"list_design_panel_customize_field_call_to_action_label",onButtonClick:function(e){this.openSeparatorDesignPanel(e)}.bind(this,e)})}.apply(this,[])]);var e,t,n}}),define("designPanel/list/fieldStyleDesignPanel.rt",["react","lodash","baseUI","designPanel/wixapps/appPartChangeStyleDesignPanel"],function(e,t,n,i){"use strict";return function(){return e.createElement(i,t.assign({},{getTitle:t.partial(this.getTitleForFieldPanel,this.state.fieldData.displayName),selectedComponent:this.props.selectedComponent,compType:this.state.fieldData.componentType,currentStyleId:this.getStyleId(),shouldTranslate:!1,getStyle:this.getStyleDef,shouldMaintainOriginalLayout:!1,updateStyle:this.updateStyle,setStyleId:this.setStyleId,onForkStyle:this.saveLastPermanentStyleDef},t.omit(this.filteredProps(),["shouldMaintainOriginalLayout","currentStyleId","compRef","compType","updateStyle"])))}}),define("designPanel/list/fieldStyleDesignPanel",["create-react-class","prop-types","lodash","util","designPanel/list/fieldStyleDesignPanel.rt","designPanel/list/listDesignPanelMixin","coreBi","core"],function(e,t,n,i,s,o,a,l){"use strict";return e({displayName:"fieldStyleDesignPanel",mixins:[o,i.propTypesFilterMixin],propTypes:{fieldName:t.string.isRequired,selectedComponent:t.array.isRequired},getInitialState:function(){return{fieldData:this.getFieldPropValue(this.props.fieldName)}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},sendBIFieldStyleChanged:function(e){this.getEditorAPI().bi.event(a.events.lists.LIST_DESIGN_FIELD_STYLE_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:e.name,field_display_name:e.displayName,field_type:e.type})},getStyleId:function(){return this.state.fieldData.style},updateStyle:function(e,t){this.getEditorAPI().dsActions.wixapps.styles.update(this.getStyleId(),e),t||this.state.lastPermanentStyleDef&&l.styleManager.isEqual(e,this.state.lastPermanentStyleDef)||(this.saveLastPermanentStyleDef(e),this.sendBIFieldStyleChanged(this.state.fieldData))},saveLastPermanentStyleDef:function(e){this.setState({lastPermanentStyleDef:e})},getStyleDef:function(){var e=this.getEditorAPI();return e.theme.styles.get(this.getStyleId(),e.components.getPage(this.props.selectedComponent).id)},setStyleId:function(e){var t=this.state.fieldData;e!==this.state.fieldData.style&&(this.updateFieldPropValueInAllDevices(t.name,"style",e),this.getEditorAPI().dsActions.waitForChangesApplied(function(){var e=this.getFieldPropValue(this.props.fieldName);this.setState({fieldData:e})}.bind(this)))},render:s})}),define("designPanel/list/listTextFieldDesignPanel.rt",["react","lodash","baseUILib","baseUI","textControls","compPanelInfra","constants"],function(i,s,o,a,l,r,p){"use strict";return function(){return i.createElement(r.compPanelFrame,(e={panelName:"listTextFieldDesignPanel",title:this.getTitleForFieldPanel(this.state.fieldData.displayName),shouldTranslate:!1,className:"settings-panel"},t=this.filteredProps(),n=s.assign({},e,t),e.hasOwnProperty("style")&&(n.style=s.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n),this.props.children?i.createElement("div",{key:"panel-children"},i.createElement(o.Divider,{long:!0}),"\n        ",this.props.children,"\n    "):null,i.createElement(o.Divider,{long:!0}),i.createElement(l.textStyle,{label:"text_editor_theme_label",value:this.state.fieldData.fontClass,infoText:"text_editor_tooltip_theme",nullLabel:this.translateIfNeeded("list_design_panel_Customize_TextField_CustomTheme_DropdownItem_Label"),onChange:function(e){this.updateFieldProp("fontClass",e)}.bind(this),themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().dsRead.theme.fonts.getAll(),isDeveloperMode:this.getEditorAPI().developerMode.isEnabled()}),i.createElement(o.Divider,{long:!0}),i.createElement(l.fontFamily,{label:"text_editor_font_label",value:this.getFontFamilyValue(this.state.fieldData.fontFamily),infoText:"text_editor_font_tooltip",onChange:function(e){this.updateFieldProp("fontFamily",e)}.bind(this),fonts:l.fontUtils.getCurrentSelectableFontsWithParams(this.getEditorAPI())}),i.createElement(o.Divider,{long:!0}),i.createElement(a.slider,{label:"text_editor_font_size_label",value:parseInt(this.state.fieldData.fontSize,10),units:"px",infoText:"text_editor_font_size_tooltip",onChange:function(e){this.updateFieldProp("fontSize",e)}.bind(this),min:l.constants.FONT_SIZE.MIN,max:l.constants.FONT_SIZE.MAX}),i.createElement(o.Divider,{long:!0}),i.createElement("div",{className:"button-row"},i.createElement(l.iconButton,{name:"textBold",isSelected:this.state.fieldData.bold,onClick:function(e){this.updateFieldProp("bold",!this.state.fieldData.bold)}.bind(this),tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:p.UI.TOOLTIP.STYLE_TYPE.SMALL}),i.createElement(l.iconButton,{name:"textItalic",isSelected:this.state.fieldData.italic,onClick:function(e){this.updateFieldProp("italic",!this.state.fieldData.italic)}.bind(this),tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:p.UI.TOOLTIP.STYLE_TYPE.SMALL}),i.createElement(l.iconButton,{name:"textUnderline",isSelected:this.state.fieldData.underline,onClick:function(e){this.updateFieldProp("underline",!this.state.fieldData.underline)}.bind(this),tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:p.UI.TOOLTIP.STYLE_TYPE.SMALL}),i.createElement(l.textColor,{value:this.getColorValue(this.state.fieldData.color),onClick:function(e){this.onClickColor(this.state.fieldData.color)}.bind(this),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:p.UI.TOOLTIP.STYLE_TYPE.SMALL}),function(){var e=this.getBackgroundColorForPicker();return i.createElement(l.textBackgroundColor,{color:this.getColorValue(e),onClick:function(e,t){this.onClickBackgroundColor(e)}.bind(this,e),handleNoColor:this.handleNoBackgroundColor,tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:p.UI.TOOLTIP.STYLE_TYPE.SMALL})}.apply(this,[]),i.createElement(l.iconsDropDown,{value:this.state.fieldData.layout["text-align"],onChange:function(e){this.updateLayoutProp("text-align",e)}.bind(this),items:this.textAlignOptions(),tooltipValue:"text_editor_buttons_tooltip_alignment",tooltipStyleType:p.UI.TOOLTIP.STYLE_TYPE.SMALL})));var e,t,n}}),define("designPanel/list/listTextFieldDesignPanel",["create-react-class","prop-types","lodash","util","designPanel/list/listTextFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin","textControls"],function(e,t,i,n,s,o,a){"use strict";function l(e){return e&&e.replace(/^backcolor/,"color")}function r(e,t){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{displayNoColor:!0,previewOnHover:!1,top:parseInt(this.props.style.top,10)+72+"px",left:parseInt(this.props.style.left,10)-12+"px",value:e,onChange:t},!0)}return e({displayName:"listTextFieldDesignPanel",mixins:[o,n.propTypesFilterMixin,n.translationMixin],propTypes:{fieldName:t.string.isRequired},getInitialState:function(){return{fieldData:this.getFieldPropValue(this.props.fieldName)}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},getFontFamilyValue:function(e){return a.fontUtils.isUploadedFont(e)?e:e&&a.fontUtils.getFont(e).fontFamily},updateFieldProp:function(e,t){this.updateFieldPropValueInAllDevices(this.props.fieldName,e,t),this.addHistorySnapshot(this.props.fieldName,e,t)},textAlignOptions:function(){return{textAlignCenter:"center",textAlignLeft:"left",textAlignRight:"right",textAlignBlock:"justify"}},getBackgroundColorForPicker:function(){return l(this.state.fieldData.backgroundColor)},updateLayoutProp:function(e,t){var n=i.clone(this.state.fieldData.layout);n[e]=t,this.updateFieldProp("layout",n)},onClickColor:function(e){r.call(this,e,function(e){this.updateFieldProp("color",e)}.bind(this))},onClickBackgroundColor:function(e){r.call(this,e,function(e){var t;e=(t=e)&&t.replace(/^color/,"backcolor"),this.updateFieldProp("backgroundColor",e)}.bind(this))},handleNoBackgroundColor:function(){return this.updateFieldProp("backgroundColor",null)},getColorValue:function(e){return e&&0===e.indexOf("backColor")&&(e=l(e)),e&&0===e.indexOf("color")&&(e=this.getEditorAPI().theme.colors.getAll()[e]||e),e},render:s})}),define("designPanel/list/listDateFieldDesignPanel.rt",["react","lodash","designPanel/list/listTextFieldDesignPanel","baseUI"],function(n,e,t,i){"use strict";return function(){return n.createElement(t,this.props,n.createElement.apply(this,[i.dropDown.select,{label:"list_design_panel_date_format",value:this.getFormatValue(),onChange:this.updateFormatValue},e.map(this.getAllDateFormats(),function(e,t){return n.createElement(i.dropDown.option,{value:e.value},"\n            ",this.translateIfNeeded(e.label),"\n        ")}.bind(this))]))}}),define("designPanel/list/listDateFieldDesignPanel",["create-react-class","prop-types","util","designPanel/list/listDateFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin"],function(e,t,n,i,s){"use strict";return e({displayName:"listDateFieldDesignPanel",mixins:[s,n.translationMixin],propTypes:{fieldName:t.string.isRequired},getFormatValue:function(){return this.getFieldPropValue(this.props.fieldName,"format")},updateFormatValue:function(e){this.updateFieldPropValueInAllDevices(this.props.fieldName,"format",e),this.addHistorySnapshot(this.props.fieldName,"format",e)},getAllDateFormats:function(){return[{label:"LIST_date_format_D/MM/YYYY",value:"m/d/yyyy"},{label:"list_date_format_DD/MM/YYYY",value:"mm/dd/yyyy"},{label:"list__date_format_DD.MM.YYYY",value:"mm.dd.yyyy"},{label:"list__date_format_D.MM.YYYY",value:"m.d.yyyy"},{label:"list__date_format_DD_MMM_YYYY",value:"dd mmm yyyy"},{label:"list__date_format_DD-MM-YYYY",value:"dd-mm-yyyy"},{label:"list__date_format_MMMM_DD_YYYY",value:"mmmm dd, yyyy"},{label:"list__date_format_DD/MM/YYYY",value:"dd/mm/yyyy"},{label:"list__date_format_DD/M/YYYY",value:"d/m/yyyy"},{label:"list__date_format_DD.M.YYYY",value:"d.m.yyyy"}]},render:i})}),define("designPanel/list/listCustomizeFieldsPanel",["create-react-class","lodash","util","designPanel/list/listCustomizeFieldsPanel.rt","designPanel/wixapps/appPartChangeStyleDesignPanel","designPanel/list/listDesignPanelMixin","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/list/listDateFieldDesignPanel","coreBi","constants"],function(e,t,n,i,s,o,a,l,r,p,d){"use strict";var c={"string|wysiwyg.viewer.components.wrichtext":l,"wix:date|wysiwyg.viewer.components.wrichtext":r};return e({displayName:"listCustomizeFieldsPanel",mixins:[o,n.propTypesFilterMixin],panelName:"listCustomizeFieldsPanel",getFields:function(){return this.getEditorAPI().dsRead.wixapps.appbuilder.layout.getAllFields(this.getListId(),this.getFormat())},shouldShowFirstTime:function(){return"1.0"===this.getEditorAPI().dsRead.wixapps.appbuilder.data.lists.getListVersion(this.getListId())},canCustomizeField:function(e){return!this.getEditorAPI().isMobileEditor()&&"wix:RichText"!==e.type},openStylePanel:function(e){var t,n;(function(e){this.getEditorAPI().bi.event(p.events.lists.LIST_DESIGN_FIELD_CUSTOMIZE_CLICKED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:e.name,field_display_name:e.displayName,field_type:e.type})}).call(this,e),this.switchPanel((n=[(t=e).type,t.componentType].join("|").toLowerCase(),c[n]||a),{listId:this.getListId(),fieldName:e.name})},toggleFieldVisibility:function(e,t){this.updateFieldPropValue(e.name,"hidden",!t),this.addHistorySnapshot(e.name,"hidden",!t),function(e,t){this.getEditorAPI().bi.event(p.events.lists.LIST_DESIGN_FIELD_VISIBILITY_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:e.name,field_display_name:e.displayName,field_type:e.type,check_box_status:t?"on":"off"})}.call(this,e,t)},getListLayout:function(){return this.getEditorAPI().dsRead.wixapps.appbuilder.layout.getListLayout(this.getListId(),this.getFormat())},setListLayout:function(e,t){var n={};return n[e]=t,this.getEditorAPI().dsActions.wixapps.appbuilder.layout.setListLayout(this.getListId(),n,this.getFormat())},openLearnMore:function(){var e={panel_name:this.panelName,origin:d.BI.HELP.ORIGIN.PANEL,component:this.getEditorAPI().selection.getSelectedComponentType(),learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("54a00e80-0fe5-4b3d-af7e-ec5f38d727f2",null,e)},getStyleId:function(){return this.getListLayout().separatorStyle},setStyleId:function(e){this.setListLayout("separatorStyle",e)},updateStyle:function(e){this.getEditorAPI().dsActions.wixapps.styles.update(this.getStyleId(),e)},getStyleDef:function(){var e=this.getEditorAPI();return e.theme.styles.get(this.getStyleId(),e.components.getPage(this.props.selectedComponent).id)},openSeparatorDesignPanel:function(e){this.switchPanel(s,t.assign(this.filteredProps(),{title:this.getTitleForFieldPanel(n.translate("list_design_panel_separator_label")),selectedComponent:this.props.selectedComponent,compType:e.separatorComponentType,currentStyleId:e.separatorStyle,updateStyle:this.updateStyle,getStyle:this.getStyleDef,setStyleId:this.setStyleId,shouldTranslate:!1,shouldMaintainOriginalLayout:!1}))},render:i})}),define("designPanel/list/listDesignPresetPanel",["create-react-class","prop-types","lodash","designPanel/list/listDesignPresetPanel.rt","designPanel/list/listDesignPanelMixin","designPanel/list/listCustomizeFieldsPanel","coreBi"],function(e,t,n,i,s,o,a){"use strict";return e({displayName:"listDesignPresetPanel",mixins:[s],propTypes:{selectedComponent:t.array.isRequired},changePermanentState:function(e,t){(function(e){var t=e.custom.template;this.getEditorAPI().dsActions.wixapps.appbuilder.layout.setItemTemplate(this.getListId(),t),this.getEditorAPI().components.layout.update(this.props.selectedComponent,{width:e.layout.width},!0)}).call(this,e),function(e){this.getEditorAPI().bi.event(a.events.lists.LIST_DESIGN_PRESET_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),preset_id:e})}.call(this,t)},openCustomizeFieldsPanel:function(){this.switchPanel(o,{listId:this.getListId()})},getDesignPanelProps:function(){return n.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:n.noop,maintainOriginalState:n.noop})},render:i})}),define("designPanel/list/listDesignPanel",["create-react-class","prop-types","lodash","core","compPanelInfra","designPanel/list/listDesignPresetPanel","coreBi","designPanel/list/listCustomizeFieldsPanel"],function(e,t,n,i,s,o,a,l){"use strict";function r(e){return n.head(e).id}function p(){return this.getEditorAPI().components.data.get(this.props.selectedComponent).appPartName}return e({displayName:"listDesignPanel",mixins:[i.mixins.editorAPIMixin,s.panelSwitcherMixin],propTypes:{selectedComponent:t.array.isRequired},getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label",helpId:"1d4fc63f-a23a-4ed3-b811-905f18045fe9"}},getInitialPanelClass:function(){return this.getEditorAPI().isMobileEditor()||"1.0"===function(){return this.getEditorAPI().dsRead.wixapps.appbuilder.data.lists.getListVersion(p.call(this))}.call(this)?l:o},onPreviousPanel:function(e){(function(e){this.getEditorAPI().bi.event(a.events.lists.LIST_DESIGN_BACK_CLICKED,{list_part_id:p.call(this),component_id:r(this.props.selectedComponent),back_to_panel_name:e.displayName})}).call(this,e)},componentWillMount:function(){(function(){this.getEditorAPI().bi.event(a.events.lists.LIST_DESIGN_PANEL_OPENED,{list_part_id:p.call(this),component_id:r(this.props.selectedComponent)})}).call(this)}})}),define("designPanel/panelTypes/cssDesignDataPanel.rt",["react","lodash","designPanel/core/designPanel","customizeDesignDataPanel","baseUI"],function(t,e,n,i,s){"use strict";return function(){return t.createElement(n,e.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()),this.shouldLinkToAdvancedStyling()?t.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},t.createElement(s.button,{className:"button",ref:"customizeDesign",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.state.advancedStyling?function(){var e=i.panel;return t.createElement("div",{key:"advancedStylePanel"},t.createElement(e,{selectedComponent:this.props.selectedComponent,selectedCategory:this.props.selectedCategory}))}.apply(this,[]):null)}}),define("designPanel/panelTypes/cssDesignDataPanel",["create-react-class","lodash","core","stateManagement","designPanelUtils","addPanelDataConsts","designPanel/panelTypes/cssDesignDataPanel.rt"],function(e,i,t,n,s,o,a){"use strict";var l=n.editorPlugins.domMeasurements.hoc.panelPosition,r=null,p=null,d=e({displayName:"change-css-design-data-panel",mixins:[s,t.mixins.editorAPIMixin],getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},componentWillMount:function(){r=this.getEditorAPI().components.design.get(this.props.selectedComponent)},componentWillUnmount:function(){p=null},changePermanentState:function(e){e.design&&(p=e.design,this.getEditorAPI().components.design.update(this.props.selectedComponent,e.design,!0))},changeTempState:function(e){e.design&&this.getEditorAPI().components.design.update(this.props.selectedComponent,e.design,!0)},maintainOriginalState:function(){var e=p||r;i.isNull(e)||this.getEditorAPI().components.design.update(this.props.selectedComponent,e,!0)},isSelectedItem:function(e,t){if(!i.isNull(p))return e.design.charas===p.charas;if(e.design.charas===r.charas){var n=o.SECTIONS_TYPES;return t===n.PERSONALIZED_DESIGN||t===n.DESIGN_DATA_THEME_PRESET}},shouldLinkToAdvancedStyling:function(){return!this.state.advancedStyling},render:a});return l()(d)}),define("designPanel/panelTypes/changeGoogleMapDesignPanel.rt",["react","lodash","designPanel/core/designPanel"],function(e,t,n){"use strict";return function(){return e.createElement(n,t.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()))}}),define("designPanel/panelTypes/changeGoogleMapDesignPanel",["create-react-class","core","stateManagement","lodash","designPanel/core/designPanelMixin","designPanel/panelTypes/changeGoogleMapDesignPanel.rt"],function(e,t,n,l,i,s){"use strict";var o=n.editorPlugins.domMeasurements.hoc.panelPosition,r={groups:{},properties:{},propertiesSource:{}},a=e({displayName:"changeGoogleMapDesignPanel",mixins:[i,t.mixins.editorAPIMixin],getStateFromProps:function(e){var t=this.getEditorAPI(),n=e.selectedComponent,i=t.components.data.get(n),s=t.components.properties.get(n);return{mapStyle:l.get(i,"mapStyle",[]),mapType:s.mapType,originalStyleDef:t.components.style.get(n),isPermanentStateChanged:!1}},updateComponent:function(e){var t=this.getEditorAPI(),n=this.props.selectedComponent,i=e.data,s=e.props,o=!1;if(i&&s){o=!0;var a=t.components.style.get(this.props.selectedComponent);a.style=l.get(e,"style.style",r),t.components.data.update(n,l.pick(i,"mapStyle"),!0),t.components.properties.update(n,l.pick(s,"mapType"),!0),t.components.style.update(this.props.selectedComponent,a),this.changeSkin(a,"wysiwyg.viewer.skins.GoogleMapSkin")}return o},changeSkin:function(e,t){t!==e.skin&&(e.skin=t,this.getEditorAPI().components.style.update(this.props.selectedComponent,e))},changePermanentState:function(e){this.updateComponent(e)&&this.setState({mapStyle:e.data.mapStyle,mapType:e.props.mapType,isPermanentStateChanged:!0})},changeTempState:function(e){this.updateComponent(e)},maintainOriginalState:function(){var e=this.getEditorAPI(),t=this.props.selectedComponent,n=this.state.mapStyle,i=this.state.mapType;n&&i&&(e.components.data.update(t,{mapStyle:n},!0),e.components.properties.update(t,{mapType:i},!0),this.state.isPermanentStateChanged||e.components.style.update(t,this.state.originalStyleDef))},render:s}),p=o()(a);return p.pure=a,p}),define("designPanel/panelTypes/changeDataCustomizeDesignPanel.rt",["react","lodash","designPanel/core/designPanel","baseUI","util","advancedStylePanel"],function(e,t,n,i,s,o){"use strict";return function(){return e.createElement(n,t.assign({},{panelName:this.props.panelName},this.getDesignPanelProps()),this.shouldLinkToAdvancedStyling()?e.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},e.createElement(i.button,{className:"button",label:"design_customize_button",onClick:this.props.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.props.advancedStyling?e.createElement("div",{key:"advancedStylePanel"},e.createElement(o.panel,this.props.advancedStylingProps)):null)}}),define("designPanel/panelTypes/changeDataCustomizeDesignPanel",["create-react-class","lodash","core","higherOrderComponents","designPanel/panelTypes/changeDataCustomizeDesignPanel.rt","prop-types"],function(e,t,n,i,s,o){"use strict";var a=e({displayName:"changeDataCustomizeDesignPanel",mixins:[n.mixins.editorAPIMixin],render:s,propTypes:{selectedComponent:o.oneOfType([o.object.isRequired,o.array.isRequired]),advancedStyling:o.bool,propsForDesignPanel:o.object},getInitialState:function(){return{currentDataItem:this.getEditorAPI().components.data.get(this.props.selectedComponent)}},changePermanentState:function(e){e.data&&(this.getEditorAPI().components.data.update(this.props.selectedComponent,e.data),this.setState({currentDataItem:e.data}))},changeTempState:function(e){e.data&&this.getEditorAPI().components.data.update(this.props.selectedComponent,e.data)},maintainOriginalState:function(){this.state.currentDataItem&&this.getEditorAPI().components.data.update(this.props.selectedComponent,this.state.currentDataItem)},isSelectedItem:function(e){return e.data.svgId===this.state.currentDataItem.svgId},shouldLinkToAdvancedStyling:function(){return!this.props.advancedStyling},getDesignPanelProps:function(){return t.defaults({changePermanentState:this.changePermanentState,changeTempState:this.changeTempState,maintainOriginalState:this.maintainOriginalState,isSelectedItem:this.isSelectedItem},this.props.propsForDesignPanel)}});return i.designPanel(a)}),define("designPanel/core/designPanelFactory",["react","create-react-class","prop-types","lodash","core","designPanelUtils","designPanel/panelTypes/changeStyleDesignPanel","designPanel/panelTypes/changeDataDesignPanel","designPanel/panelTypes/changeGalleryDesignPanel","designPanel/wixapps/wixappsDesignPanel","designPanel/list/listDesignPanel","designPanel/panelTypes/cssDesignDataPanel","designPanel/panelTypes/changeGoogleMapDesignPanel","designPanel/panelTypes/changeDataCustomizeDesignPanel"],function(o,e,t,a,n,l,r,i,s,p,d,c,u,g){"use strict";var h={"wysiwyg.common.components.imagebutton.viewer.ImageButton":{desktop:i},"wysiwyg.viewer.components.documentmedia.DocumentMedia":{desktop:i},"wysiwyg.viewer.components.MatrixGallery":{desktop:s},"wysiwyg.viewer.components.PaginatedGridGallery":{desktop:s},"wysiwyg.viewer.components.SliderGallery":{desktop:s},"wysiwyg.viewer.components.SlideShowGallery":{desktop:s},"tpa.viewer.components.Masonry":{desktop:s},"tpa.viewer.components.Accordion":{desktop:s},"tpa.viewer.components.Impress":{desktop:s},"tpa.viewer.components.Freestyle":{desktop:s},"tpa.viewer.components.Collage":{desktop:s},"tpa.viewer.components.Honeycomb":{desktop:s},"tpa.viewer.components.StripShowcase":{desktop:s},"tpa.viewer.components.StripSlideshow":{desktop:s},"tpa.viewer.components.Thumbnails":{desktop:s},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{desktop:s},"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{desktop:s},"wixapps.integration.components.AppPart":{desktop:p},"wixapps.integration.components.AppPart2":{desktop:d},"wysiwyg.viewer.components.HoverBox":{desktop:c},"wysiwyg.viewer.components.GoogleMap":{desktop:u},"wixui.RatingsDisplay":{desktop:g},"wixui.RatingsInput":{desktop:g}},m=["wysiwyg.viewer.components.QuickActionBar"];return e({displayName:"designPanelFactory",mixins:[n.mixins.editorAPIMixin],propTypes:{compType:t.string,shouldMaintainOriginalLayout:t.bool},componentWillUnmount:function(){this.props.onClose&&this.props.onClose()},render:function(){var e=this.getEditorAPI(),t=this.props.selectedComponent,n=this.props.compType;this.props.selectedComponent&&this.props.compType||(t=this.getEditorAPI().selection.getSelectedComponents(),n=e.components.getType(t));var i=function(e){var t=h[e];return t?this.getEditorAPI().isMobileEditor()&&t.mobile||t.desktop:r}.call(this,n),s={compType:n,selectedComponent:t,shouldMaintainOriginalLayout:!0,shouldChangeProperties:a.includes(m,n)};return l.customizeDesignComponents.showAdvancedStylingOnly(e,t,n)&&(s.onlyAdvancedStyling=!0),o.createElement(i,a.assign(s,this.props))}})}),define("designPanel",["designPanel/core/designPanelFactory","designPanel/list/listDesignPresetPanel","designPanel/list/listCustomizeFieldsPanel","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/panelTypes/changeStyleDesignPanel"],function(e,t,n,i,s,o){"use strict";return{designPanel:e,changeStyleDesignPanel:o,list:{listDesignPresetPanel:t,listCustomizeFieldsPanel:n,fieldStyleDesignPanel:i,listTextFieldDesignPanel:s}}});
//# sourceMappingURL=designPanel.min.js.map