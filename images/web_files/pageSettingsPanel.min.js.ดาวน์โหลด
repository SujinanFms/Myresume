var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,s=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){s=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(s)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}define("pageSettingsPanel/utils/constants",["constants"],function(e){"use strict";var t={USI_SEO_MAX_LENGTH:35,NAME_MAX_LENGTH:40,TITLE_SEO_MAX_LENGTH:70,TITLE_TOOLTIP_MARGIN_TOP:-6,TITLE_TOOLTIP_MARGIN_LEFT:-376,KEYWORD_SEO_MAX_LENGTH:250,KEYWORD_SEO_MAX_WORDS:10,DESCRIPTION_SEO_MAX_LENGTH:320,PASSWORD_TEMPLATE:"########",PASSWORD_MAX_LENGTH:15,INVALID_CHARACTERS:'[!#$%^&()+=}{";:\\/><~\\]\\[]',PERMISSION_STATES:{NONE:"none",PASSWORD:"password",MEMBERS:"members"},MEMBER_ACCESS_PERMISSIONS:{ALL:"all",SPECIFIC:"specific"},INPUT_TYPES:{PASSWORD:"password",TEXT:"text"},STATIC_PAGES_HELP_IDS:{},GOOGLE_PREVIEW_HELP_ID:"0aafdc03-cf40-40c1-8e72-fdcbd95d006c",SIGNUP_HELP_ID:"4e10353d-4091-49fb-8e6e-eb6d26b43468",FIND_OUT_MORE_HELP_ID:"2e86c42a-98de-42c2-8d02-397fc5944687",PRICING_PLANS_APP_DEF_ID:"1522827f-c56c-a5c9-2ac9-00f9e6ae12d3"};return t.STATIC_PAGES_HELP_IDS[e.PAGE_SETTINGS_TABS.PAGE_INFO]="04945784-71f2-4312-9fd5-73804fc4556d",t.STATIC_PAGES_HELP_IDS[e.PAGE_SETTINGS_TABS.LAYOUT]="9a6cfe92-2d54-4107-8a46-c83ac8a51a39",t.STATIC_PAGES_HELP_IDS[e.PAGE_SETTINGS_TABS.PERMISSIONS]="b893d6b5-13b3-44d0-9e11-46eecd862a87",t.STATIC_PAGES_HELP_IDS[e.PAGE_SETTINGS_TABS.SEO]="5faf282c-200b-4f6b-ac3c-9cc38feb81b3",Object.freeze(t)}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopMapper",["lodash"],function(o){"use strict";return{mapStateToProps:function(e,n){var t,s=e.editorAPI,i=s.pages.getPagesData();return{isDeveloperModeEnabled:s.developerMode.isEnabled(),isApplicationOverridingSettingTab:function(){var e,t=o.find(i,{id:n.menuItem.pageData.id});if(o.get(t,"managingAppDefId")&&s.platform.applicationPages.getDataFromPagesAppManifest(t.managingAppDefId,"pageSettings"))return!0;if(n.menuItem.pageData.id,(e=o.get(n.menuItem.pageData,"id"))&&s.dsRead.routers.getRouterDataForPageIfExist(e)){var a=s.dsRead.routers.getRouterDataForPageIfExist(n.menuItem.pageData.id);if(s.platform.routers.getDataFromRoutersAppManifest(a.appDefinitionId,"pageSettings"))return!0}return!1}(),applicationTabs:(t=o.find(i,{id:n.menuItem.pageData.id}),o.get(t,"managingAppDefId")?s.platform.applicationPages.getDataFromPagesAppManifest(t.managingAppDefId,"pageSettings"):s.pages.dynamicPages.getDynamicPageActions(n.menuItem.pageData.id,"pageSettings"))}},mapDispatchToProps:function(a){return{sendBi:function(e,t){var n,s;a((n=e,s=t,function(e,t,a){a.editorAPI.bi.event(n,s)}))},getRouterDataForPageIfExist:function(){return a(function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return function(e,t,a){var n;return(n=a.editorAPI.dsRead.routers).getRouterDataForPageIfExist.apply(n,s)}}.apply(void 0,arguments))}}}}}),define("pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode.rt",["react","lodash","util","baseUILib"],function(e,t,a,n){"use strict";return function(){return e.createElement("div",{className:"tab tab-dynamic-page-no-dev-node"},function(){return a.translate,e.createElement(n.CustomScroll,{},e.createElement("div",{className:t({"tab-inner":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},e.createElement(n.Composites.RichTextLabeled,{},e.createElement(n.TextLabel,{type:"T06",value:a.translate("PLATFORM_PAGE_SETTINGS_DEVTOOLS_DISABLED_TITLE"),shouldTranslate:!1}),e.createElement(n.RichText,{},e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph1")),e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph2"))))))}.apply(this,[]))}}),define("pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode",["create-react-class","pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode.rt"],function(e,t){"use strict";return e({displayName:"dynamicPageSettingsNoDevModeNew",render:t})}),define("pageSettingsPanel/settings/applicationSettingsPanelTabs.rt",["react","lodash","baseUI"],function(a,e,n){"use strict";return function(){return a.createElement("div",{},a.createElement(n.tabs.holder,{value:this.props.selectedTabType,className:"top page-settings-tabs dynamic-page-settings-tabs",onChange:function(e){this.props.setActiveTabType(e)}.bind(this)},a.createElement.apply(this,[n.tabs.header,{},e.map(this.props.tabs,function(e,t){return a.createElement(n.tabs.label,{tabsAmount:this.props.tabs.length,key:e.title+t,htmlFor:e.type},e.title)}.bind(this))]),a.createElement.apply(this,[n.tabs.content,{className:"page-settings-panel-pp-content"},e.map(this.props.tabs,function(e,t){return a.createElement(n.tabs.tab,{key:t,name:e.type,children:this.getTabContent(e,t)})}.bind(this))])))}}),define("pageSettingsPanel/settings/tabs/tabLayout.rt",["react","lodash","baseUI","santa-editor-symbols","util","baseUILib"],function(t,e,a,n,s,i){"use strict";return function(){return function(){var e=s.translate;return t.createElement(i.CustomScroll,{},t.createElement("div",{className:"layout tab-inner"},t.createElement(a.tabs.holder,{className:"left radio",valueLink:this.linkPageProperty("isLandingPage")},t.createElement(a.tabs.header,{},t.createElement(a.tabs.label,{htmlFor:!1},t.createElement(n.symbol,{name:"layoutStandardSelected"}),t.createElement(n.symbol,{name:"layoutStandardNotSelected"}),t.createElement("div",{},t.createElement("h3",{},e("Pages_Layouts_Standard_Title")),t.createElement("p",{},e("Pages_Layouts_Standard_Text")))),t.createElement(a.tabs.label,{htmlFor:!0},t.createElement(n.symbol,{name:"layoutLandingSelected"}),t.createElement(n.symbol,{name:"layoutLandingNotSelected"}),t.createElement("div",{},t.createElement("h3",{},e("Pages_Layouts_Landing_Title")),t.createElement("p",{},e("Pages_Layouts_Landing_Text"),t.createElement("br",{}),t.createElement(a.button,{label:"Pages_Layouts_Landing_Learn",className:"btn-text",onClick:this.openLearnMore}))))))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/pageSettingsTabMixin",["core"],function(e){"use strict";return{mixins:[e.mixins.editorAPIMixin],getPageData:function(){return this.props.pageData||this.props.menuItem.pageData},getPageId:function(){var e=this.getPageData();return e?e.id:null},getValueFromPageData:function(e){var t=this.getPageData();return t&&t[e]},linkPageProperty:function(t){var a=this.getPageId(),n=this.getEditorAPI(),s={};return{value:this.getValueFromPageData(t),requestChange:function(e){n.history.add("page property change"),s[t]=e,n.pages.data.update(a,s)}}},linkInversePageProperty:function(t){var a=this.getPageId(),n=this.getEditorAPI(),s={};return{value:!this.getValueFromPageData(t),requestChange:function(e){s[t]=!e,n.pages.data.update(a,s)}}}}}),define("pageSettingsPanel/settings/tabs/tabLayout",["create-react-class","prop-types","pageSettingsPanel/settings/tabs/tabLayout.rt","constants","pageSettingsPanel/settings/tabs/pageSettingsTabMixin"],function(e,t,a,n,s){"use strict";return e({displayName:"tabLayoutNew",mixins:[s],propTypes:{menuItem:t.object.isRequired},openLearnMore:function(){var e={panel_name:"tab_layout",origin:n.BI.HELP.ORIGIN.PAGES,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("3ff92482-4a9e-48f1-af56-c7ed01571ad2",null,e)},render:a})}),define("pageSettingsPanel/settings/tabs/tabPermissions.rt",["react","lodash","baseUI","santa-editor-symbols","util","pageSettingsPanel/utils/constants","experiment","baseUILib"],function(s,a,e,n,i,o,r,l){"use strict";return function(){function t(e){var t=this.getDialogLanguageType();return s.createElement.apply(this,[l.DropDown,{value:this.state[t],openOnSelected:!0,shouldTranslate:!1,onChange:this.getHandleChangeDialogLanguage(t)},a.map(i.languages.getLanguagesList(),function(e,t,a,n){return s.createElement(l.DropDownOption,{key:a.value,value:a.value,label:a.label,shouldTranslate:!1})}.bind(this,e,t))])}return function(){var e=i.translate;return s.createElement(l.CustomScroll,{},s.createElement("div",{className:"permissions-tab tab-inner"},s.createElement(l.Composites.Thumbnails,{},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Title"}),s.createElement(l.Thumbnails,{value:this.state.focusedProtectionType,maxThumbsPerRow:3,options:this.getThumbnailOptions(),borderType:"thumbnailAndLabel",labelsType:"T15",shoudAddTooltipOnEllipsis:!1,onChange:this.handleChangePermission})),s.createElement(l.Composites.RichText,{},s.createElement(l.RichText,{},s.createElement("p",{},"\n                    ",e(this.getPermissionDescription())+" ","\n                    ",s.createElement("a",{onClick:this.handleClickLearnMore},"\n                        ",e("NewPages_Panel_Permissions_Password_Learn_More"),"\n                    ")))),s.createElement(l.Divider,{}),this.state.focusedProtectionType===o.PERMISSION_STATES.PASSWORD?s.createElement(l.Composites.TextInputLabeled,{key:"page-permissions-password-input"},s.createElement(l.TextLabel,{value:"Pages_Permissions_Password_Choose"}),this.shouldShowPasswordMockElement()?s.createElement(l.TextInput,{key:"passwordMockElement",onClick:this.onPasswordFocus,value:o.PASSWORD_TEMPLATE,type:"password"}):null,this.shouldShowPasswordMockElement()?null:s.createElement(l.TextInput,{key:"visible-password-input",focus:!this.isPasswordHidden(),onFocus:this.onPasswordFocus,onBlur:this.onPasswordBlur,value:this.state.plainPassword,type:this.state.passwordInputType,placeholder:"NewPages_Panel_Permissions_Set_Password_InputField_Text",maxLength:o.PASSWORD_MAX_LENGTH,validator:this.isValidPassword,invalidMessage:"Pages_Permissions_Password_Error_Tooltip"})):null,this.state.focusedProtectionType===o.PERMISSION_STATES.PASSWORD||this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS?s.createElement(l.Divider,{key:"divider-password-input"}):null,this.state.focusedProtectionType===o.PERMISSION_STATES.PASSWORD||this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS?s.createElement(l.Composites.DropDownLabeled,{key:"dialog-language-dropdown-labeled"},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Password_Language"}),t.apply(this,[e])):null,this.shouldShowRolesForPage()?s.createElement(l.Divider,{key:"divider-roles"}):null,this.isPricingPlansOptionsOn()?s.createElement("div",{key:"is-pricing-options-on"},s.createElement(l.Composites.RadioButtonsLabeled,{},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Member_Roles_Options_Title",shouldTranslate:!0}),s.createElement(l.RadioButtons,{value:this.state.membersAccessPermissions,onChange:this.handleMembersAccessChange,shouldTranslate:!0,options:this.getMembersAccessOptions()}),this.shouldDisplaySpecificAccessOptions()?s.createElement("div",{key:"should-display-specific-options",className:"indented-members-access-options"},s.createElement("div",{className:"indented-divider"},s.createElement(l.Divider,{})),s.createElement("div",{className:"action-with-symbol-container"},s.createElement(l.Composites.ActionWithSymbolLabeled,{},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Member_Roles_Select_From_Roles_Label"}),s.createElement(l.ActionWithSymbol,{action:this.openRolesPanel,symbol:this.getEditRolesSymbol()},s.createElement(l.TextLabel,{value:this.getRolesActionLabel(),shouldTranslate:!1})))),s.createElement(l.Divider,{}),this.isPricingPlansAppInstalled()?null:s.createElement("div",{key:"pricing-plans-banner"},s.createElement(l.Composites.RichTextLabeled,{},s.createElement(l.TextLabel,{type:"T07",value:"NewPages_Panel_Permission_Pricing_Plans_Splash_Label",shouldTranslate:!0}),s.createElement(l.RichText,{},"\n                                ",e("NewPages_Panel_Permission_Pricing_Plans_Splash_Text")+" ","\n                                ",s.createElement("a",{onClick:this.openPricingPlansInAppMarket},e("NewPages_Panel_Permission_Pricing_Plans_Splash_Link"))))),this.isPricingPlansAppInstalled()?s.createElement("div",{key:"pricing-plans-action"},s.createElement(l.Composites.ActionWithSymbolLabeled,{},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Member_Roles_Select_From_Paid_Plans_Label"}),s.createElement(l.ActionWithSymbol,{action:this.openPaidPlansPanel,symbol:this.getEditRolesSymbol()},s.createElement(l.TextLabel,{value:this.getPlansActionLabel(),shouldTranslate:!1})))):null):null)):null,this.isPricingPlansOptionsOn()?null:s.createElement("div",{key:"pricing-plans-options"},this.shouldShowRolesForPage()?s.createElement(l.Composites.ActionWithSymbolLabeled,{key:"page-roles"},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Member_Roles"}),s.createElement(l.ActionWithSymbol,{action:this.openRolesPageModal,symbol:this.getEditRolesSymbol()},s.createElement(l.TextLabel,{value:this.getRolesActionLabel(),shouldTranslate:!1}))):null),this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS?s.createElement(l.Divider,{key:"divider-dialog-language"}):null,this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS?s.createElement(l.Composites.RichText,{className:"members-links-container",key:"members-links-container"},this.isSiteSaved()?s.createElement(l.RichText,{key:"manage-site-members-container"},s.createElement(n.symbol,{name:"goToURLAction"}),s.createElement("a",{href:this.getSiteMembersUrl(),target:"_blank"},"\n                    ",e("NewPages_Panel_Permissions_Member_ManageMembers_Link"),"\n                ")):null,r.isOpen("se_customRegistrationPagesPanel")?null:s.createElement(l.RichText,{key:"8986"},s.createElement(n.symbol,{name:"site-members"}),s.createElement("a",{onClick:this.openSiteMembersSettingsPanel},"\n                    ",e("NewPages_Panel_Permissions_Member_ManagePages_Link"),"\n                "))):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/tabPermissions",["react","create-react-class","lodash","coreUtilsLib","util","santa-editor-symbols","pageSettingsPanel/utils/constants","pageSettingsPanel/settings/tabs/tabPermissions.rt","coreBi","constants","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","experiment"],function(e,t,i,g,a,n,o,s,r,l,p,c){"use strict";var u=o.MEMBER_ACCESS_PERMISSIONS,d=o.PRICING_PLANS_APP_DEF_ID,m=o.INPUT_TYPES,_=a.translate("NewPages_Panel_Permissions_Member_Roles_Default_Role"),P=a.translate("NewPages_Panel_Permissions_Member_Roles_Admins_Role"),S={"00000000-0000-0000-0000-000000000000":_,"00000000-0000-0000-0000-000000000001":P},h=[{title:P,id:"00000000-0000-0000-0000-000000000001",disabled:!0,checked:!0,type:"role"}],b=function(e){var t=e.groups,a=e.type;return t.filter(function(e){return e.checked&&(!e.type||e.type===a)}).map(function(e){return e.title}).join(", ")},E=function(e){return h.concat(e)},f=function(e){var t=e.shouldCheck,l=void 0!==t&&t,a=e.data,n=e.groupType,s="role"===(void 0===n?"role":n)?E(i.get(a,"groups",[])):i.get(a,"groups",[]);return i.uniqBy(s.map(function(e){var t=e.id,a=e.type,n=void 0===a?"role":a,s=e.title,i=e.disabled,o=void 0!==i&&i,r=e.checked;return{id:t,title:S[t]||s,disabled:o,checked:void 0===r?l:r,type:n}}),"id")},T=function(e,t,a,n){var s,i;e.pages.data.update(t,{pageSecurity:a}),s=t,i=n,e.bi.event(r.events.topbar.pages.top_bar_PAGES_settings_privacy_changed,{privacy:i,page_id:s})},v=function(e,t){e.pages.permissions.removePassword(t)},I=function(e){var t="//editor.wix.com/_api/members-groups-web/v1/groups",n=function(e){return t+"/"+e+"/permissions"},s=function(e){return t+"/"+e+"/permissions/delete"},a=function(e){return t+"/resources/"+e},i=function(e){return""+t+(e&&"?type="+e||"")},o=e.dsRead.generalInfo.getMetaSiteId(),r=function(e){var t=e.url;return g.requestsUtil.fetchJson(t,{credentials:"same-origin",method:"GET",headers:new Headers({Authorization:"MSID."+o})})},l=function(e){var t=e.url,a=e.pageId,n=e.groupId;return g.requestsUtil.fetch(t,{credentials:"same-origin",method:"POST",body:JSON.stringify(p({pageId:a,groupId:n})),headers:new Headers({Authorization:"MSID."+o})})},p=function(e){var t=e.pageId;return{groupId:e.groupId,permissions:[{context:"Pages",resourceIds:[t],id:"cce6b124-b14c-4383-aee9-5e0814811ae2"}]}};return{getAvailableRoles:function(){return r({url:i()})},getAvailablePlans:function(){return r({url:i("plan")})},getGroupsForPage:function(e){var t=e.pageId;return r({url:a(t)})},updateGroupsForPage:function(e){var t=e.pageId,a=e.groupId;return l({url:n(a),pageId:t,groupId:a})},deleteGroupsForPage:function(e){var t=e.pageId,a=e.groupId;return l({url:s(a),pageId:t,groupId:a})}}};return t({displayName:"tabPermissionsNew",mixins:[p],getInitialState:function(){return this.getInitialPageState()},componentWillReceiveProps:function(e){e.pageData.id!==this.state.pageId&&(this.setState(this.getInitialPageState()),this.isMembersGroupOn()&&this.refreshRoles())},componentDidMount:function(){this.mounted=!0,this.isMembersGroupOn()&&this.refreshRoles()},componentWillUnmount:function(){this.mounted=!1},getInitialPageState:function(){return{focusedProtectionType:this.getInitialProtectionType(),passwordDialogLanguage:this.getInitialLanguage(),membersDialogLanguage:this.getInitialLanguage(),pageId:this.props.pageData.id,isNewValidPasswordInserted:!1,passwordInputType:m.PASSWORD,plainPassword:"",groupsForPage:[],membersAccessPermissions:u.ALL}},getInitialMembersAccessPermissions:function(e){return t=e,i.isEqual(h,t)?u.ALL:u.SPECIFIC;var t},getInitialProtectionType:function(){return i.get(this.props,"pageData.pageSecurity").requireLogin?o.PERMISSION_STATES.MEMBERS:this.isPageProtectedWithPassword()?o.PERMISSION_STATES.PASSWORD:o.PERMISSION_STATES.NONE},isPageProtectedWithPassword:function(){return!i.isEmpty(i.get(this.props,"pageData.pageSecurity.passwordDigest"))||(e=this.getEditorAPI(),t=this.props.pageData.id,e.pages.permissions.hasPassword(t));var e,t},savePageSecurityData:function(){var e,t,a,n=this.props.pageData.id,s=i.partialRight(T,this.state.focusedProtectionType);switch(this.state.focusedProtectionType){case o.PERMISSION_STATES.NONE:s(this.getEditorAPI(),n,{requireLogin:!1}),v(this.getEditorAPI(),n);break;case o.PERMISSION_STATES.PASSWORD:this.state.isNewValidPasswordInserted&&(e=this.getEditorAPI(),t=n,a=this.state.plainPassword,e.pages.permissions.updatePassword(t,a)),(this.state.isNewValidPasswordInserted||this.isPageProtectedWithPassword())&&s(this.getEditorAPI(),n,{requireLogin:!1,dialogLanguage:this.state.passwordDialogLanguage});break;case o.PERMISSION_STATES.MEMBERS:s(this.getEditorAPI(),n,{requireLogin:!0,dialogLanguage:this.state.membersDialogLanguage}),v(this.getEditorAPI(),n)}},getThumbnailOptions:function(){return[{illustration:e.createElement(n.symbol,{name:"everyonePermissionThumbnail"}),value:o.PERMISSION_STATES.NONE,label:"NewPages_Panel_Permissions_Public_Label"},{illustration:e.createElement(n.symbol,{name:"passwordPermissionThumbnail"}),value:o.PERMISSION_STATES.PASSWORD,label:"NewPages_Panel_Permissions_Password_Label"},{illustration:e.createElement(n.symbol,{name:"membersPermissionThumbnail"}),value:o.PERMISSION_STATES.MEMBERS,label:"NewPages_Panel_Permissions_Members_Label"}]},setFocusedProtectionType:function(e){this.setState({focusedProtectionType:e},this.savePageSecurityData)},isSiteSaved:function(){return!this.getEditorAPI().dsRead.generalInfo.isFirstSave()},getSiteMembersUrl:function(){var e=this.isMembersGroupOn()?"/member-permissions/members/":"/contacts/?tag=contacts-site_members_approved";return"//www.wix.com/dashboard/"+this.getEditorAPI().dsRead.generalInfo.getMetaSiteId()+e},getInitialLanguage:function(){var e=this.getEditorAPI().dsRead.generalInfo.getLanguage(),t=i.get(this.props,"pageData.pageSecurity.dialogLanguage");return i.isEmpty(t)?e:t},isValidPassword:function(e){var t=a.validate.byInvalidCharacters(o.INVALID_CHARACTERS);return a.validate.notEmpty(e)&&t(e)},isPasswordHidden:function(){return this.state.passwordInputType===m.PASSWORD},shouldShowPasswordMockElement:function(){return this.isPasswordHidden()&&i.isEmpty(this.state.plainPassword)&&this.isPageProtectedWithPassword()},onPasswordBlur:function(e){var t=e.target.value;this.setState({plainPassword:t,isNewValidPasswordInserted:this.isValidPassword(t),passwordInputType:m.PASSWORD},this.savePageSecurityData)},onPasswordFocus:function(){this.state.passwordInputType!==m.TEXT&&this.setState({passwordInputType:m.TEXT})},getDialogLanguageType:function(){var e={};return e[o.PERMISSION_STATES.PASSWORD]="passwordDialogLanguage",e[o.PERMISSION_STATES.MEMBERS]="membersDialogLanguage",i.get(e,this.state.focusedProtectionType)},setDialogLanguage:function(e,t){var a={};a[e]=t,this.setState(a,this.savePageSecurityData),this.getEditorAPI().bi.event(r.events.topbar.pages.top_bar_PAGES_settings_privacy_language_selected_click,{language_selected:t,category:this.state.focusedProtectionType})},getHandleChangeDialogLanguage:function(t){return function(e){this.state[t]!==e&&this.setDialogLanguage(t,e)}.bind(this)},handleClickLearnMore:function(){this.getEditorAPI().panelManager.openHelpCenter(this.getLearnMoreHelpId(),null,{origin:l.BI.HELP.ORIGIN.PAGES_PANEL,learn_more:!0})},getLearnMoreHelpId:function(){var e={};return e[o.PERMISSION_STATES.NONE]="e34561a8-1323-4cbb-ad09-ca215e083050",e[o.PERMISSION_STATES.PASSWORD]="89081a7e-ebec-4553-af0f-0ad6aa21b0c5",e[o.PERMISSION_STATES.MEMBERS]="e3004c6c-234e-4819-9333-9178d26358f3",i.get(e,this.state.focusedProtectionType)},getPermissionDescription:function(){var e={};return e[o.PERMISSION_STATES.NONE]="NewPages_Panel_Permissions_Public_Text",e[o.PERMISSION_STATES.PASSWORD]="NewPages_Panel_Permissions_Password_Title",e[o.PERMISSION_STATES.MEMBERS]="NewPages_Panel_Permissions_Members_Text",i.get(e,this.state.focusedProtectionType)},handleChangePermission:function(e){this.state.focusedProtectionType!==e&&this.setFocusedProtectionType(e)},openSiteMembersSettingsPanel:function(){var e="panels.focusPanels.siteMembersSettingsPanel";this.getEditorAPI().panelManager.openPanel(e,{panelName:e},!0)},isMembersGroupOn:function(){return c.isOpen("se_membersGroups")},isPricingPlansOptionsOn:function(){return c.isOpen("se_pricingPlansPagePanel")&&this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS},shouldShowRolesForPage:function(){return this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS&&this.isMembersGroupOn()},getGroupsForPage:function(){if(!this.isSiteSaved())return Promise.resolve(E([]));var e=this.props.pageData.id;return I(this.getEditorAPI()).getGroupsForPage({pageId:e}).then(function(e){return f({data:e,shouldCheck:!0})})},getEditRolesSymbol:function(){return e.createElement(n.symbol,{name:"pencil"})},refreshRoles:function(){var i=this,e=I(this.getEditorAPI());return Promise.all([this.getGroupsForPage(),e.getAvailableRoles().then(function(e){return f({data:e})}),e.getAvailablePlans().then(function(e){return f({data:e,groupType:"plan"})})]).then(function(e){var t=_slicedToArray(e,3),a=t[0],n=t[1],s=t[2];i.mounted&&i.setState({groupsForPage:a,availableRoles:n,availablePlans:s,membersAccessPermissions:i.getInitialMembersAccessPermissions(a)})})},getRolesActionLabel:function(){var e=this.state.groupsForPage;return b({groups:e,type:"role"})||P},getPlansActionLabel:function(){var e=this.state.groupsForPage;return b({groups:e,type:"plan"})||""+a.translate("NewPages_Panel_Permissions_Member_Plans_Empty")},openRolesPageModal:function(){var t=this,a=this.getEditorAPI();a.saveManager.saveInBackground(function(){var e={url:"//www.wix.com/dashboard/"+a.dsRead.generalInfo.getMetaSiteId()+"/member-permissions/roles/manage-permissions?referralInfo=editor&viewMode=editor",onClose:t.refreshRoles,helpId:"",isBareMode:!0,width:"100%",height:"100%"};a.panelManager.openPanel("tpa.compModals.tpaSettingsModal",e,!0)})},openPlansPageModal:function(){var t=this,a=this.getEditorAPI();a.saveManager.saveInBackground(function(){var e={url:"//www.wix.com/dashboard/"+a.dsRead.generalInfo.getMetaSiteId()+"/membership/setup?referralInfo=editor&viewMode=editor",onClose:t.refreshRoles,helpId:"",isBareMode:!0,width:"100%",height:"100%"};a.panelManager.openPanel("tpa.compModals.tpaSettingsModal",e,!0)})},getMembersAccessOptions:function(){return[{value:u.ALL,label:"NewPages_Panel_Permissions_Member_Roles_All_Members"},{value:u.SPECIFIC,label:"NewPages_Panel_Permissions_Member_Roles_Specific_Members"}]},shouldDisplaySpecificAccessOptions:function(){return this.state.membersAccessPermissions===u.SPECIFIC},handleMembersAccessChange:function(e){var t=this;this.setState({membersAccessPermissions:e},function(){t.state.membersAccessPermissions===u.ALL&&t.resetGroupPermissions()})},openPaidPlansPanel:function(){var e={panelName:"panels.toolPanels.rolesManagerPanel",groups:this.state.availablePlans.filter(function(e){return"plan"===e.type}),selectedGroups:this.state.groupsForPage.filter(function(e){return"plan"===e.type}),headerTitle:"NewPages_Plans_Manager_Header_Title",applyButtonLabel:"NewPages_Plans_Manager_Apply_Button",applyButtonCallback:this.updateGroupsPermissions,addNewButtonLabel:"NewPages_Plans_Manager_Add_New_Plan",addNewButtonCallback:this.openPlansPageModal};this.getEditorAPI().panelManager.openPanel("panels.toolPanels.rolesManagerPanel",e,!0)},openRolesPanel:function(){var e={panelName:"panels.toolPanels.rolesManagerPanel",groups:this.state.availableRoles.filter(function(e){return"role"===e.type}),headerTitle:"NewPages_Roles_Manager_Header_Title",selectedGroups:this.state.groupsForPage.filter(function(e){return"role"===e.type}),applyButtonLabel:"NewPages_Roles_Manager_Apply_Button",applyButtonCallback:this.updateGroupsPermissions,addNewButtonLabel:"NewPages_Roles_Manager_Add_New_Role",addNewButtonCallback:this.openRolesPageModal};this.getEditorAPI().panelManager.openPanel("panels.toolPanels.rolesManagerPanel",e,!0)},openPricingPlansInAppMarket:function(){var e={urlParams:{openAppDefId:d,openMarketOrigin:"pageSettings",appDefinitionId:d}};this.getEditorAPI().panelManager.openPanel("tpa.compPanels.appMarketPanel",e,!0)},updateGroupsPermissions:function(e){var t=this,a=I(this.getEditorAPI()),n=this.props.pageData.id;return Promise.all(e.map(function(e){var t=e.id;return e.checked?a.updateGroupsForPage({pageId:n,groupId:t}):a.deleteGroupsForPage({pageId:n,groupId:t})})).then(function(){return t.refreshRoles()})},resetGroupPermissions:function(){var e=this,a=I(this.getEditorAPI()),n=this.props.pageData.id,t=this.state.groupsForPage;return Promise.all(t.filter(function(e){var a=e.id;return!i.some(S,function(e,t){return t===a})}).map(function(e){var t=e.id;return a.deleteGroupsForPage({pageId:n,groupId:t})})).then(function(){return e.refreshRoles()})},isPricingPlansAppInstalled:function(){return this.getEditorAPI().documentServices.tpa.app.isInstalled(d)},render:s})}),define("pageSettingsPanel/settings/applicationSettingsPanelTabsMapper",["lodash","wixData"],function(p,g){"use strict";return{mapStateToProps:function(e,t){var a=e.editorAPI,n=a.pages.getPagesData(),s=a.dsRead.generalInfo.getPublicUrl(),i=a.components.get.byId(t.menuItem.pageData.id),o=g.isDataModeOn(a),r={},l=void 0;return i&&(r=(l=a.dsRead.routers.getRouterRef.byPage(i))?a.dsRead.routers.get.byRef(l):{}),{pageRef:i,routerRef:l,dataModeIsOn:o,pageData:p.find(n,{id:t.menuItem.pageData.id}),publicUrl:s,routerData:r}},mapDispatchToProps:function(t){return{getAppDataByAppDefId:function(e){return t((n=e,function(e,t,a){return a.editorAPI.dsRead.platform.getAppDataByAppDefId(n)}));var n}}}}}),define("pageSettingsPanel/settings/applicationSettingsPanelTabs",["react","util","prop-types","baseUI","platform","lodash","pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode","pageSettingsPanel/settings/applicationSettingsPanelTabs.rt","pageSettingsPanel/settings/tabs/tabLayout","pageSettingsPanel/settings/tabs/tabPermissions","pageSettingsPanel/settings/applicationSettingsPanelTabsMapper","experiment"],function(p,e,t,g,c,u,d,a,m,_,n,P){"use strict";var s=e.hoc,i=s.connect,o=s.STORES.EDITOR_API,S=["wix-code","dataBinding"],r=function(e){function t(e){_classCallCheck(this,t);var l=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={iframeLoaded:!1},l.getPostMessageHandler=function(e){var t={routerRef:l.props.routerRef,publicUrl:l.props.publicUrl,pageRef:l.props.pageRef,origin:"dynamic_page_settings_panel_tab"};return c.platformPostMessageService.createPostMessageListener({token:e,initialData:t},e)},l.getAppData=function(){var e=u.get(l.props.pageData,"managingAppDefId"),t=e||u.get(l.props.routerData,"appDefinitionId");if(t)return{appDefId:t,applicationId:u.get(l.props.getAppDataByAppDefId(t),"applicationId")}},l.getIframeFullSrc=function(e,t,a){var n=l.props.getAppDataByAppDefId(t);return c.utils.getFullApplicationUrl(n,e,t,a)},l.iframeLoadedHandler=function(){l.setState({iframeLoaded:!0})},l.getTabContent=function(e,t){var a=c.constants,n=l.state.iframeLoaded?"content-iframe loaded":"content-iframe";if(u.isObject(e)&&e.url){var s=l.getAppData(),i=void 0;if(P.isOpen("se_dataBindingOutOfDevMode")?("wix-code"===s.appDefId&&(i=!l.props.developerModeEnabled),"dataBinding"===s.appDefId&&(i=!l.props.developerModeEnabled&&!l.props.dataModeIsOn)):i=u.includes(S,s.appDefId)&&!l.props.developerModeEnabled,i)return p.createElement(d,{key:"dynamic-page-default-tab"+l.props.menuItem.pageData.id+t+s.appDefId});var o=p.createElement(g.preloader,{className:"preloader-page-settings-pp"}),r=p.createElement(g.iframe,{key:"dynamic-page-iframe"+l.props.menuItem.pageData.id+t+s.appDefId,ref:"dynamic-page-iframe"+l.props.menuItem.pageData.id+s.appDefId,className:n,appData:s,name:l.props.token,src:l.getIframeFullSrc(e.url,s.appDefId,s.applicationId),onPostMessage:l.getPostMessageHandler(l.props.token),onLoad:l.iframeLoadedHandler});return p.createElement("div",{className:"container-preloader-iframe"},r,l.state.iframeLoaded?null:o)}switch(e.type){case a.pages.page_settings.layout.type:return p.createElement(m,{menuItem:l.props.menuItem,key:"tab-layout"+t+l.props.menuItem.pageData.id});case a.pages.page_settings.permissions.type:return p.createElement(_,{pageData:l.props.menuItem.pageData,key:"tab-premissions"+t+l.props.menuItem.pageData.id})}},l}return _inherits(t,p.Component),_createClass(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.iframeLoaded!==t.iframeLoaded||(this.props.routerData!==e.routerData||(this.props.developerModeEnabled!==e.developerModeEnabled||!!(this.props.menuItem.pageData.id!==e.menuItem.pageData.id||e.selectedTabType&&this.props.selectedTabType!==e.selectedTabType)))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.menuItem.pageData.id!==e.menuItem.pageData.id,a=e.selectedTabType&&this.props.selectedTabType!==e.selectedTabType;(t||a)&&this.setState({iframeLoaded:!1})}},{key:"render",value:function(){return a.call(this)}}]),t}();r.displayName="applicationSettingsPanelTabs",r.propTypes={pageRef:t.object.isRequired,routerRef:t.object,routerData:t.object,getAppDataByAppDefId:t.func.isRequired,pageData:t.object.isRequired,publicUrl:t.string,menuItem:t.object.isRequired,selectedTabType:t.string,setActiveTabType:t.func.isRequired,tabs:t.array.isRequired};var l=i(o,n.mapStateToProps,n.mapDispatchToProps)(r);return l.pure=r,l}),define("pageSettingsPanel/utils/pageUtils",["util"],function(a){"use strict";return{getPublicUrl:function(e,t){var a=e.dsRead.generalInfo.getPublicUrl(),n=e.dsRead.generalInfo.isFirstSave()?a+"your-site-name":"";return e.pages.getPageUrl(t.id,n)},convertPageNameToUrl:function(e){var t=e.replace(/\s/g,"-");return a.validate.byInvalidCharacters(a.validationExpressions.invalidUrlCharacters)(t)?t.toLowerCase():"blank"}}}),define("pageSettingsPanel/settings/tabs/socialSharePreviewTooltip.rt",["react","lodash","util","baseUILib","santa-editor-symbols"],function(e,t,a,n,s){"use strict";return function(){return e.createElement("div",{className:"social-share-preview-tooltip"},e.createElement(n.TextLabel,{type:"T03",value:this.props.title}),e.createElement("div",{className:"preview-container"},e.createElement("div",{className:"image-container",style:this.getImageStyle()}),e.createElement(n.RichText,{className:"link",type:"T04",shouldTranslate:!1},"\n                                ",this.props.pageURL,"\n                        "),e.createElement(n.RichText,{className:"title",type:"T03",shouldTranslate:!1},"\n                                ",this.props.pageTitle,"\n                        "),e.createElement(n.RichText,{className:"description",type:"T02",shouldTranslate:!1},"\n                                ",this.props.pageDesc,"\n                        ")),e.createElement(n.RichText,{className:"seo-image-desc"},"\n                        ",a.translate("socialShare_image_preview_text"),"\n                        ",e.createElement("a",{onClick:this.props.openHelp},"\n                                ",a.translate("socialShare_image_preview_note_link"),"\n                        ")))}}),define("pageSettingsPanel/settings/tabs/socialSharePreviewTooltip",["prop-types","lodash","create-react-class","pageSettingsPanel/settings/tabs/socialSharePreviewTooltip.rt"],function(e,t,a,n){"use strict";return a({displayName:"socialSharePreviewTooltip",propTypes:{title:e.string,imageWidth:e.number,ImageHeight:e.number,siteLink:e.string,pageTitle:e.string,pageDesc:e.string,onOpen:e.func,onClose:e.func},componentDidMount:function(){t.isFunction(this.props.onOpen)&&this.props.onOpen()},componentWillUnmount:function(){t.isFunction(this.props.onClose)&&this.props.onClose()},getImageStyle:function(){return{backgroundImage:"url("+this.props.image+")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:this.props.imageWidth,height:this.props.ImageHeight}},render:n})}),define("pageSettingsPanel/settings/tabs/googlePreviewExpandable.rt",["react","lodash","baseUI","util","santa-editor-symbols","pageSettingsPanel/utils/pageUtils"],function(a,n,e,s,i,o){"use strict";return function(){return function(){var e=s.translate,t="Pages_SEO_Description_Placeholder";return a.createElement("div",{className:n({"google-preview":!0,expanded:this.isExpanded()}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},this.props.shouldHideExpandingButton?null:a.createElement("div",{key:"google-seo-expand-button",className:"google-preview-header",onClick:function(e,t){this.openGooglePreview()}.bind(this,e,t)},a.createElement("div",{className:"google-preview-corner-container left"},a.createElement("div",{className:"google-preview-corner"})),a.createElement("div",{className:"google-preview-corner-container right"},a.createElement("div",{className:"google-preview-corner"})),a.createElement(i.symbol,{name:"equals"}),a.createElement(i.symbol,{name:"arrowDown"}),a.createElement("span",{className:"google-preview-header-title"},e("Pages_SEO_Preview_Caption")),a.createElement("div",{className:"google-preview-bottom-header-border"})),a.createElement("p",{className:"google-preview-title"},a.createElement("span",{className:"google-preview-title-site-name"},this.getTitle())),a.createElement("p",{className:"google-preview-url"},o.getPublicUrl(this.getEditorAPI(),this.props.pageData)),a.createElement("p",{className:"google-preview-description"},this.props.previewDescriptionText||this.getValueFromPageData("descriptionSEO")||e(t)))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/googlePreviewExpandable",["react-addons-linked-state-mixin","create-react-class","prop-types","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/settings/tabs/googlePreviewExpandable.rt"],function(e,t,a,n,s){"use strict";return t({displayName:"googlePreviewExpandableNew",mixins:[n,e],render:s,propTypes:{pageData:a.object.isRequired,isExpanded:a.bool,shouldHideExpandingButton:a.bool,isExpandedLink:a.object,previewDescriptionText:a.string,title:a.string},isExpanded:function(){return this.props.isExpanded||this.props.isExpandedLink.value},openGooglePreview:function(){this.props.isExpandedLink.requestChange(!this.props.isExpandedLink.value)},getTitle:function(){if(this.props.title)return this.props.title;var e=this.getEditorAPI();return this.getValueFromPageData("pageTitleSEO")?this.getValueFromPageData("pageTitleSEO"):(e.dsRead.seo.title.get()||e.siteName.get())+(e.pages.isHomePage(this.props.pageData.id)?"":" | "+this.getValueFromPageData("title"))}})}),define("pageSettingsPanel/settings/tabs/seoUrlSettings.rt",["react","lodash","baseUI","util","pageSettingsPanel/settings/tabs/googlePreviewExpandable","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","baseUILib"],function(e,t,a,n,s,i,o,r){"use strict";return function(){return e.createElement("div",{className:this.getClassName("seo-section-page-address"),key:"section-page-address"},e.createElement("span",{className:"seo-section-title-label"},n.translate("Pages_Info_Address_Title")),e.createElement("div",{className:"seo-section-site-url"},e.createElement("span",{className:"page-address-prefix"},"http://www.../"),e.createElement(a.textInput,{className:"control-text-input-seo",maxLength:o.NAME_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),inputFocusTooltipMessage:this.props.inputFocusTooltipMessage,infoText:"Pages_Info_Address_Tooltip"})),e.createElement("a",{key:"page-web-address",href:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),target:"_blank"},e.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})),this.isUriSEOTranslated()?e.createElement("span",{className:"translated-by",key:"googleAttribution"},n.translate("Pages_Info_URL_Popup_Google")," ",e.createElement(a.symbol,{name:"google-logo"})):null)}}),define("pageSettingsPanel/settings/tabs/seoUrlSettings",["react-addons-linked-state-mixin","lodash","create-react-class","prop-types","util","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/utils/pageUtils","experiment","pageSettingsPanel/settings/tabs/seoUrlSettings.rt"],function(e,n,t,a,s,i,o,r,l){"use strict";function p(e,t){var a=[{callback:s.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:s.validate.byInvalidCharacters(s.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return e.dsRead.generalInfo.urlFormat.isSlash()?a.concat([{callback:n.negate(e.pages.data.pageUriSEO.isForbidden.bind(null,t)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:n.negate(e.pages.data.pageUriSEO.isDuplicate.bind(null,t)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):a}return t({displayName:"seoUrlSettingsNew",mixins:[i,e],render:l,propTypes:{pageData:a.object.isRequired},shouldShowLinkToPage:function(){return this.props.shouldShowLinkToPage&&this.getEditorAPI().dsRead.generalInfo.isSitePublished()},linkUrlProperty:function(t){var a=this.getPageId(),n=this.getEditorAPI(),s={},i=n.dsRead.generalInfo.urlFormat.isSlash()?n.pages.data.pageUriSEO:o;return{value:this.getValueFromPageData(t),requestChange:function(e){s[t]=e&&i.convertPageNameToUrl(e),n.pages.data.update(a,s)}}},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return r.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators:function(){var e=p(this.getEditorAPI(),this.getPageId());return n.map(e,"callback")},getPageUriSEOInvalidMessages:function(){var e=p(this.getEditorAPI(),this.getPageId());return n.map(e,"message")},getClassName:function(e){return s.inheritClassName(this.props,e)}})}),define("pageSettingsPanel/settings/tabs/tabSEO.rt",["react","lodash","baseUI","util","pageSettingsPanel/settings/tabs/googlePreviewExpandable","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","pageSettingsPanel/settings/tabs/seoUrlSettings","baseUILib","experiment","constants","santa-editor-symbols"],function(t,e,a,n,s,i,o,r,l,p,g,c){"use strict";return function(){return function(){var e=n.translate;return t.createElement(l.CustomScroll,{key:"newSeoTab"},t.createElement("div",{className:"tab-seo-new"},t.createElement("div",{className:"tab-seo-title"},t.createElement(l.Composites.RichTextLabeled,{className:"composite-centered"},t.createElement(l.TextLabel,{value:e("Pages_SEO_Wizard_Title"),type:"T03",shouldTranslate:!1}),t.createElement(l.RichText,{},t.createElement("p",{},"\n                        ",n.translate("Pages_SEO_Wizard_Description"),"\n                    "),t.createElement("p",{},t.createElement(l.Button,{className:"btn-confirm-secondary",onClick:this.onSeoWizardClick},"\n                            ",n.translate("Pages_SEO_Wizard_NewButton_Label"),"\n                        "))))),t.createElement("div",{key:"seoSettingsSection"},t.createElement(l.Divider,{key:"longDivider1",long:!0}),t.createElement(a.sectionDividerLabeled,{key:"SEOSettings",label:"seo_seoSettings_section_header"}),t.createElement(l.Divider,{key:"longDivider2",long:!0})),t.createElement("div",{},t.createElement(l.Composites.GooglePreviewWithRichText,{},t.createElement(l.RichText,{},"\n                    ",n.translate("Pages_SEO_Preview_Caption"),"\n                    ",t.createElement(l.Tooltip,{content:this.getTooltipContent(),shouldTranslate:!1,interactive:!0,onOpen:this.reportTooltipOpened,openDelay:350},t.createElement("a",{},"\n                            ",n.translate("Pages_SEO_Preview_HoverLink_Caption"),"\n                        "))),t.createElement(l.GooglePreview,{title:this.getTitle(),url:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),description:this.props.previewDescriptionText||this.linkGooglePreviewProperty("descriptionSEO").value||e("Pages_SEO_Description_Placeholder"),shouldTranslate:!1}))),t.createElement(l.Divider,{long:!1}),t.createElement("div",{className:"seo-tab-title-input-section"},t.createElement(l.Composites.TextInputLabeled,{},t.createElement(l.InfoIcon,{text:"Pages_SEO_Title_Tooltip"}),t.createElement(l.TextLabel,{value:"Pages_SEO_Title_NewCaption"}),t.createElement(l.Tooltip,{content:"Pages_SEO_Title_NewTooltip",isOpen:this.state.enableTitleTooltip,openOnMouseEnter:!1,alignment:"TOP",shouldTranslate:!0,marginTop:o.TITLE_TOOLTIP_MARGIN_TOP,marginLeft:o.TITLE_TOOLTIP_MARGIN_LEFT},t.createElement(l.TextInput,{className:"control-text-input",placeholder:this.getPageTitlePlaceHolder(),shouldTranslate:!1,maxLength:o.TITLE_SEO_MAX_LENGTH,validator:[n.validate.noHTMLTags,n.validate.noEmoji],invalidMessage:e("Pages_SEO_Title_Error_Tooltip"),onValidationStatus:this.onTitleInputValidation,value:this.linkGooglePreviewProperty("pageTitleSEO").value,onChange:this.changeSeoTitle,onFocus:this.enableTitleTooltip,onBlur:this.disableTitleTooltip})))),t.createElement(l.Divider,{long:!1}),t.createElement("div",{className:"seo-tab-input-section"},t.createElement(a.textInput,{className:"control-text-input",isMultiLine:!0,label:"Pages_SEO_Description_Caption",placeholder:"Pages_SEO_Description_Placeholder",maxLength:o.DESCRIPTION_SEO_MAX_LENGTH,validator:[n.validate.noHTMLTags,n.validate.noEmoji],invalidMessage:"Pages_SEO_Description_Error_Tooltip",value:this.linkGooglePreviewProperty("descriptionSEO").value,onChange:this.linkGooglePreviewProperty("descriptionSEO").requestChange,infoText:"Pages_SEO_Description_Tooltip",onBlur:this.onPagesSEODescBlur})),t.createElement(l.Divider,{long:!1}),t.createElement("div",{className:"seo-tab-page-address-section",key:"section-page-address"},t.createElement(a.textInput,{disabled:this.isUriInputDisabled(),className:"control-text-input",label:"Pages_Info_Address_Title",maxLength:o.USI_SEO_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),onBlur:this.onPageAddressBlur,infoText:"Pages_Info_Address_Tooltip"}),t.createElement("span",{className:"page-address-prefix"},"https://www.../"),this.getEditorAPI().dsRead.generalInfo.isSitePublished()?t.createElement("a",{className:"page-address-link",key:"page-web-address",href:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),onClick:this.onGoToUrlClicked,target:"_blank"},t.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?t.createElement("span",{className:"translated-by",key:"googleAttribution"},n.translate("Pages_Info_URL_Popup_Google")," ",t.createElement(a.symbol,{name:"google-logo"})):null),t.createElement(l.Divider,{long:!1}),t.createElement(l.Composites.ToggleSwitch,{},t.createElement(l.ToggleSwitch,{value:!this.linkGooglePreviewProperty("indexable").value,label:"Pages_SEO_Hide_Toggle",onChange:this.onHidePageChanged})),t.createElement(l.Divider,{long:!1}),t.createElement("div",{className:"seo-tab-input-section"},t.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:o.KEYWORD_SEO_MAX_LENGTH,validator:this.getValidatorsForSeoKeywords(),invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_New_Tooltip",validateOnBlurOnly:!0,onBlur:this.onPagesSEOKeywordsBlur})),t.createElement(l.Divider,{long:!1}),t.createElement(l.Composites.RichText,{},t.createElement(l.RichText,{type:"T02"},"\n                ",n.translate("Pages_SEO_Advanced_SEO_Text"),"\n                ",t.createElement("a",{onClick:this.reportAdvancedSEOLinkClicked},n.translate("Pages_SEO_Advanced_SEO_Link"),"\n                "))),t.createElement("div",{key:"socialShareSection"},t.createElement(l.Divider,{key:"longDivider3",long:!0}),t.createElement(a.sectionDividerLabeled,{key:"socialShare",label:"seo_socialShare_section_header"}),t.createElement(l.Divider,{key:"longDivider4",long:!0}),t.createElement(l.Composites.RichText,{key:"socialShareSubtitle"},t.createElement(l.RichText,{type:"T02"},t.createElement("p",{},"\n                        ",n.translate("seo_socialShare_subtitle"),"\n                    "))),t.createElement(l.Composites.SecondaryMedia,{key:"socialShareMedia"},t.createElement(l.SecondaryMediaImage,{key:"socialShareMediaImage",src:this.getPageSEOImage(),onClick:this.onUploadImageClick}),t.createElement(l.Button,{onClick:this.onUploadImageClick},t.createElement(c.symbol,{name:this.getUploadButtonSymbol()})),t.createElement(l.Button,{onClick:this.onDeleteImageClick},t.createElement(c.symbol,{name:"delete_icon"}))),t.createElement(l.RichText,{className:"seo-image-desc"},"\n                ",n.translate("seo_socialShare_image_select_dashboard_line"),"\n                ",t.createElement("a",{onClick:this.openSEOPreviewHelp},"\n                    ",n.translate("seo_socialShare_image_select_dashboard_link"),"\n                ")),t.createElement("div",{className:"preview-link-container"},t.createElement(l.Tooltip,{closeOnMouseLeave:!0,content:this.getSocialShareImageTooltipContent(),interactive:!0,key:"SocialShareImagePreviewTooltip",maxWidth:438,onOpen:this.reportPreviewTooltipOpened},t.createElement(c.symbol,{name:"showComp"}),t.createElement(l.RichText,{},t.createElement("a",{},"\n                            ",n.translate("seoTab_socialShare_image_preview_link"),"\n                        ")))))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/SEO/SEOPanelMapper",["lodash","stateManagement","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","experiment","util"],function(_,l,P,S,h,b){"use strict";var p=function(e,t,a){return a.editorAPI},n=function(e){return e.pageData||e.menuItem.pageData},g=function(e,t,a){return e.pages.data.update(t,a)},c=function(e){var t=n(e);return t?t.id:null},u=function(a){return _.debounce(function(e,t){g(a,e,t)},20)},E=function(e,t){var a=n(e);return a&&a[t]},d=function(e,t,a){if(a){var n=e.pages.getCurrentPage(),s=e.dsRead.language.component.getTranslations(n);return _.get(s,[a,n.id,"advancedSeoData"])}return E(t,"advancedSeoData")||"{}"};return{mapStateToProps:function(e,t){var a,n,s,i,o,r,l,p,g=e.editorAPI,c=e.dsRead,u=g.dsRead.pages.getFocusedPageId(),d={current:c.language.current.get(),original:c.language.original.get().languageCode},m=g.dsRead.generalInfo.urlFormat.isSlash();return{pageId:u,language:d,title:c.seo.title.get(),homePageTitle:(l=g,p=l.dsRead.homePage.get(),l.pages.data.get(p).pageTitleSEO),uri:(r=t,E(r,"pageUriSEO")),description:(o=t,E(o,"descriptionSEO")),pageName:(i=t,E(i,"title")),isUriInputDisabled:function(e){if(h.isOpen("se_multilingual")){var t=_.get(e,"current"),a=_.get(e,"original");return null!==t&&t!==a}return!1}(d),isIndexEnabled:(s=t,E(s,"indexable")),isIndexEnabledFromSite:_.get(b.editorModel.metaSiteData,"indexable"),isHomePage:g.pages.isHomePage(t.pageData.id),siteName:g.siteName.get(),siteDisplayName:g.store.getState().siteDisplayName,isSitePublished:g.dsRead.generalInfo.isSitePublished(),constants:{titleSeoMaxLength:S.TITLE_SEO_MAX_LENGTH,uriSeoMaxLength:S.USI_SEO_MAX_LENGTH,descriptionSeoMaxLength:S.DESCRIPTION_SEO_MAX_LENGTH},validators:{noHTMLTags:b.validate.noHTMLTags,noEmoji:b.validate.noEmoji,notEmptyString:b.validate.notEmptyString,invalidUrlCharacters:b.validate.byInvalidCharacters(b.validationExpressions.invalidUrlCharacters)},wixSeoUrl:g.account.getWixSEOWizURL("EDITOR_PAGES"),mediaManager:g.mediaServices.mediaManager,publicURL:P.getPublicUrl(g,t.pageData),isSlashFormat:m,ogImage:(n=t,E(n,"ogImageRef")),ogImageFromSite:_.get(b.editorModel.metaSiteData,"ogImage"),locale:b.editorModel.languageCode,pageKeywordsSEO:(a=t,E(a,"metaKeywordsSEO")),staticsBaseUrl:b.serviceTopology.scriptsLocationMap["advanced-seo-client"]}},mapDispatchToProps:function(e,i){var t,a,n,s,o=e(p),r=o.dsRead.pages.getFocusedPageId();return{isUriForbidden:(n=o,s=i,function(e){return n.pages.data.pageUriSEO.isForbidden(c(s),e)}),isUriDuplicate:(t=o,a=i,function(e){return t.pages.data.pageUriSEO.isDuplicate(c(a),e)}),openHelpCenter:function(e){return o.panelManager.openHelpCenter(e,null,{})},getPageDataById:function(e){return o.pages.data.get(e)},updatePage:function(e,t){return g(o,e,t)},sendBI:function(e,t){return o.bi.event(e,t)},setMediaServicesFocusToEditor:function(){return o.mediaServices.setFocusToEditor()},setTitle:function(e){return t=o,a=e,n=i.pageData.id,void g(t,n,{pageTitleSEO:a});var t,a,n},setDescription:function(e){return t=o,a=e,n=i.pageData.id,void g(t,n,{descriptionSEO:a});var t,a,n},setIndexEnabled:function(e){return t=o,a=e,n=c(i),s={indexable:a},void u(t)(n,s);var t,a,n,s},setUri:function(e){return t=o,a=e,n=c(i),s={pageUriSEO:a},void u(t)(n,s);var t,a,n,s},setOGImage:function(e){return t=o,a=e,n=i.pageData.id,void g(t,n,{ogImageRef:a});var t,a,n},setData:function(e){return t=o,a=e,n=i.pageData.id,s={advancedSeoData:a},u(t)(n,s),void t.history.add("SEO data changed");var t,a,n,s},getDataByCurrLang:function(){return d(o,i)},getDataByLang:function(e){return d(o,i,e)},convertPageNameToUrl:o.pages.data.pageUriSEO.convertPageNameToUrl,setPageKeywordsSEO:function(e){return t=o,a=e,n=i.pageData.id,s={metaKeywordsSEO:a},void u(t)(n,s);var t,a,n,s},sessionUserPreferencesuserPref:l.editorPlugins.userPreferences.selectors.getSessionUserPreferences("bg_panel_last_media_path_"+r)(o.store.getState())||{}}}}}),define("pageSettingsPanel/settings/tabs/tabSEO",["react-addons-linked-state-mixin","lodash","react","create-react-class","prop-types","coreBi","util","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","experiment","baseUILib","pageSettingsPanel/settings/tabs/socialSharePreviewTooltip","pageSettingsPanel/settings/tabs/tabSEO.rt","pageSettingsPanel/settings/tabs/SEO/SEOPanelMapper"],function(e,p,a,t,n,r,g,s,i,o,l,c,u,d,m){"use strict";function _(e){var t=e.isUriForbidden,a=e.isSlashFormat,n=e.isUriDuplicate,s=[{callback:g.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:g.validate.byInvalidCharacters(g.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return a?s.concat([{callback:p.negate(t),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:p.negate(n),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):s}var P=t({displayName:"tabSEONew",mixins:[s,e],render:d,propTypes:{pageData:n.object.isRequired,isUriForbidden:n.func.isRequired,isUriDuplicate:n.func.isRequired,openHelpCenter:n.func.isRequired,getPageDataById:n.func.isRequired,updatePage:n.func.isRequired,sendBI:n.func.isRequired,setMediaServicesFocusToEditor:n.func.isRequired,language:n.object.isRequired,pageId:n.string.isRequired,isSlashFormat:n.bool.isRequired,uri:n.string.isRequired,convertPageNameToUrl:n.func.isRequired,wixSeoUrl:n.string.isRequired,publicURL:n.string.isRequired,isHomePage:n.bool.isRequired,title:n.string.isRequired,siteName:n.string.isRequired,mediaManager:n.object.isRequired,sessionUserPreferencesuserPref:n.object.isRequired,siteDisplayName:n.string.isRequired},getInitialStateFromPageData:function(e){return{enableTitleTooltip:!1,isTitleSEOValid:!0,pageSEOImage:p.get(this.props.getPageDataById(e),"ogImageRef.uri"),pageSEOImageWidth:p.get(this.props.getPageDataById(e),"ogImageRef.width"),pageSEOImageHeight:p.get(this.props.getPageDataById(e),"ogImageRef.height")}},getInitialState:function(){return this.getInitialStateFromPageData(this.props.pageData.id)},componentWillReceiveProps:function(e){this.props.pageData.id!==e.pageData.id&&this.setState(this.getInitialStateFromPageData(e.pageData.id))},componentWillMount:function(){this.debouncedUpdateEditorAPI=p.debounce(function(e,t){this.props.updatePage(e,t)},20),this.seoInfo={pageTitleSEO:this.getValueFromPageData("pageTitleSEO"),pageDescSeo:this.getValueFromPageData("descriptionSEO"),pageKeywordsSEO:this.getValueFromPageData("metaKeywordsSEO")}},getTooltipContent:function(){var e=a.createElement(c.RichText,{},a.createElement("p",{},g.translate("Pages_SEO_Preview_Hoverlink_Tooltip_Description")),a.createElement("a",{onClick:this.onLearnMoreClickOpenHelpCenter},g.translate("Pages_SEO_Preview_Hoverlink_Tooltip_Link"))),t=a.createElement(c.TextLabel,{type:"T03",value:"Pages_SEO_Preview_Hoverlink_Tooltip_Title",enableEllipsis:!1});return a.createElement("span",{className:"info-icon-content"},t,e)},reportTooltipOpened:function(){this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_google_preview_tooltip_hover)},onSocialShareImageTooltipOpen:function(){this.socialShareImageTooltip=window.setTimeout(function(){this.props.sendBI(r.events.topbar.pages.pages_panel_page_settings_SEO_tab_hover_preview_image)}.bind(this),3e3)},onSocialShareImageTooltipClose:function(){window.clearTimeout(this.socialShareImageTooltip)},onLearnMoreClickOpenHelpCenter:function(){this.props.openHelpCenter(o.GOOGLE_PREVIEW_HELP_ID)},linkGooglePreviewProperty:function(a){var n={};return{value:this.getValueFromPageData(a),requestChange:function(e){var t=this.props.pageData.id;n[a]=e,this.debouncedUpdateEditorAPI(t,n)}.bind(this)}},changeSeoDescription:function(e){var t=this.props.pageData.id,a={descriptionSEO:e};this.setState(a),this.props.updatePage(t,a)},changeSeoTitle:function(e){var t=this.props.pageData.id,a={pageTitleSEO:e};this.setState(a),this.props.updatePage(t,a)},onPagesSEOTitleBlur:function(){var e=this.seoInfo.pageTitleSEO,t=this.getValueFromPageData("pageTitleSEO");t!==e&&(this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page title"}),this.seoInfo.pageTitleSEO=t)},onPagesSEODescBlur:function(){var e=this.seoInfo.pageDescSeo,t=this.getValueFromPageData("descriptionSEO");t!==e&&(this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_description_set),this.seoInfo.pageDescSeo=t)},onPagesSEOKeywordsBlur:function(){var e=this.seoInfo.pageKeywordsSEO,t=this.getValueFromPageData("metaKeywordsSEO");t!==e&&(this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_keywords_set),this.seoInfo.pageKeywordsSEO=t)},linkUrlProperty:function(t){var a=this.getPageId(),n={},s=this.props.isSlashFormat?this.props.convertPageNameToUrl:i.convertPageNameToUrl;return{value:this.getValueFromPageData(t),requestChange:function(e){this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page url"}),n[t]=e&&s(e),this.debouncedUpdateEditorAPI(a,n)}.bind(this)}},onTitleInputValidation:function(e){!e&&this.state.enableTitleTooltip?(this.setState({isTitleSEOValid:!1}),this.disableTitleTooltip()):!this.state.isTitleSEOValid&&this.state.enableTitleTooltip&&this.setState({isTitleSEOValid:!0})},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return l.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getValidatorsForSeoKeywords:function(){return[p.partial(g.validate.rangeOfWords,0,o.KEYWORD_SEO_MAX_WORDS,","),g.validate.noEmoji]},getPageUriSEOValidators:function(){var e=_(this.props);return p.map(e,"callback")},getPageUriSEOInvalidMessages:function(){var e=_(this.props);return p.map(e,"message")},getWixSEOWizURL:function(){return this.props.wixSeoUrl},reportSeoWizardLinkClicked:function(){this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_wiz_lets_go_click)},reportAdvancedSEOLinkClicked:function(){this.props.sendBI(r.events.help.HELP_CLICK,{learn_more:!0,panel_name:"tab_seo_advanced",origin:"pages"}),this.props.openHelpCenter(g.translate("Pages_SEO_Advanced_SEO_HelpID"))},onSeoWizardClick:function(){this.reportSeoWizardLinkClicked();var e=this.getWixSEOWizURL();window.open(e)},onGoToUrlClicked:function(){this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_go_to_url_click)},enableTitleTooltip:function(){this.state.isTitleSEOValid&&this.setState({enableTitleTooltip:!0})},disableTitleTooltip:function(){this.setState({enableTitleTooltip:!1})},onHidePageChanged:function(e){var t=this.getPageId(),a={indexable:!e};this.debouncedUpdateEditorAPI(t,a),this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_hide_page_clicked,{title:this.getPageData().title,toggle:e})},getPageTitlePlaceHolder:function(){var e=this.props,t=e.siteDisplayName,a=e.isHomePage;return t?t+(a?"":" | "+this.getValueFromPageData("title")):g.translate("Pages_SEO_Title_NewPlaceholder")},getTitle:function(){return this.getValueFromPageData("pageTitleSEO")?this.getValueFromPageData("pageTitleSEO"):(this.props.title||this.props.siteDisplayName||this.props.siteName)+(this.props.isHomePage?"":" | "+this.getValueFromPageData("title"))},onUploadImageClick:function(){var i=this,e=this.props.mediaManager,t=this.props.sessionUserPreferencesuserPref,a=t.type===e.categories.BG_IMAGE&&t.path||"",o=this.getPageId();this.props.sendBI(r.events.topbar.pages.pages_panel_page_settings_SEO_tab_click_upload_image),e.open(e.categories.IMAGE,{callback:function(e){if(e){var t=e[0].fileName,a=e[0].width,n=e[0].height,s={uri:t,width:a,height:n,type:"Image"};i.props.updatePage(o,{ogImageRef:s}),i.setState({pageSEOImage:t,pageSEOImageWidth:a,pageSEOImageHeight:n}),i.props.setMediaServicesFocusToEditor(),i.props.sendBI(r.events.topbar.pages.pages_panel_page_settings_SEO_tab_upload_image_success)}},translation:{submitButton:g.translate("MMGR_API_IMAGE_SEO_SOCIAL_SHARE_PAGE_SUBMIT_BUTTON")},multiSelect:!1,path:a,restrictContent:!0})},getPageSEOImage:function(e,t){var a=this.state.pageSEOImage||p.get(g.editorModel.metaSiteData,"ogImage"),n=e||154,s=t||82,i=g.imageTransform.fittingTypes;if(a){var o={id:a,width:this.state.pageSEOImageWidth,height:this.state.pageSEOImageHeight},r={width:n,height:s},l=g.imageTransform.getData(i.SCALE_TO_FIT,o,r);return g.serviceTopology.staticMediaUrl+"/"+l.uri}},onDeleteImageClick:function(){if(this.state.pageSEOImage){var e=this.props.pageData.id;this.props.sendBI(r.events.topbar.pages.pages_panel_page_settings_SEO_tab_click_delete_image),this.props.updatePage(e,{ogImageRef:null}),this.setState({pageSEOImage:null,pageSEOImageWidth:null,pageSEOImageHeight:null})}},getUploadButtonSymbol:function(){return this.state.pageSEOImage?"image-change":"upload-btn"},getSocialShareImageTooltipContent:function(){return a.createElement(u,{title:"socialShare_image_preview_title",image:this.getPageSEOImage(412,214)||"https://images-wixmp-a87e9a901094cb6400f2e0ce.wixmp.com/images/site-defualt-icon.png/v1/fit/w_412,h_214/file.jpg",imageWidth:412,ImageHeight:214,pageURL:this.props.publicURL,pageTitle:this.linkGooglePreviewProperty("pageTitleSEO").value||this.getPageTitlePlaceHolder(),pageDesc:this.linkGooglePreviewProperty("descriptionSEO").value||g.translate("Pages_SEO_Description_Placeholder"),openHelp:this.openSEOPreviewHelp,onOpen:this.onSocialShareImageTooltipOpen,onClose:this.onSocialShareImageTooltipClose})},openSEOPreviewHelp:function(){this.props.openHelpCenter("e9add2d8-76f7-453d-b42f-203a58a628fb")},isUriInputDisabled:function(){if(l.isOpen("se_multilingual")){var e=this.props.language.current,t=this.props.language.original;return null!==e&&e!==t}return!1}}),S=g.hoc.connect(g.hoc.STORES.EDITOR_API,m.mapStateToProps,m.mapDispatchToProps)(P);return S.pure=P,S}),define("pageSettingsPanel/settings/tabs/SEO/WixPromoteSEOPanel",[],function(){"use strict";return function(){return new Promise(function(a,t){requirejs(["advancedSeoClient"],function(e){var t=e.TABS;a({tabs:t})},function(e){return t(e)})})}}),define("pageSettingsPanel/settings/tabs/SEO/SeoPanelHOC",["pageSettingsPanel/settings/tabs/SEO/SEOPanelMapper","util"],function(a,n){"use strict";return function(e){var t=n.hoc.connect(n.hoc.STORES.EDITOR_API,function(){return a.mapStateToProps.apply(this,arguments)},a.mapDispatchToProps)(e);return t.pure=e,t}}),define("pageSettingsPanel/settings/tabs/tabPageInfoMainMenu.rt",["react","lodash","baseUI","santa-editor-symbols","util","pageSettingsPanel/utils/constants","baseUILib"],function(t,e,a,n,s,i,o){"use strict";return function(){return function(){this.props.menuItem.pageData;var e=s.translate;return this.isHomePage(),t.createElement(o.CustomScroll,{},t.createElement("div",{className:"page-info tab-inner"},t.createElement("section",{className:"section-page-title"},t.createElement(a.textInput,{className:"control-text-input",label:"Pages_Info_Name_Title",maxLength:i.NAME_MAX_LENGTH,validator:[s.validate.notEmptyString,s.validate.noHTMLTags,s.validate.noEmoji],invalidMessage:"Pages_Info_Name_Error_Tooltip",value:this.getValueFromPageData("title"),onChange:this.onChange,validateOnBlurOnly:!0,infoText:"Pages_Info_Name_Tooltip",alwaysShowInfoIcon:!0})),t.createElement("section",{className:"section-hide-page"},t.createElement(o.ToggleSwitch,{value:this.linkPageProperty("hidePage").value,label:"Pages_Info_Hide_Toggle",className:"hide-page-toggle-text",onChange:this.linkPageProperty("hidePage").requestChange})),this.isHomePage()?null:t.createElement("section",{key:"page-settings-tab-page-non-home",className:"page-settings-control-description"},t.createElement("span",{className:"home-page-span-text"},e("Pages_Info_Home_NotSelected")),t.createElement(a.button,{icon:"settingsHome",className:"home-page-button-set",label:"Pages_Info_Home_Set",onClick:this.setAsHomepage})),this.isHomePage()?t.createElement("section",{key:"page-settings-tab-page-home",className:"page-settings-control-description"},t.createElement("span",{className:"label-with-icon"},t.createElement(n.symbol,{name:"settingsHome"}),e("Pages_Info_Home_IsSelected")),t.createElement(a.infoIcon,{className:"page-settings-change-homepage-tooltip",uniqueId:"changeHomePageTooltip",title:"Pages_Info_Home_Popup_Title",text:"Pages_Info_Home_Popup_Text"})):null,this.shouldRenderAdvancedSettings()?t.createElement("div",{className:"pages-info-advanced-settings-info",key:"ssrCacheAccordionToggle"},t.createElement("div",{},t.createElement("section",{className:"pages-info-advanced-settings-info"},t.createElement(a.accordion,{className:"pages-info-advanced-settings-accordion",label:"Pages_Info_Advanced_Settings",onToggle:this.onAccordionToggle,openedOnInit:this.state.ssrToggle},t.createElement(o.RichText,{},"\r\n                            ",e("Pages_Info_SSR_Cache_Info_Text"),"\r\n                            ",t.createElement("a",{onClick:this.openCacheRenderingHelp},e("Pages_Info_SSR_Cache_Info_Link")))))),this.state.advancedSettingsDropDown?t.createElement("div",{className:"pages-info-advanced-settings-switch",key:"advanced-settings-ssr-accordion"},t.createElement(o.ToggleSwitch,{className:"pages-info-ssr-cache-switch",value:this.isSSRToggleOn(),label:"Pages_Info_SSR_Cache_Toggle_Label",onChange:this.onSSRToggleChange})):null,this.state.advancedSettingsDropDown?t.createElement(o.Divider,{long:!this.isSSRToggleOn(),key:"4069"}):null,this.isSSRToggleOn()&&this.state.advancedSettingsDropDown?t.createElement("div",{className:"ssr-cache-warning",key:"ssr-cache-warning"},t.createElement("section",{className:"ssr-cache-warning-section"},t.createElement("div",{className:"ssr-cache-warning-icon"},t.createElement(n.symbol,{name:"symbol-warning"})),t.createElement("div",{className:"ssr-cache-warning-text"},t.createElement(o.RichText,{},"\r\n                            ",e("Pages_Info_SSR_Cache_Toggle_Warning_Text"),"\r\n                            ",t.createElement("a",{onClick:this.openCacheRenderingHelp},e("Pages_Info_SSR_Cache_Toggle_Warning_Link")))))):null,this.isSSRToggleOn()&&this.state.advancedSettingsDropDown?t.createElement("div",{className:"ssr-cache-drop-down",key:"advanced-settings-ssr-toggle"},t.createElement("section",{className:"ssr-cache-drop-down"},t.createElement(a.dropDown.select,{value:this.getCacheDuration(),label:"Pages_Info_SSR_Cache_Frequency_Dropdown_Label",onChange:this.onSSRDurationChange},t.createElement(a.dropDown.option,{shouldTranslate:!1,key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option1",value:1}," ",e("Pages_Info_SSR_Cache_Frequency_Dropdown_Option1"),"\r\n                        "),t.createElement(a.dropDown.option,{shouldTranslate:!1,key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option2",value:2}," ",e("Pages_Info_SSR_Cache_Frequency_Dropdown_Option2"),"\r\n                        "),t.createElement(a.dropDown.option,{shouldTranslate:!1,key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option3",value:4}," ",e("Pages_Info_SSR_Cache_Frequency_Dropdown_Option3"),"\r\n                        "),t.createElement(a.dropDown.option,{shouldTranslate:!1,key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option4",value:6}," ",e("Pages_Info_SSR_Cache_Frequency_Dropdown_Option4"),"\r\n                        "),t.createElement(a.dropDown.option,{shouldTranslate:!1,key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option5",value:12}," ",e("Pages_Info_SSR_Cache_Frequency_Dropdown_Option5"),"\r\n                        "),t.createElement(a.dropDown.option,{shouldTranslate:!1,key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option6",value:24}," ",e("Pages_Info_SSR_Cache_Frequency_Dropdown_Option6"),"\r\n                        ")))):null):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/tabPageInfoMainMenu",["create-react-class","prop-types","lodash","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","coreBi","core","experiment","pageSettingsPanel/settings/tabs/tabPageInfoMainMenu.rt"],function(e,t,a,n,s,i,o,r){"use strict";return e({displayName:"tabPageInfoMainMenuNew",mixins:[n],render:r,propTypes:{menuItem:t.object.isRequired},getInitialState:function(){var e=this.isSSRToggleOn();return{advancedSettingsDropDown:e,ssrToggle:e,homePageId:this.getHomepageId()}},getHomepageId:function(){return this.getEditorAPI().homePage.get()},setAsHomepage:function(){var e=this.getEditorAPI();e.homePage.set(this.getPageId()),this.setState({homePageId:this.getPageId()}),e.bi.event(s.events.topbar.pages.top_bar_PAGES_settings_page_info_home_page_change_set_click)},onChange:function(e){var t=this.props.menuItem.pageData;this.getEditorAPI().menus.renamePage(t.id,t.title,e)},isHomePage:function(){return this.getPageId()===this.state.homePageId},onAccordionToggle:function(){var e=this.getEditorAPI();this.state.advancedSettingsDropDown||e.bi.event(s.events.ssrCache.click_advanced_page_settings_page_panel),this.setState({advancedSettingsDropDown:!this.state.advancedSettingsDropDown})},shouldRenderAdvancedSettings:function(){return o.isOpen("se_ssrCacheTogglePagesPanel")&&!i.utils.tpaTypeUtils.isTPA(this.getEditorAPI().pages.data.get(this.props.menuItem.pageData.id))},isSSRToggleOn:function(){return!!this.getCacheDuration()},getCacheDuration:function(){return this.getEditorAPI().pages.data.get(this.props.menuItem.pageData.id).cacheMaxAgeHours},onSSRToggleChange:function(e){var t=this.getEditorAPI();this.setState({ssrToggle:!this.state.ssrToggle}),t.pages.data.update(this.props.menuItem.pageData.id,{cacheMaxAgeHours:e?1:null}),t.bi.event(s.events.ssrCache.enable_ssr_cache_for_a_page_toggle,{toggle:!this.getCacheDuration(),pageId:this.props.menuItem.pageData.id})},onSSRDurationChange:function(e){var t=this.getEditorAPI();t.pages.data.update(this.props.menuItem.pageData.id,{cacheMaxAgeHours:e}),t.bi.event(s.events.ssrCache.chose_timeframe_in_dropdown,{selection:e})},openCacheRenderingHelp:function(){this.getEditorAPI().panelManager.openHelpCenter("a218bf29-0948-4a27-ac1d-6bf682d164fe",null,{})}})}),define("pageSettingsPanel/settings/tabs/pageSettingsPanelTabsHolder.rt",["react","lodash","baseUI","baseUILib"],function(n,e,s,t){"use strict";return function(){return n.createElement("div",{},n.createElement(s.tabs.holder,{value:this.props.selectedTabType,className:"top page-settings-tabs"},n.createElement(t.HorizontalTabs,{value:this.props.selectedTabType,onChange:function(e){this.props.setActiveTabType(e)}.bind(this),options:this.getTabs(),shouldTranslate:!1,maxVisibleTabs:4,tabsToSkipOnClick:2}),n.createElement.apply(this,[s.tabs.content,{className:"page-settings-panel-pp-content"},e.map(this.props.tabs,function(e,t,a){return function(e,t){var a=e.panelClass;return n.createElement(s.tabs.tab,{name:e.tag,key:e.tag},n.createElement(a,e.props))}.apply(this,[e,t])}.bind(this))])))}}),define("pageSettingsPanel/settings/tabs/pageSettingsPanelTabsHolder",["create-react-class","prop-types","lodash","pageSettingsPanel/settings/tabs/pageSettingsPanelTabsHolder.rt"],function(e,t,a,n){"use strict";return e({displayName:"pageSettingsTabsHolder",propTypes:{menuItem:t.object.isRequired,selectedTabType:t.string,setActiveTabType:t.func.isRequired,tabs:t.PropTypes.arrayOf(t.shape({tag:t.string.isRequired,name:t.string.isRequired,panelClass:t.string.element,props:t.object}))},getTabs:function(){return a.map(this.props.tabs,function(e){return{label:e.name,value:e.tag}})},render:n})}),define("pageSettingsPanel/settings/pageSettingsPanelTabs.rt",["react","lodash","pageSettingsPanel/settings/tabs/pageSettingsPanelTabsHolder"],function(e,t,a){"use strict";return function(){return e.createElement(a,t.assign({},{tabs:this.getTabsPanel()},this.props))}}),define("pageSettingsPanel/settings/pageSettingsPanelTabs",["create-react-class","prop-types","pageSettingsPanel/settings/tabs/tabSEO","pageSettingsPanel/settings/tabs/SEO/WixPromoteSEOPanel","pageSettingsPanel/settings/tabs/SEO/SeoPanelHOC","experiment","util","constants","lodash","pageSettingsPanel/settings/tabs/tabPageInfoMainMenu","pageSettingsPanel/settings/tabs/tabLayout","pageSettingsPanel/settings/tabs/tabPermissions","pageSettingsPanel/settings/pageSettingsPanelTabs.rt"],function(e,t,a,n,s,i,o,r,l,p,g,c,u){"use strict";return e({displayName:"pageSettingsPanelTabsNew",propTypes:{menuItem:t.object.isRequired,selectedTabType:t.string,setActiveTabType:t.func.isRequired},getInitialState:function(){return{advancedSeoPanel:null}},getSEOPanel:function(){var t=this;return i.isOpen("promoteSEOTab")?this.state.advancedSeoPanel?this.state.advancedSeoPanel:(n().then(function(e){t.setState({advancedSeoPanel:e})}),null):a},getSEOTabs:function(){var t=this,a=o.translate,e=this.getSEOPanel();return i.isOpen("promoteSEOTab")?e?l.map(e.tabs,function(e){return{tag:e.name,name:a(e.label_key),panelClass:s(e.PanelClass),props:{pageData:t.props.menuItem.pageData,tabName:e.name}}}):[{tag:r.PAGE_SETTINGS_TABS.BASIC_SEO,name:a("constants.PAGE_SETTINGS_TABS.TITLE_KEYS.BASIC_SEO"),props:{menuItem:this.props.menuItem}}]:[{tag:r.PAGE_SETTINGS_TABS.SEO,name:a("Pages_SEO_Social_Tab_Title"),panelClass:e,props:{pageData:this.props.menuItem.pageData}}]},getTabsPanel:function(){var e=o.translate,t=[{tag:r.PAGE_SETTINGS_TABS.PAGE_INFO,name:e("Pages_Info_Tab_Title"),panelClass:p,props:{menuItem:this.props.menuItem}},{tag:r.PAGE_SETTINGS_TABS.LAYOUT,name:e("Pages_Layouts_Tab_Title"),panelClass:g,props:{menuItem:this.props.menuItem}},{tag:r.PAGE_SETTINGS_TABS.PERMISSIONS,name:e("Pages_Permissions_Tab_Title"),panelClass:c,props:{pageData:this.props.menuItem.pageData}}];return t.push.apply(t,_toConsumableArray(this.getSEOTabs())),l.remove(t,function(e){return!e.panelClass}),t},render:u})}),define("pageSettingsPanel/panels/settings/pageSettingsFrame.rt",["react","lodash","santa-editor-symbols","util","baseUILib"],function(e,t,a,n,s){"use strict";return function(){return e.createElement("div",{className:"page-settings-panel-pp"},e.createElement("div",{className:"page-settings-panel-pp-inner"},e.createElement(s.PanelHeader,{className:"light",onClose:function(){this.props.closeSettingsPanel("back")}.bind(this),onHelp:function(e){e.stopPropagation(),this.openHelpPanel()}.bind(this),closeSymbol:this.getCloseSymbol()},e.createElement("span",{},this.getDisplayTitle())),"\n        ",this.props.children,"\n    "))}}),define("pageSettingsPanel/panels/settings/pageSettingsFrame",["react","util","create-react-class","prop-types","core","pageSettingsPanel/panels/settings/pageSettingsFrame.rt","constants","santa-editor-symbols"],function(e,t,a,n,s,i,o,r){"use strict";return a({displayName:"pageSettingsFrameNew",propTypes:{helpId:n.string,title:n.string,displayTitle:n.string,closeSettingsPanel:n.func.isRequired},mixins:[s.mixins.editorAPIMixin],render:i,openHelpPanel:function(e){if(e=e||this.props.helpId){var t={learn_more:!1,panel_name:"page_settings",origin:o.BI.HELP.ORIGIN.PAGES};this.getEditorAPI().panelManager.openHelpCenter(e,null,t)}},getCloseSymbol:function(){return e.createElement(r.symbol,{name:"arrowLeft"})},getDisplayTitle:function(){return this.props.displayTitle||t.translate("Pages_Settings_Header_Text")+" ("+this.props.title+")"}})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon.rt",["react","lodash","pageSettingsPanel/panels/settings/pageSettingsFrame"],function(e,t,a){"use strict";return function(){return e.createElement(a,{helpId:this.props.helpId,title:this.props.title,displayTitle:this.props.displayTitle,closeSettingsPanel:this.props.closeSettingsPanel},"\n\n    ",this.props.children,"\n\n")}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon",["create-react-class","prop-types","core","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon.rt"],function(e,t,a,n){"use strict";return e({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsDesktopCommonNew",propTypes:{title:t.string,displayTitle:t.string,closeSettingsPanel:t.func.isRequired,helpId:t.string},render:n})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop.rt",["react","lodash","baseUI","santa-editor-symbols","util","pageSettingsPanel/settings/applicationSettingsPanelTabs","pageSettingsPanel/settings/pageSettingsPanelTabs","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon"],function(e,t,a,n,s,i,o,r){"use strict";return function(){return function(){return this.props.actions,s.translate,e.createElement(r,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},this.props.isApplicationOverridingSettingTab?null:e.createElement(o,t.assign({},{key:"pageSettingsPanelTabs",setActiveTabType:this.setActiveTabTypeAndSendBI,selectedTabType:this.state.activeTabType},this.props)),this.props.isApplicationOverridingSettingTab?e.createElement(i,t.assign({},{developerModeEnabled:this.props.isDeveloperModeEnabled,tabs:this.props.applicationTabs,setActiveTabType:this.setActiveTabTypeAndSendBI,selectedTabType:this.state.activeTabType,key:"applicationSettingsPanelTabs"},this.props)):null)}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop",["react","util","prop-types","lodash","constants","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopMapper","coreBi","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop.rt"],function(t,e,a,o,s,n,i,r,l){"use strict";var p=e.hoc,g=p.connect,c=p.STORES.EDITOR_API,u=function(e){function a(e){_classCallCheck(this,a);var i=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));i.setActiveTabType=function(e){i.setState({activeTabType:e})},i.setActiveTabTypeAndSendBI=function(e){i.setState({activeTabType:e}),i.props.sendBi(r.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},i.getValidActiveTabTypeForDynamicPage=function(e,t){var a=o.map(i.props.applicationTabs,"type");return o.includes(a,t)?t:i.getDefaultTabType(e,i.props.applicationTabs)},i.tryToPreserveSelectedTab=function(e,t){var a=!!i.props.getRouterDataForPageIfExist(e),n=!!i.props.getRouterDataForPageIfExist(t);if(a&&!n||!a&&n)i.setActiveTabType(i.getDefaultTabType(e));else if(a&&n){var s=i.props.applicationTabs;o.find(s,{type:i.state.activeTabType})||i.setActiveTabType(i.getDefaultTabType(e))}},i.getHelpId=function(){if(i.props.isApplicationOverridingSettingTab){var e=o.find(i.props.applicationTabs,{type:i.state.activeTabType});return e&&e.helpId?e.helpId:"995c5103-5599-4725-9e4f-c6ae4a47bf35"}return n.STATIC_PAGES_HELP_IDS[i.state.activeTabType]},i.getDefaultTabType=function(e,t){if(e=e||o.get(i.props.menuItem.pageData,"id"),i.props.isApplicationOverridingSettingTab){var a=t||i.props.applicationTabs,n=o.find(a,["type",s.PAGE_SETTINGS_TABS.PAGE_INFO]);return n?n.type:a[0].type}return s.PAGE_SETTINGS_TABS.PAGE_INFO};var t=i.props.activeTabType&&o.includes(o.values(s.PAGE_SETTINGS_TABS),i.props.activeTabType)?i.props.activeTabType:i.getDefaultTabType();return i.props.isApplicationOverridingSettingTab&&(t=i.getValidActiveTabTypeForDynamicPage(i.props.menuItem.pageData.id,i.props.activeTabType)),i.state={activeTabType:t},i}return _inherits(a,t.Component),_createClass(a,[{key:"componentWillReceiveProps",value:function(e){e.activeTabType&&this.props.activeTabType!==e.activeTabType&&this.setActiveTabType(e.activeTabType);var t=e.menuItem.pageData.id,a=this.props.menuItem.pageData.id;t!==a&&(e.activeTabType?this.props.isApplicationOverridingSettingTab?this.setActiveTabType(this.getValidActiveTabTypeForDynamicPage(t,e.activeTabType)):this.setActiveTabType(e.activeTabType):this.tryToPreserveSelectedTab(t,a))}},{key:"render",value:function(){return l.call(this)}}]),a}();u.displayName="pageSettingsDesktopNew",u.propTypes={sendBi:a.func.isRequired,getRouterDataForPageIfExist:a.func.isRequired,isApplicationOverridingSettingTab:a.bool.isRequired,isDeveloperModeEnabled:a.bool.isRequired,applicationTabs:a.array.isRequired,menuItem:a.object.isRequired,actions:a.object,activeTabType:a.string,closeSettingsPanel:a.func.isRequired};var d=g(c,i.mapStateToProps,i.mapDispatchToProps)(u);return d.pure=u,d}),define("pageSettingsPanel/utils/customSignup",["experiment"],function(e){"use strict";var t,a={DEFAULT:"default",CUSTOM:"custom",DEV:"dev"},n="wysiwyg.viewer.components.FormContainer",s="5f4fa4f1-5afd-4ac0-8a85-e5ac1d2b9b7d";return{SIGNUP_POLICIES:{TERMS_OF_USE:"termsOfUse",PRIVACY:"privacyPolicy",CODE_OF_CONDUCT:"codeOfConduct"},AUTO_APPROVAL:[{label:"Pages_Member_Signup_Permission_Settings_Dropdown_Automatic",value:!0},{label:"Pages_Member_Signup_Permission_Settings_Dropdown_Manual",value:!1}],LOGIN_FIRST:[{label:"Pages_Member_Signup_Display_Settings_Dropdown_Signup",value:!1},{label:"Pages_Member_Signup_Display_Settings_Dropdown_Login",value:!0}],SIGNUP_VALUES:a,SIGNUP_OPTIONS_LABELS:(_defineProperty(t={},a.DEFAULT,"NewPages_Panel_Signup_Dropdown_Default_label"),_defineProperty(t,a.CUSTOM,"NewPages_Panel_Signup_Dropdown_Custom_label"),_defineProperty(t,a.DEV,"NewPages_Panel_Signup_Dropdown_Developer_label"),t),MEMBERS_APPDEF_ID:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",FORM_COMPONENT_TYPE:n,FORM_BUILDER_APP_DEF_ID:"14ce1214-b278-a7e4-1373-00cebd1bef7c",CUSTOM_REGISTRATION_APP_DEF_ID:s,LIGHTBOX_DEF:{type:"Page",skin:"skins.core.InlineSkin",componentType:"mobile.core.components.Page",data:{type:"Page",managingAppDefId:s,title:"add_preset_popups_Welcome_1",hideTitle:!0,icon:"",descriptionSEO:"",metaKeywordsSEO:"",pageTitleSEO:"",pageUriSEO:"blank-ncx68",hidePage:!0,underConstruction:!1,tpaApplicationId:0,pageSecurity:{requireLogin:!1,passwordDigest:"",dialogLanguage:""},isPopup:!0,indexable:!1,isLandingPage:!1,pageBackgrounds:{desktop:{ref:{type:"BackgroundMedia",color:"#000000",colorOpacity:.8,alignType:"center",fittingType:"fill",scrollType:"none",colorOverlay:"",colorOverlayOpacity:0}},mobile:{custom:!0,ref:{type:"BackgroundMedia",color:"#000000",colorOpacity:.8,alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0},isPreset:!0}},ignoreBottomBottomAnchors:!0},props:{type:"PageProperties",desktop:{popup:{closeOnOverlayClick:!0}},mobile:{popup:{closeOnOverlayClick:!0}}},style:"p1",tpaComps:[],components:[{type:"Container",components:[{type:"Component",skin:"svgshape.v2.Svg_9a8686831e874878a55a90925c0feb6c",layout:{width:35,height:35,scale:1,rotationInDegrees:0,anchors:[],fixedPosition:!0,docked:{top:{px:60},right:{px:60}}},componentType:"wysiwyg.viewer.components.PopupCloseIconButton",props:{type:"SvgShapeProperties",maintainAspectRatio:!0},style:{type:"TopLevelStyle",style:{groups:{},properties:{"alpha-fillcolor":"1","alpha-stroke":"1",fillcolor:"#F2F2F2",stroke:"#ED1566",strokewidth:"0px"},propertiesSource:{fillcolor:"value",stroke:"value",strokewidth:"value"}},componentClassName:"wysiwyg.viewer.components.PopupCloseIconButton",mobileHints:{type:"MobileHints",hidden:!0},pageId:"",compId:"",styleType:"custom",skin:"svgshape.v2.Svg_9a8686831e874878a55a90925c0feb6c"}},{type:"Container",components:[],skin:"wysiwyg.viewer.skins.FormContainerSkin",layout:{width:793,height:537,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},style:{metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{loader:e.isOpen("se_wixFormsLoader")?"1":"0"},pageId:"",compId:""},styleType:"custom",skin:"wysiwyg.viewer.skins.FormContainerSkin"},componentType:n}],skin:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer",layout:{width:795,height:540},componentType:"wysiwyg.viewer.components.PopupContainer",props:{type:"PopupContainerProperties",horizontalAlignment:"center",verticalAlignment:"center",alignmentType:"nineGrid",horizontalOffset:0,verticalOffset:0},design:{type:"MediaContainerDesignData",background:{type:"BackgroundMedia",color:"#FFFFFE",colorOpacity:1,alignType:"center",fittingType:"fill",scrollType:"none",colorOverlay:"",colorOverlayOpacity:0}},style:{type:"TopLevelStyle",style:{groups:{},properties:{"alpha-bg":"1",bg:"rgba(255,255,255,1)"},propertiesSource:{"alpha-bg":"value",bg:"value"}},componentClassName:"wysiwyg.viewer.components.PopupContainer",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer"}}]}}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDesktopMapper",["lodash","util","coreBi","tpa","platform","experiment","constants","popups","pmrpc","pageSettingsPanel/utils/constants","pageSettingsPanel/utils/customSignup"],function(p,l,g,c,u,d,m,i,_,P,e){"use strict";var S=e.SIGNUP_VALUES,h=e.AUTO_APPROVAL,b=e.LOGIN_FIRST,E=e.SIGNUP_POLICIES,f=e.MEMBERS_APPDEF_ID,T=e.FORM_BUILDER_APP_DEF_ID,v=e.FORM_COMPONENT_TYPE,I=e.CUSTOM_REGISTRATION_APP_DEF_ID,o=e.LIGHTBOX_DEF,y=function(e,t){var a=e.editorAPI,n=e.dsRead.siteMembers.getCustomSignupPageId(),s=a.pages.popupPages.add(t,o);a.pages.navigateTo(s.id),a.siteMembers.setCustomSignupPageId(s.id),a.dsActions.waitForChangesApplied(function(){var r,l;(r=a,l=s,new Promise(function(t,a){var e=c.constants.APP.TYPE.PLATFORM_ONLY,n=c.constants.BI.initiator.EDITOR,s={originType:c.constants.BI.type.ADD_APP_ADD_PANEL},i=D(r,l,v),o={initiator:u.constants.ORIGIN.INITIATOR.EDITOR,info:{type:"registration-form",containerRef:i,targetPageRef:l}};c.services.tpaAddAppService.addApp(r,T,null,null,e,n,!1,{},s,function(e){return p.get(e,"success")?t(e):a(e)},o)})).then(function(){return i.actions.openBehaviors.removeOpenBehaviorFromAllPages(a)}).catch(function(){return a.siteMembers.setCustomSignupPageId(n)})})},D=function a(n,e,s){return e?s===n.components.getType(e)?e:p.reduce(n.components.getChildren(e),function(e,t){return e||a(n,t,s)},null):null};return function(e){var s=e.editorAPI,i=e.dsRead,t=s.bi.event,a=function(){return s.siteMembers.getCustomSignupPageId()},n=function(){var e=s.pages.popupPages.getDataList();return p.get(p.find(e,["managingAppDefId",I]),"id")},o=function(){var e=s.dsRead.siteMembers.getCustomSignupPageId();return e?n()===e?S.CUSTOM:S.DEV:S.DEFAULT},r=function(){var e=g.events.topbar.pages,n=s.bi.event;return{clickOnSaveSettings:function(){return n(e.custom_signup_panel_save)},clickOnSaveLinkPanel:function(){return n(e.custom_signup_panel_link_panel_save)},clickOnCancelLinkPanel:function(){return n(e.custom_signup_panel_link_panel_cancel)},clickOnLinkButton:function(){return n(e.custom_signup_panel_link_panel_open)},toggleLoginDialogFirst:function(e){return n(g.events.signup.set_login_dialog_first,{hosting:"editor",selection:e?"existing member login":"new member signup"})},toggleAutoApprove:function(e){return n(g.events.signup.set_auto_approval,{hosting:"editor",selection:e?"everyone":"people i approve"})},toggleSetSocialLogin:function(e,t){return n(g.events.signup.set_social_login,{hosting:"editor",platform:t,toggle_state:e})},toggleShowPolicyLink:function(e,t){return n(g.events.signup.toggle_policy,{hosting:"editor",policy:e,toggle_state:t})},setPolicyLink:function(e,t){var a=t.type;return n(g.events.signup.link_to_policy,{name:e,action:"set-link",type:a})}}};return{sendBiEvent:r,getCustomSignupPageId:a,findManagedCustomSignup:n,isSiteSaved:function(){return!s.dsRead.generalInfo.isFirstSave()},isJoinCommunityEnabled:function(){return s.siteMembers.isJoinCommunityEnabled()},setJoinCommunityStatus:function(e){return s.siteMembers.isJoinCommunityEnabled()!==e&&s.siteMembers.setJoinCommunityStatus(e)},sendBi:t,title:function(){switch(o()){case S.CUSTOM:return l.translate("NewPages_Member_Signup_Custom_Title");case S.DEV:return l.translate("NewPages_Member_Signup_Developer_Title");case S.DEFAULT:return l.translate("NewPages_Member_Signup_Default_Title")}}(),isAutoApproval:function(){return s.siteMembers.isAutoApproval()},isLoginDialogFirst:function(){return s.siteMembers.isLoginDialogFirst()},setAutoApproval:function(e){s.siteMembers.setAutoApproval(e),r().toggleAutoApprove(e)},getAutoApprovalOptions:function(){return h},getLoginFirstOptions:function(){return b},setLoginDialogFirst:function(e){s.siteMembers.setLoginDialogFirst(e),r().toggleLoginDialogFirst(e)},isSocialLogin:function(e){return s.siteMembers.isSocialLoginEnabled(e)},setSocialLogin:function(e,t){s.siteMembers.setSocialLoginVendorStatus(e,t),r().toggleSetSocialLogin(t,e)},isSignupPoliciesFieldEnabled:function(e){return s.siteMembers.isSignupPoliciesFieldEnabled(e)},setSignupPoliciesFieldStatus:function(e,t){s.siteMembers.setSignupPoliciesFieldStatus(e,t),r().toggleShowPolicyLink(e,t)},getSignupPoliciesLink:function(e){return s.siteMembers.getSignupPoliciesLink(e)},setSignupPoliciesLink:function(e,t){s.siteMembers.setSignupPoliciesLink(e,t),r().setPolicyLink(e,t)},joinCommunityEnabled:function(){return s.siteMembers.isJoinCommunityEnabled()},isTermsOfUseLinkVisible:function(){return s.siteMembers.isSignupPoliciesFieldEnabled(E.TERMS_OF_USE)},isPrivacyPolicyLinkVisible:function(){return s.siteMembers.isSignupPoliciesFieldEnabled(E.PRIVACY)},isCodeOfConductLinkVisible:function(){return s.siteMembers.isSignupPoliciesFieldEnabled(E.CODE_OF_CONDUCT)},termsOfUseLink:function(){return s.siteMembers.getSignupPoliciesLink(E.TERMS_OF_USE)},privacyPolicyLink:function(){return s.siteMembers.getSignupPoliciesLink(E.PRIVACY)},codeOfConductLink:function(){return s.siteMembers.getSignupPoliciesLink(E.CODE_OF_CONDUCT)},getPolicyLinkData:function(e){return s.data.getById(e.replace("#",""))},getLabelForPolicyPageFromId:function(e){return l.link.getLinkValueAsString(s,s.data.getById(e.replace("#","")))},getLabelForPolicyPageFromLink:function(e){return l.link.getLinkValueAsString(s,e)},openLinkPanel:function(e){s.openLinkPanel(e),s.bi.event(g.events.signup.link_to_policy,{name:e.policy,action:"click"})},openHelpPanel:function(e){var t={learn_more:!1,panel_name:"signup_settings",origin:m.BI.HELP.ORIGIN.PAGES};s.panelManager.openHelpCenter(e||P.SIGNUP_HELP_ID,null,t)},navigateToCustomSignup:function(){return e=s,void((t=a())&&e.dsRead.pages.getFocusedPageId()!==t&&(e.pages.navigateTo(t),e.bi.event(g.events.pages.navigate_to_page,{page_id:t,panel_name:"signup",category:"lightbox"})));var e,t},hasCustomSignup:function(){return s.pages.popupPages.isPopup(a())},isPageExists:function(e){return s.data.getById(e)},getCustomSignupPageTitle:function(){return s.pages.getPageTitle(a())||""},removeCustomSignup:function(){s.siteMembers.setCustomSignupPageId(null),s.pages.navigateTo(s.dsRead.pages.getPrimaryPageId())},assignCustomSignup:function(e){return s.siteMembers.setCustomSignupPageId(e)},focusOnRegistrationForm:function(){var e=a();s.panelManager.closeAllPanels(),s.pages.navigateTo(e,function(){var e=s.pages.popupPages.getCurrentPopup();s.selection.selectComponentByCompRef(D(s,e,"wysiwyg.viewer.components.FormContainer"))})},getCurrentSignupState:o,createCustomSignup:function(){s.bi.event(g.events.signup.create_custom_signup),s.panelManager.closeAllPanels();var e=l.translate("NewPages_Member_Signup_Custom_Signup_Page_Name");return y({editorAPI:s,dsRead:i},e)},getSiteMembersUrl:function(){var e=d.isOpen("se_membersGroups")?"/member-permissions/members/":"/contacts/?tag=contacts-site_members_approved";return"//www.wix.com/dashboard/"+i.generalInfo.getMetaSiteId()+e},getCustomSignupLinkFromId:function(e){var t=i.data.createItem("PageLink");return e&&(t.pageId="#"+e),t},getCustomSignupPageLabel:function(e){if(!e||!i.data.getById(e))return l.translate("Pages_Custom_Signup_Settings_Custom_Signup_Link_Action_Placeholder");var t=i.data.getById(e);return p.get(t,"title","")},isDeveloperModeEnabled:function(){return s.developerMode.isEnabled()},isSocialAppInstalled:function(){var e,t,a,n=i.tpa.app.getDataByAppDefId(f);return n?(e=s,t=n,a=function(e){return e.hasSocialPages()},_.api.request(t.applicationId,{target:e.dsRead.platform.getAppsContainer()}).then(a).catch(function(){return a({Error:"Application API not found."})})):Promise.resolve(!1)}}}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDefaultDesktop.rt",["react","lodash","util","baseUI","baseUILib","santa-editor-symbols"],function(o,e,i,r,l,p){"use strict";return function(){return function(){var t=this,e=this.getTabValues(),a=i.translate,n=this.getSocialVendors(),s=this.getSignupPolicies();return o.createElement("div",{className:"site-members-settings-pages-panel"},o.createElement(l.Composites.RichTextWithIllustration,{className:"top-banner"},o.createElement(l.Illustration,{},o.createElement(p.symbol,{name:"customSignupThumbnailViewSignupPage"})),o.createElement(l.RichText,{},i.translate("NewPages_Member_Signup_Default_Top_Banner"))),o.createElement(l.Divider,{long:!0}),o.createElement(l.HorizontalTabs,{shouldTranslate:!0,options:this.getTabs(),value:this.state.selectedTab,onChange:this.selectTab}),o.createElement("div",{className:"page-settings-panel-pp-content settings"},this.state.selectedTab===e.GENERAL?o.createElement(l.CustomScroll,{key:"smSettingsTab",flex:"1",heightRelativeToParent:"100%"},o.createElement(l.Composites.RadioButtonsLabeled,{className:"settings-section"},o.createElement(l.InfoIcon,{shouldTranslate:!0,text:"Pages_Member_Signup_Permission_Settings_Info_Tooltip"}),o.createElement(l.TextLabel,{value:"Pages_Member_Signup_Permission_Settings_Dropdown_Label"}),o.createElement(l.RadioButtons,{value:this.props.autoApproval,options:this.props.getAutoApprovalOptions(),onChange:this.props.toggleAutoApprove})),o.createElement(l.Divider,{long:!0}),o.createElement(l.Composites.RadioButtonsLabeled,{className:"settings-section"},o.createElement(l.InfoIcon,{shouldTranslate:!0,text:"NewPages_Panel_Signup_Login_First_Info_Tooltip"}),o.createElement(l.TextLabel,{value:"Pages_Member_Signup_Display_Settings_Dropdown_Label"}),o.createElement(l.RadioButtons,{value:this.props.loginDialogFirst,options:this.props.getLoginFirstOptions(),onChange:this.props.toggleLoginDialogFirst})),o.createElement(l.Divider,{long:!0})):null,this.state.selectedTab===e.SOCIAL?o.createElement(l.CustomScroll,{key:"smSocialLoginSettingsSection",flex:"1",heightRelativeToParent:"100%"},o.createElement("section",{className:"option social-option"},o.createElement(p.symbol,{name:"mba_social_panel_google_plus_new",className:"social-icon google"}),o.createElement(r.toggle,{name:"switch",value:this.state.isSocialLoginGoogle,onChange:function(e){return t.toggleSocialLogin(n.GOOGLE,e)},label:"Member_Login_Settings_Social_Google"})),o.createElement("section",{className:"option social-option"},o.createElement(p.symbol,{name:"mba_social_panel_facebook",className:"social-icon facebook"}),o.createElement(r.toggle,{value:this.state.isSocialLoginFacebook,onChange:function(e){return t.toggleSocialLogin(n.FACEBOOK,e)},label:"Member_Login_Settings_Social_Facebook"})),this.isSocialAppInstalled()?o.createElement("section",{key:"communityCheckedByDefaultSection",className:"option social-option"},o.createElement(r.symbol,{name:"communityIcon",className:"social-icon community"}),o.createElement(r.toggle,{name:"switch",value:this.state.isJoinCommunity,onChange:function(e){return t.toggleJoinCommunity(e)},label:"Member_Login_Settings_Community_Join"})):null):null,this.state.selectedTab===e.TERMS_AND_CONDITIONS?function(e,t,a,n){var s=this,i=this.getArticles();return o.createElement(l.CustomScroll,{key:"smSignupPoliciesSection",flex:"1",heightRelativeToParent:"100%"},o.createElement(r.toggle,{className:"option policy-option",name:"switch",value:this.state[n.TERMS_OF_USE],onChange:function(){return s.toggleEditPoliciesVisibility(n.TERMS_OF_USE)},label:"Pages_Member_Signup_Settings_Terms_Of_Use_Toggle_Label"}),this.state[n.TERMS_OF_USE]?o.createElement("div",{key:"ifTermsOfUseVisible",className:"policy-link-area"},o.createElement(l.Divider,{long:!0}),o.createElement(l.Composites.ActionWithSymbolLabeled,{className:"policy-link"},o.createElement(l.InfoIcon,{shouldTranslate:!0,linkText:"Pages_Member_Signup_Settings_Policies_Link_Info_Tooltip_Link",onLinkClick:function(){return s.props.openHelpPanel(i.TERMS_OF_USE)},text:"Pages_Member_Signup_Settings_Terms_Of_Use_Info_Tooltip"}),o.createElement(l.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),o.createElement(l.ActionWithSymbol,{action:function(){return s.openLinkPanelFor(n.TERMS_OF_USE)}},o.createElement(l.TextLabel,{value:this.getLabelForPolicyPage(n.TERMS_OF_USE),shouldTranslate:!1})))):null,o.createElement(l.Divider,{long:!0}),o.createElement(r.toggle,{className:"option policy-option",name:"switch",value:this.state[n.PRIVACY_POLICY],onChange:function(){return s.toggleEditPoliciesVisibility(n.PRIVACY_POLICY)},label:"Pages_Member_Signup_Settings_Privacy_Policy_Toggle_Label"}),this.state[n.PRIVACY_POLICY]?o.createElement("div",{key:"ifPrivacyPolicyVisible",className:"policy-link-area"},o.createElement(l.Divider,{long:!0}),o.createElement(l.Composites.ActionWithSymbolLabeled,{className:"policy-link"},o.createElement(l.InfoIcon,{shouldTranslate:!0,linkText:"Pages_Member_Signup_Settings_Policies_Link_Info_Tooltip_Link",onLinkClick:function(){return s.props.openHelpPanel(i.PRIVACY_POLICY)},text:"Pages_Member_Signup_Settings_Policies_Link_Info_Tooltip"}),o.createElement(l.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),o.createElement(l.ActionWithSymbol,{action:function(){return s.openLinkPanelFor(n.PRIVACY_POLICY)}},o.createElement(l.TextLabel,{value:this.getLabelForPolicyPage(n.PRIVACY_POLICY),shouldTranslate:!1})))):null,o.createElement(l.Divider,{long:!0}))}.apply(this,[e,a,n,s]):null,this.props.isSiteSaved()?o.createElement(l.Composites.RichText,{className:"actions",key:"manage-site-members-container"},o.createElement(l.RichText,{className:"light"},"\n                ",i.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice"),"\n                ",o.createElement("a",{target:"_blank",href:this.props.getSiteMembersUrl()}," "+i.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice_Link")))):null))}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDefaultDesktop",["lodash","react","prop-types","util","helpIds","pageSettingsPanel/panels/settings/desktop/signupSettingsDefaultDesktop.rt"],function(s,a,e,i,t,n){"use strict";var o={GENERAL:"general",SOCIAL:"social",TERMS_AND_CONDITIONS:"terms"},r={GOOGLE:"google",FACEBOOK:"facebook"},l={TERMS_OF_USE:"termsOfUse",PRIVACY_POLICY:"privacyPolicy",CODE_OF_CONDUCT:"codeOfConduct"},p=[{label:"Member_Login_Settings_General_Tab_Title",value:o.GENERAL},{label:"Member_Login_Settings_Social_Tab_Title",value:o.SOCIAL},{label:"Member_Login_Settings_Policies_Tab_Title",value:o.TERMS_AND_CONDITIONS}],g={TERMS_OF_USE:t.SITE_MEMBERS.TERMS_OF_USE_EXAMPLE,PRIVACY_POLICY:t.SITE_MEMBERS.PRIVACY_POLICY_EXAMPLE},c=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedTab:o.GENERAL,loginDialogFirst:n.props.isLoginDialogFirst(),autoApproval:n.props.isAutoApproval(),termsOfUse:n.props.isTermsOfUseLinkVisible(),termsOfUseLink:n.props.termsOfUseLink(),privacyPolicy:n.props.isPrivacyPolicyLinkVisible(),privacyPolicyLink:n.props.privacyPolicyLink(),codeOfConduct:n.props.isCodeOfConductLinkVisible(),codeOfConductLink:n.props.codeOfConductLink(),isSocialLoginGoogle:n.props.isSocialLogin(r.GOOGLE),isSocialLoginFacebook:n.props.isSocialLogin(r.FACEBOOK),isJoinCommunity:!0,isSocialAppInstalled:!1},n.selectTab=function(e){return n.setState({selectedTab:e})},n.toggleSocialLogin=function(e,t){var a=e===r.GOOGLE?"isSocialLoginGoogle":"isSocialLoginFacebook";n.setState(_defineProperty({},a,t),function(){return n.props.setSocialLogin(e,t)})},n.toggleJoinCommunity=function(e){n.setState({isJoinCommunity:e},function(){return n.props.setJoinCommunityStatus(e)})},n.toggleEditPoliciesVisibility=function(e){return n.setState(_defineProperty({},e,!n.state[e]),function(){n.props.setSignupPoliciesFieldStatus(e,n.state[e])})},n.getPolicyLink=function(e){return n.state[e+"Page"]?n.state[e+"Page"]:n.state[e+"Link"]?n.props.getPolicyLinkData(n.state[e+"Link"]):null},n.getLabelForPolicyPage=function(e){return n.state[e+"Page"]?n.props.getLabelForPolicyPageFromLink(n.state[e+"Page"]):n.state[e+"Link"]?n.props.getLabelForPolicyPageFromId(n.state[e+"Link"]):i.translate("Pages_Member_Signup_Settings_Policies_Link_Label")},n.linkPanelCallback=function(e,t){s.isObject(t)&&n.setState(_defineProperty({},e+"Page",t),function(){n.props.setSignupPoliciesLink(e,t)}),s.isString(t)&&n.setState(_defineProperty({},e+"Link",t),function(){n.props.setSignupPoliciesLink(e,n.props.getPolicyLinkData(t))})},n.isSocialAppInstalled=function(){return n.state.isSocialAppInstalled},n.openLinkPanelFor=function(t){n.props.openLinkPanel({policy:t,visibleSections:{PageLink:!0,AnchorLink:!0,NoLink:!1,PhoneLink:!1,WhatsAppLink:!1,ExternalLink:!1,EmailLink:!1,DocumentLink:!1,LoginToWixLink:!1,EdgeAnchorLinks:!1,PopupLink:!1},link:n.getPolicyLink(t),pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"Pages_Member_Signup_Settings_Policies_Link_Header",callback:function(e){return n.linkPanelCallback(t,e)}})},n}return _inherits(t,a.Component),_createClass(t,[{key:"getTabs",value:function(){return p}},{key:"getArticles",value:function(){return g}},{key:"getTabValues",value:function(){return o}},{key:"getSocialVendors",value:function(){return r}},{key:"getSignupPolicies",value:function(){return l}},{key:"componentDidMount",value:function(){var a=this;this.props.isSocialAppInstalled().then(function(e){var t=a.props.isJoinCommunityEnabled();a.setState({isSocialAppInstalled:e,isJoinCommunity:!s.isBoolean(t)||t})})}},{key:"render",value:function(){return n.call(this)}}]),t}();return c.displayName="signupSettingsDefaultDesktop",c.propTypes={isLoginDialogFirst:e.func.isRequired,isAutoApproval:e.func.isRequired,isTermsOfUseLinkVisible:e.func.isRequired,termsOfUseLink:e.func.isRequired,isPrivacyPolicyLinkVisible:e.func.isRequired,privacyPolicyLink:e.func.isRequired,isCodeOfConductLinkVisible:e.func.isRequired,codeOfConductLink:e.func.isRequired,isSocialLogin:e.func.isRequired,setSignupPoliciesLink:e.func.isRequired,setSignupPoliciesFieldStatus:e.func.isRequired,setSocialLogin:e.func.isRequired,getLabelForPolicyPageFromLink:e.func.isRequired,getLabelForPolicyPageFromId:e.func.isRequired,getPolicyLinkData:e.func.isRequired,openLinkPanel:e.func.isRequired,getSiteMembersUrl:e.func.isRequired,setJoinCommunityStatus:e.func.isRequired,openHelpPanel:e.func.isRequired,isSocialAppInstalled:e.func.isRequired},c}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsCustomDesktop.rt",["react","lodash","baseUI","util","santa-editor-symbols","baseUILib"],function(e,t,a,n,s,i){"use strict";return function(){return e.createElement("div",{className:"site-members-settings-pages-panel"},this.props.isCustomSignupExists()?e.createElement("div",{className:"custom-signup",key:"customSignupSettings"},e.createElement(i.Composites.ButtonLeft,{},e.createElement(i.Button,{className:"btn-text",onClick:this.props.focusOnRegistrationForm},e.createElement("span",{},e.createElement(s.symbol,{name:"pencil"})),e.createElement("span",{},"\n                    ",n.translate("NewPages_Member_Signup_Custom_Signup_Edit_Text")+" '"+this.props.getCustomSignupPageTitle()+"' "+n.translate("NewPages_Member_Signup_Custom_Signup_Form_Text"),"\n                "))),e.createElement(i.Divider,{long:!0}),e.createElement("div",{className:"page-settings-panel-pp-content settings"},e.createElement(i.CustomScroll,{heightRelativeToParent:"100%"},e.createElement(i.Composites.RadioButtonsLabeled,{className:"settings-section"},e.createElement(i.InfoIcon,{shouldTranslate:!0,text:"Pages_Member_Signup_Permission_Settings_Info_Tooltip"}),e.createElement(i.TextLabel,{value:"Pages_Member_Signup_Permission_Settings_Dropdown_Label"}),e.createElement(i.RadioButtons,{value:this.props.autoApproval,options:this.props.getAutoApprovalOptions(),onChange:this.props.toggleAutoApprove})),e.createElement(i.Divider,{long:!0}),e.createElement(i.Composites.RadioButtonsLabeled,{className:"settings-section"},e.createElement(i.InfoIcon,{shouldTranslate:!0,text:"NewPages_Panel_Signup_Login_First_Info_Tooltip"}),e.createElement(i.TextLabel,{value:"Pages_Member_Signup_Display_Settings_Dropdown_Label"}),e.createElement(i.RadioButtons,{value:this.props.loginDialogFirst,options:this.props.getLoginFirstOptions(),onChange:this.props.toggleLoginDialogFirst})),e.createElement(i.Divider,{long:!0})),this.props.isSiteSaved()?e.createElement(i.Composites.RichText,{className:"actions",key:"manage-site-members-container"},e.createElement(i.RichText,{className:"light"},"\n                    ",n.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice"),"\n                    ",e.createElement("a",{target:"_blank",href:this.props.getSiteMembersUrl()}," "+n.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice_Link")))):null)):null,this.props.isCustomSignupExists()?null:e.createElement("div",{className:"first-time-custom-signup",key:"customSignupSplash"},e.createElement(i.Composites.RichTextWithIllustrationVertical,{className:"first-form-splash-container"},e.createElement(i.Illustration,{},e.createElement(s.symbol,{name:"customSignupEmptyState"})),e.createElement(i.TextLabel,{className:"text-label-centered",type:"T16",enableEllipsis:!1,value:"NewPages_Member_Signup_Custom_Signup_Banner_Title",shouldTranslate:!0}),e.createElement(i.RichText,{className:"paragraph-centered",type:"T05"},"\n                    ",n.translate("NewPages_Member_Signup_Custom_Signup_Banner_Text"),"\n                ")),e.createElement(i.Button,{className:"add-button btn-confirm-primary",onClick:this.props.createCustomSignup},e.createElement("span",{},n.translate("NewPages_Member_Signup_Custom_Signup_Banner_Button"))),e.createElement(i.RichText,{className:"learn-more-text-container"},e.createElement("a",{onClick:this.openHelpPanel},"\n                ",n.translate("NewPages_Member_Signup_Custom_Signup_Banner_Find_Out_More"),"\n            "))))}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsCustomDesktop",["react","prop-types","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/signupSettingsCustomDesktop.rt"],function(t,e,n,s){"use strict";var a=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.openHelpPanel=function(){t.props.openHelpPanel(n.FIND_OUT_MORE_HELP_ID)},t}return _inherits(a,t.Component),_createClass(a,[{key:"render",value:function(){return s.call(this)}}]),a}();return a.displayName="signupSettingsCustomDesktop",a.propTypes={isCustomSignupExists:e.func.isRequired,focusOnRegistrationForm:e.func.isRequired,getAutoApprovalOptions:e.func.isRequired,toggleAutoApprove:e.func.isRequired,getLoginFirstOptions:e.func.isRequired,toggleLoginDialogFirst:e.func.isRequired,createCustomSignup:e.func.isRequired,autoApproval:e.bool.isRequired,openHelpPanel:e.func.isRequired,loginDialogFirst:e.bool.isRequired},a}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDeveloperDesktop.rt",["react","lodash","baseUI","util","santa-editor-symbols","baseUILib"],function(e,t,a,n,s,i){"use strict";return function(){return e.createElement("div",{className:"site-members-settings-pages-panel"},e.createElement(i.Composites.RichText,{className:"top-banner",key:"manage-site-members-container"},e.createElement(i.RichText,{className:"light"},n.translate("NewPages_Member_Signup_Developer_Top_Info"),"\n        ")),e.createElement(i.Divider,{long:!0}),e.createElement("div",{className:"page-settings-panel-pp-content settings"},e.createElement(i.CustomScroll,{heightRelativeToParent:"100%",flex:"1"},e.createElement("div",{key:"devSignupLink",className:"option unnested"},e.createElement(i.Composites.ActionWithSymbolLabeled,{},e.createElement(i.TextLabel,{value:"Pages_Custom_Signup_Settings_Custom_Signup_Link_Action_Label",shouldTranslate:!0}),e.createElement(i.ActionWithSymbol,{action:this.openLinkPanel},e.createElement(i.TextLabel,{value:this.state.pageTitle,shouldTranslate:!1}))))),e.createElement(i.Divider,{long:!0}),this.props.isSiteSaved()?e.createElement(i.Composites.RichText,{className:"actions",key:"manage-site-members-container"},e.createElement(i.RichText,{className:"light"},"\n                ",n.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice"),"\n                ",e.createElement("a",{target:"_blank",href:this.props.getSiteMembersUrl()},"\n                    "+n.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice_Link")))):null))}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDeveloperDesktop",["react","lodash","prop-types","pageSettingsPanel/panels/settings/desktop/signupSettingsDeveloperDesktop.rt"],function(a,e,t,n){"use strict";var s=function(e){function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={pageTitle:a.props.getCustomSignupPageLabel(a.props.getCustomSignupPageId()),link:a.props.getCustomSignupLinkFromId(a.props.getCustomSignupPageId())||null},a.openLinkPanel=function(){a.props.openLinkPanel({visibleSections:{PopupLink:!0,PageLink:!1,AnchorLink:!1,NoLink:!1,PhoneLink:!1,WhatsAppLink:!1,ExternalLink:!1,EmailLink:!1,DocumentLink:!1,LoginToWixLink:!1,EdgeAnchorLinks:!1},defaultLinkType:"PopupLink",initialTabToDisplay:"PopupLink",link:a.state.link,showAllPopups:!0,hidePageLinks:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"Pages_Custom_Signup_Settings_Link_Panel_Header",onCancelCallback:function(){return a.props.sendBiEvent().clickOnCancelLinkPanel()},callback:function(e){var t=e&&e.pageId?e.pageId.replace("#",""):null;a.props.isPageExists(t)&&a.props.getCustomSignupPageId()!==t&&a.setState({link:a.props.getCustomSignupLinkFromId(t),pageTitle:a.props.getCustomSignupPageLabel(t)},function(){a.props.assignCustomSignup(t)})},hideExternalLinkTarget:!0})},a}return _inherits(t,a.Component),_createClass(t,[{key:"render",value:function(){return n.call(this)}}]),t}();return s.displayName="signupSettingsDeveloperDesktop",s.propTypes={isCustomSignupExists:t.func.isRequired,getCustomSignupLinkFromId:t.func.isRequired,assignCustomSignup:t.func.isRequired,sendBiEvent:t.func.isRequired},s}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDesktop.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","util","pageSettingsPanel/panels/settings/desktop/signupSettingsDefaultDesktop","pageSettingsPanel/panels/settings/desktop/signupSettingsCustomDesktop","pageSettingsPanel/panels/settings/desktop/signupSettingsDeveloperDesktop","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon"],function(t,a,e,n,s,i,o,r,l,p){"use strict";return function(){return function(){this.props.actions,i.translate;var e=this.getSignupValues();return t.createElement(p,{displayTitle:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},t.createElement("div",{},t.createElement(n.Composites.DropDownLabeled,{className:"signup-settings-dropdown"},t.createElement(n.InfoIcon,{shouldTranslate:!0,text:"NewPages_Panel_Signup_Top_Dropdown_Info_Text"}),t.createElement(n.TextLabel,{value:"NewPages_Panel_Signup_Top_Dropdown_Title",className:"signup-settings-dropdown-label",shouldTranslate:!0}),t.createElement(n.DropDown,{value:this.state.dropDownValue,placeholder:"Choose",openOnSelected:!0,options:this.getSignupOptions(),onChange:this.handleDropdownValueChange})),t.createElement(n.Divider,{long:!0}),this.state.dropDownValue===e.DEFAULT?t.createElement(o,a.assign({},{key:"defaultSignupSettingsPanel",toggleAutoApprove:this.toggleAutoApprove,toggleLoginDialogFirst:this.toggleLoginDialogFirst,loginDialogFirst:this.state.loginDialogFirst,autoApproval:this.state.autoApproval,getAutoApprovalOptions:this.getAutoApprovalOptions,getLoginFirstOptions:this.getLoginFirstOptions},this.props)):null,this.state.dropDownValue===e.CUSTOM?t.createElement(r,a.assign({},{key:"customSignupSettingsPanel",toggleAutoApprove:this.toggleAutoApprove,toggleLoginDialogFirst:this.toggleLoginDialogFirst,loginDialogFirst:this.state.loginDialogFirst,autoApproval:this.state.autoApproval,isCustomSignupExists:this.isCustomSignupExists,getAutoApprovalOptions:this.getAutoApprovalOptions,getLoginFirstOptions:this.getLoginFirstOptions},this.props)):null,this.state.dropDownValue===e.DEV?t.createElement(l,a.assign({},{key:"developerSignupSettingsPanel",isCustomSignupExists:this.isCustomSignupExists},this.props)):null))}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDesktop",["react","prop-types","util","lodash","santa-editor-symbols","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/signupSettingsDesktopMapper","pageSettingsPanel/panels/settings/desktop/signupSettingsDesktop.rt","pageSettingsPanel/utils/customSignup"],function(n,e,t,s,i,o,a,r,l){"use strict";var p=l.SIGNUP_VALUES,g=l.SIGNUP_OPTIONS_LABELS,c=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.getSignupOptions=function(){return s.values(p).filter(function(e){return e===p.DEV?t.props.isDeveloperModeEnabled():e}).map(function(e){return{value:e,label:g[e]}})},t.state={dropDownValue:t.props.getCurrentSignupState(),loginDialogFirst:t.props.isLoginDialogFirst(),autoApproval:t.props.isAutoApproval()},t.selectTab=function(e){return t.setState({selectedTab:e})},t.toggleAutoApprove=function(e){return t.setState({autoApproval:e},function(){return t.props.setAutoApproval(t.state.autoApproval)})},t.toggleLoginDialogFirst=function(e){return t.setState({loginDialogFirst:e},function(){return t.props.setLoginDialogFirst(t.state.loginDialogFirst)})},t.handleDropdownValueChange=function(e){t.setState({dropDownValue:e},function(){switch(e){case p.CUSTOM:t.props.assignCustomSignup(t.props.findManagedCustomSignup()),t.props.navigateToCustomSignup();break;case p.DEFAULT:t.props.removeCustomSignup();break;case p.DEV:}})},t.getHelpId=function(){return o.SIGNUP_HELP_ID},t.getCloseSymbol=function(){return n.createElement(i.symbol,{name:"arrowLeft"})},t.isCustomSignupExists=function(){return t.state.dropDownValue===p.CUSTOM&&!!t.props.hasCustomSignup()},t.getSignupValues=function(){return p},t}return _inherits(a,n.Component),_createClass(a,[{key:"render",value:function(){return r.call(this)}}]),a}();c.displayName="signupSettingsDesktop",c.propTypes={title:e.string.isRequired,isAutoApproval:e.func.isRequired,isLoginDialogFirst:e.func.isRequired,isSiteSaved:e.func.isRequired,setAutoApproval:e.func.isRequired,getAutoApprovalOptions:e.func.isRequired,getLoginFirstOptions:e.func.isRequired,setLoginDialogFirst:e.func.isRequired,isSocialLogin:e.func.isRequired,setSocialLogin:e.func.isRequired,isSignupPoliciesFieldEnabled:e.func.isRequired,setSignupPoliciesFieldStatus:e.func.isRequired,getSignupPoliciesLink:e.func.isRequired,setSignupPoliciesLink:e.func.isRequired,joinCommunityEnabled:e.func.isRequired,isTermsOfUseLinkVisible:e.func.isRequired,isPrivacyPolicyLinkVisible:e.func.isRequired,isCodeOfConductLinkVisible:e.func.isRequired,termsOfUseLink:e.func.isRequired,privacyPolicyLink:e.func.isRequired,codeOfConductLink:e.func.isRequired,getPolicyLinkData:e.func.isRequired,getLabelForPolicyPageFromId:e.func.isRequired,getLabelForPolicyPageFromLink:e.func.isRequired,openLinkPanel:e.func.isRequired,openHelpPanel:e.func.isRequired,navigateToCustomSignup:e.func.isRequired,hasCustomSignup:e.func.isRequired,findManagedCustomSignup:e.func.isRequired,removeCustomSignup:e.func.isRequired,assignCustomSignup:e.func.isRequired,createCustomSignup:e.func.isRequired,isDeveloperModeEnabled:e.func.isRequired};var u=t.hoc,d=u.connect,m=u.renderWhenMutated;return d(u.STORES.EDITOR_API,a)(m(c))}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpageMapper",[],function(){"use strict";return{mapDispatchToProps:function(a){return{sendBi:function(e,t){var n,s;a((n=e,s=t,function(e,t,a){a.editorAPI.bi.event(n,s)}))}}}}}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo.rt",["react","lodash","baseUI","util","experiment"],function(t,e,a,n,s){"use strict";return function(){return function(){var e=n.translate;return t.createElement("div",{className:"page-info tab-inner"},t.createElement("section",{},t.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_WhatisTitle")),t.createElement("p",{},e("Pages_Blog_Post_Info_WhatisText"))),t.createElement("section",{},t.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_HowTitle")),t.createElement("p",{},e("Pages_Blog_Post_Info_HowText"))),t.createElement("section",{},t.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_ChangeTitle")),t.createElement("p",{},t.createElement("span",{},e("Pages_Blog_Post_Info_ChangeText")+" "),this.isDesktop()?t.createElement("span",{key:"openBlogManagerButton"},t.createElement(a.button,{label:"Pages_Blog_Post_Info_ChangeLink",className:"btn-text",onClick:function(e,t){t.stopPropagation(),this.props.actions.openBlogManager()}.bind(this,e)}),t.createElement("span",{},".")):null,this.isMobile()?t.createElement("span",{key:"openBlogManagerText"},"\n                ",e("Pages_Blog_Post_Info_ChangeLink"),".\n            "):null)))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo",["create-react-class","core","lodash","pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo.rt"],function(e,t,a,n){"use strict";return e({displayName:"blogSinglePostInfoNew",render:n,mixins:[t.mixins.editorAPIMixin],isDesktop:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.DESKTOP},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.MOBILE}})}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo.rt",["react","lodash","util","pageSettingsPanel/settings/tabs/seoUrlSettings","pageSettingsPanel/settings/tabs/googlePreviewExpandable","experiment"],function(t,a,n,s,i,o){"use strict";return function(){return function(){var e=n.translate;return t.createElement("div",{className:"seo-google tab-inner"},t.createElement("p",{className:"title"},e("Pages_Blog_Post_SEO_Title")),t.createElement(i,{isExpanded:!0,shouldHideExpandingButton:!0,pageData:this.props.menuItem.pageData,previewDescriptionText:e("Pages_Blog_Post_SEO_Placeholder"),title:e("Pages_Blog_Post_SEO_Preview")+" | "+this.props.siteName}),o.isOpen("se_blogChangeSinglePostPageName")?t.createElement(s,{key:"blogSeoTabChangePageName",pageData:this.props.menuItem.pageData,inputFocusTooltipMessage:"SEO_URL_Changing_Warning",className:a({"blog-seo-setting":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")}):null)}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo",["create-react-class","lodash","pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo.rt"],function(e,t,a){"use strict";return e({displayName:"blogSinglePostSeoNew",render:a})}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo.rt",["react","lodash","baseUI","util"],function(a,e,n,s){"use strict";return function(){return function(){var e=s.translate,t=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Product_Info_WhatisTitle")),a.createElement("p",{},e("Pages_Store_Product_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Product_Info_HowTitle")),a.createElement("p",{},e("Pages_Store_Product_Info_HowText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Product_Info_ChangeTitle")),a.createElement("p",{},t.isDesktopEditor()?a.createElement("span",{key:"desktop"},e("Pages_Store_Product_Info_ChangeText")," "):null,t.isMobileEditor()?a.createElement("span",{key:"mobile"},e("Pages_Store_Product_Info_ChangeText_Mobile")," "):null,a.createElement(n.button,{label:"Pages_Store_Product_Info_ChangeLink",className:"btn-text",onClick:function(e,t,a){a.stopPropagation(),this.props.actions.openStoreManager()}.bind(this,e,t)}),a.createElement("span",{},"."))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo",["create-react-class","core","lodash","pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo.rt"],function(e,t,a,n){"use strict";return e({displayName:"tpaProductPageInfoNew",mixins:[t.mixins.editorAPIMixin],render:n})}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo.rt",["react","lodash","baseUI","util"],function(t,e,a,n){"use strict";return function(){return function(){var e=n.translate;return t.createElement("div",{className:"seo-google tab-inner"},t.createElement("p",{className:"title"},e("Pages_Store_Product_SEO_Title")),t.createElement("div",{className:"google-preview"},t.createElement("p",{className:"google-preview-title"},t.createElement("span",{className:"google-preview-title-site-name"},this.props.siteName+" | "),t.createElement("span",{},e("Pages_Store_Product_SEO_Preview"))),t.createElement("p",{className:"google-preview-url"},this.props.publicUrl.replace(/#!.*/,"#!product-title")),t.createElement("p",{className:"google-preview-description"},e("Pages_Store_Product_SEO_Placeholder"))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo",["create-react-class","lodash","pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo.rt"],function(e,t,a){"use strict";return e({displayName:"tpaProductPageSeoNew",render:a})}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo.rt",["react","lodash","util"],function(t,e,a){"use strict";return function(){return function(){var e=a.translate;return t.createElement("div",{className:"seo-google tab-inner empty"},t.createElement("p",{},e("Pages_Store_Cart_SEO_Text")),t.createElement("p",{},t.createElement("span",{},e("Pages_Store_Thankyou_Tracking_Text")+" "),t.createElement("a",{href:"https://support.wix.com/en/article/tracking-sales-in-wix-stores-using-your-thank-you-page-url",target:"_blank"},e("Pages_Store_Thankyou_Tracking_Link"))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo",["create-react-class","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo.rt"],function(e,t){"use strict";return e({displayName:"tpaThankYouPageSeoNew",render:t})}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo.rt",["react","lodash","util"],function(t,e,a){"use strict";return function(){return function(){var e=a.translate;return t.createElement("div",{className:"seo-google tab-inner empty"},t.createElement("p",{},e("Pages_Store_Cart_SEO_Text")))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo",["create-react-class","pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo.rt"],function(e,t){"use strict";return e({displayName:"tpaCartPageSeoNew",render:t})}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo.rt",["react","lodash","baseUI","util"],function(a,e,t,n){"use strict";return function(){return function(){var e=n.translate,t=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Cart_Info_WhatisTitle")),a.createElement("p",{},e("Pages_Store_Cart_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Cart_Info_HowTitle")),t.isDesktopEditor()?a.createElement("p",{key:"desktop"},e("Pages_Store_Cart_Info_HowText")," "):null,t.isMobileEditor()?a.createElement("p",{key:"mobile"},e("Pages_Store_Cart_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo",["create-react-class","lodash","core","pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo.rt"],function(e,t,a,n){"use strict";return e({displayName:"tpaCartPageInfoNew",mixins:[a.mixins.editorAPIMixin],render:n})}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo.rt",["react","lodash","baseUI","util"],function(a,e,t,n){"use strict";return function(){return function(){var e=n.translate,t=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Thankyou_Info_WhatisTitle")),a.createElement("p",{},e("Pages_Store_Thankyou_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Thankyou_Info_HowTitle")),t.isDesktopEditor()?a.createElement("p",{key:"desktop"},e("Pages_Store_Thankyou_Info_HowText")," "):null,t.isMobileEditor()?a.createElement("p",{key:"mobile"},e("Pages_Store_Thankyou_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo",["create-react-class","core","lodash","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo.rt"],function(e,t,a,n){"use strict";return e({displayName:"tpaThankYouPageInfoNew",mixins:[t.mixins.editorAPIMixin],render:n})}),define("pageSettingsPanel/settings/pageSettingsPanelTabsSubpage.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","util","pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo","pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo","pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo","pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo","pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo","pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/settings/tabs/tabLayout","pageSettingsPanel/settings/tabs/tabPermissions","pageSettingsPanel/settings/tabs/tabSEO","core","constants"],function(m,u,_,P,e,o,d,S,h,b,E,f,T,v,I,y,D,t,r,O){"use strict";return function(){function i(e,t,a,n,s){var i=O.PAGE_SETTINGS_TABS.PAGE_INFO,o=O.PAGE_SETTINGS_TABS.LAYOUT,r=O.PAGE_SETTINGS_TABS.PERMISSIONS,l=O.PAGE_SETTINGS_TABS.SEO,p=s.isWixStoreProductPage(e),g=s.isWixStoreCartPage(e),c=s.isWixStoreThankYouPage(e);return m.createElement(_.tabs.holder,{value:this.props.selectedTabType,className:"top page-settings-tabs",onChange:function(e,t,a,n,s,i,o,r,l,p,g,c,u){this.props.setActiveTabType(u)}.bind(this,e,t,a,n,s,i,o,r,l,p,g,c)},m.createElement(_.tabs.header,{},m.createElement(_.tabs.label,{htmlFor:i},t("Pages_Info_Tab_Title")),m.createElement(_.tabs.label,{htmlFor:o},t("Pages_Layouts_Tab_Title")),m.createElement(_.tabs.label,{htmlFor:r},t("Pages_Permissions_Tab_Title")),m.createElement(_.tabs.label,{htmlFor:l},t("Pages_SEO_Tab_Title"))),m.createElement(_.tabs.content,{className:"page-settings-panel-pp-content"},m.createElement(_.tabs.tab,{name:i,className:"wixapps-subpage"},m.createElement(P.CustomScroll,{},n?m.createElement(d,u.assign({},{key:"page-settings-tab-page-blog"},this.props)):null,p?m.createElement(h,u.assign({},{key:"page-settings-tab-page-tpa-product"},this.props)):null,g?m.createElement(T,u.assign({},{key:"page-settings-tab-page-tpa-cart"},this.props)):null,c?m.createElement(v,u.assign({},{key:"page-settings-tab-page-tpa-thank-you"},this.props)):null)),m.createElement(_.tabs.tab,{name:o},m.createElement(y,{menuItem:this.props.menuItem})),m.createElement(_.tabs.tab,{name:r},m.createElement(D,{pageData:e})),function(e,t,a,n,s,i,o,r,l,p,g,c){var u=this.getSiteName(),d=I.getPublicUrl(a,e);return m.createElement(_.tabs.tab,{name:l,className:"wixapps-subpage"},m.createElement(P.CustomScroll,{},n?m.createElement(S,{key:"page-settings-tab-seo-blog-single-post",siteName:u,publicUrl:d,menuItem:this.props.menuItem}):null,p?m.createElement(b,{key:"page-settings-tab-seo-tpa-product",siteName:u,publicUrl:d}):null,c?m.createElement(E,{key:"page-settings-tab-seo-tpa-thank-you"}):null,g?m.createElement(f,{key:"page-settings-tab-seo-tpa-cart"}):null))}.apply(this,[e,t,a,n,s,i,o,r,l,p,g,c]),"--\x3e\r\n        "))}return function(){var e=this.props.menuItem.pageData,t=o.translate,a=this.getEditorAPI(),n=r.utils.blogTypeUtils.isBlog(this.getEditorAPI(),this.props.menuItem.pageData),s=r.utils.wixStoreTypeUtils;return m.createElement("div",{},i.apply(this,[e,t,a,n,s]))}.apply(this,[])}}),define("pageSettingsPanel/settings/pageSettingsPanelTabsSubpage",["create-react-class","prop-types","core","pageSettingsPanel/settings/pageSettingsPanelTabsSubpage.rt"],function(e,t,a,n){"use strict";return e({displayName:"pageSettingsPanelTabsSubpageNew",mixins:[a.mixins.editorAPIMixin],propTypes:{menuItem:t.object.isRequired,actions:t.object,selectedTabType:t.string,setActiveTabType:t.func.isRequired},render:n,getSiteName:function(){var e=this.getEditorAPI();return e.dsRead.seo.title.get()||e.siteName.get()}})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage.rt",["react","lodash","baseUI","santa-editor-symbols","util","pageSettingsPanel/settings/pageSettingsPanelTabsSubpage","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon"],function(e,t,a,n,s,i,o){"use strict";return function(){return function(){return this.props.actions,s.translate,e.createElement(o,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},e.createElement(i,t.assign({},{setActiveTabType:this.setActiveTabTypeAndSendBI,selectedTabType:this.state.activeTabType,ref:"pageSettingsPanelTabs"},this.props)))}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage",["react","util","prop-types","lodash","constants","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpageMapper","coreBi","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage.rt"],function(t,e,a,n,s,i,o,r,l){"use strict";var p=e.hoc,g=p.connect,c=p.STORES.EDITOR_API,u=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={activeTabType:e.activeTabType&&n.includes(n.values(s.PAGE_SETTINGS_TABS),e.activeTabType)?e.activeTabType:s.PAGE_SETTINGS_TABS.PAGE_INFO},t.setActiveTabTypeAndSendBI=function(e){t.setState({activeTabType:e}),t.getEditorAPI().bi.event(r.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},t.getHelpId=function(){return i.STATIC_PAGES_HELP_IDS[t.state.activeTabType]},t}return _inherits(a,t.Component),_createClass(a,[{key:"render",value:function(){return l.call(this)}}]),a}();u.displayName="pageSettingsDesktopSubpageNew",u.propTypes={sendBi:a.func.isRequired,menuItem:a.object.isRequired,actions:a.object,closeSettingsPanel:a.func.isRequired};var d=g(c,void 0,o.mapDispatchToProps)(u);return d.pure=u,d}),define("pageSettingsPanel",["pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop","pageSettingsPanel/panels/settings/desktop/signupSettingsDesktop","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage"],function(e,t,a){"use strict";return{settingsPanels:{main:e,signup:t,tpaSubPage:a}}});
//# sourceMappingURL=pageSettingsPanel.min.js.map