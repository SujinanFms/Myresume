var _createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}define("panels/panelManager/panelManager",["lodash","stateManagement"],function(n,s){"use strict";return{create:function(a){return{openPanel:function(e,t,n){a.dispatch(s.editorPlugins.panels.actions.updateOrOpenPanel(e,t,n))},openComponentPanel:function(e,t){a.dispatch(s.editorPlugins.panels.actions.openComponentPanel(e,t))},replaceComponentPanel:function(e,t){a.dispatch(s.editorPlugins.panels.actions.openComponentPanel(e,n.assign({},t,{useLastPanelPosition:!0})))},closePanelByName:function(e,t){a.dispatch(s.editorPlugins.panels.actions.closePanelByName(e,t))},closeAllPanels:function(){a.dispatch(s.editorPlugins.panels.actions.closeOpenedPanels())},getOpenPanels:function(){return s.editorPlugins.panels.selectors.selectOpenPanels(a.getState())},registerPanelType:function(e,t,n){a.dispatch(s.editorPlugins.panels.actions.setPanelType(e,t,n))},getPanelsOfType:function(e){var t=s.editorPlugins.panels.selectors.selectOpenPanels(a.getState());return n.filter(t,{frameType:e})},closeAllPanelsOfType:function(e){a.dispatch(s.editorPlugins.panels.actions.closeAllPanelsOfType(e))},openHelpCenter:function(e,t,n){a.dispatch(s.editorPlugins.panels.actions.openHelpCenter(e,t,n))},closeHelpCenter:function(){a.dispatch(s.editorPlugins.helpPanel.actions.closeHelpCenter())},notifyMouseDown:function(){a.dispatch(s.editorPlugins.panels.actions.stageMouseDown())},openPlatformPanel:function(e){a.dispatch(s.editorPlugins.panels.actions.openPlatformPanel(e))},openFirstTimePanel:function(e){a.dispatch(s.editorPlugins.panels.actions.openFirstTimePanel(e))},updatePanelProps:function(e,t){a.dispatch(s.editorPlugins.panels.actions.updatePanel(e,t))},findPlatformPanelByType:function(e){var t=s.editorPlugins.panels.selectors.selectOpenPanels(a.getState());return n.some(t,["props.type",e])}}}}}),define("panels/frames/leftPanelFrame.rt",["react","lodash","santa-editor-symbols","baseUILib"],function(e,t,n,a){"use strict";return function(){return e.createElement("div",{className:"left-panel-frame panel-index-"+this.props.panelIndex+" "+this.props.panelClass+(0===this.props.panelIndex?" first-panel":""),style:this.getFrameStyle(),onWheel:this.props.blockOuterScroll,onContextMenu:function(e){this.props.onContextMenu&&this.props.onContextMenu(e)}.bind(this)},this.props.label?e.createElement(a.PanelHeader,{key:"header",className:"light",onClose:this.props.close,onHelp:this.props.openHelpCenter,noHelpBtn:!this.props.helpId&&!this.props.onHelpClicked},e.createElement("span",{},this.props.label)):null,e.createElement("div",{id:this.props.id,className:"left-panel-frame-content "+(this.props.className||"")},this.props.children))}}),define("panels/frames/leftPanelFrame",["create-react-class","lodash","prop-types","core","constants","stateManagement","panels/frames/leftPanelFrame.rt"],function(e,n,t,a,s,i,o){"use strict";var l=e({displayName:s.PANEL_TYPES.LEFT,mixins:[a.mixins.editorAPIMixin],PropTypes:{panelClass:t.string.isRequired,panelIndex:t.number.isRequired,label:t.string,onClose:function(e,t){if(e.title&&"function"!=typeof e[t])return new Error("onClose prop must be of type a function")},styleOverride:t.object,openPanelBiEvent:t.object,openPanelBiParams:t.object},getFrameStyle:function(){return this.props.styleOverride},componentWillMount:function(){var e=this.getEditorAPI().panelManager,t=n.filter(e.getOpenPanels(),{frameType:s.PANEL_TYPES.LEFT});1<n.size(t)&&e.closePanelByName(n.head(t).name)},render:o}),r=i.editorPlugins.panels.hoc.panelFrame(s.PANEL_TYPES.LEFT)(l);return r.pure=l,r}),define("panels/mixins/disableKeyboardShortcutsMixin",["lodash","util"],function(e,t){"use strict";var n=t.keyboardShortcuts,a=0,s=[];return{componentWillMount:function(){var e=!1;n.isEnabled()||(n.enable(),e=!0),s.push(n.getContext()),this.dynamicKeyboardContext=n.CONTEXTS.MODAL_PANEL+"_"+a++,n.registerContext(this.dynamicKeyboardContext,this.getPanelShortcuts()),n.setContext(this.dynamicKeyboardContext),e&&n.disable()},componentWillUnmount:function(){var e=!1;n.isEnabled()||(n.enable(),e=!0),n.unregisterContext(this.dynamicKeyboardContext);var t=s.pop();t!==this.dynamicKeyboardContext&&n.setContext(t),e&&n.disable()},getPanelShortcuts:function(){return this.props.keyboardShortcuts?this.props.shouldExtendDefaultShortcuts?e.assign(this.getDefaultShortcuts(),this.props.keyboardShortcuts):this.props.keyboardShortcuts:this.getDefaultShortcuts()},getDefaultShortcuts:function(){return{esc:this.props.isBareMode?e.noop:this.onCancel||this.onEscape||this.close||this.props.close}}}}),define("panels/frames/panelCloseOrigin",[],function(){"use strict";return{HEADER_CLOSE_BUTTON:"header_close_button",CLICK_OUTSIDE:"click_outside",ESCAPE_PRESS:"escape_press",DONE_BUTTON:"done_button",CONFIRM_BUTTON:"confirm_button"}}),define("panels/frames/messagePanelFrame.rt",["react","lodash","baseUI","santa-editor-symbols","baseUILib","panels/frames/panelCloseOrigin"],function(a,s,i,e,o,l){"use strict";return function(){return a.createElement("div",{className:"panel-frame-container screen-centered-frame message-panel-frame-z-index"},a.createElement("div",{className:"dark-frame-overlay"}),a.createElement("div",(e={className:"message-panel-frame"},t=this.getPanelProps(),n=s.assign({},e,t),e.hasOwnProperty("style")&&(n.style=s.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n),a.createElement(o.PanelHeader,{className:"dark",onClose:this.onCancel(l.HEADER_CLOSE_BUTTON),noHelpBtn:!0},this.props.panelTitle?a.createElement("span",{key:"headerTitle"},this.props.panelTitle):null),a.createElement("div",{className:"content"},this.props.children),a.createElement("div",{className:"panel-footer"},this.props.footerText?a.createElement("div",{key:"footerText",className:"footer-text"},this.props.footerText):null,this.props.dontShowAgainKey&&this.props.userPrefType?a.createElement(o.Checkbox,{key:"dont-show-again-toggle",labelAfterSymbol:!0,className:"dont-show-again",label:"Notification_Box_Dont_Show_Again",value:this.props.dontShowAgain,onChange:this.onDontShowAgainChange}):null,this.props.cancelLabel?a.createElement(i.button,{key:"btn-confirm-secondary",className:"btn-confirm-secondary",onClick:this.onCancel(l.DONE_BUTTON),label:this.props.cancelLabel}):null,a.createElement(i.button,{className:"btn-confirm-primary",onClick:this.onConfirm,label:this.props.confirmLabel}))));var e,t,n}}),define("panels/frames/messagePanelFrame",["create-react-class","lodash","prop-types","util","constants","higherOrderComponents","panels/mixins/disableKeyboardShortcutsMixin","panels/frames/panelCloseOrigin","stateManagement","panels/frames/messagePanelFrame.rt"],function(e,t,n,a,s,i,o,l,r,c){"use strict";var p=e({displayName:s.PANEL_TYPES.MESSAGE,mixins:[a.propTypesFilterMixin,o],propTypes:{panelName:n.string.isRequired,panelTitle:n.string,width:n.string,height:n.string,onConfirm:n.func,confirmLabel:n.string,keyboardShortcuts:n.object,shouldExtendDefaultShortcuts:n.bool,dontShowAgain:n.bool,toggleDontShowAgain:n.func.isRequired,showCancelBtn:n.bool,cancelLabel:n.string,onCancel:n.func,close:n.func,type:n.string,footerText:n.object},getInitialState:function(){return{buttonWasClicked:!1}},getDefaultProps:function(){return{confirmLabel:"messagePanelFrame_Confirm"}},getPanelProps:function(){return{style:{width:this.props.width,height:this.props.height},className:this.props.className}},_closeAndCall:function(e,t){this.state.buttonWasClicked||(this.setState({buttonWasClicked:!0}),this.props.close(t),e&&e())},onConfirm:function(){this._closeAndCall(this.props.onConfirm,l.CONFIRM_BUTTON)},onCancel:function(e){var t=this;return function(){return t._closeAndCall(t.props.onCancel,e)}},onDontShowAgainChange:function(e){this.props.onDontShowAgainChange(e),this.props.toggleDontShowAgain(e)},render:c}),u=i.linkUserPreferences()(r.editorPlugins.panels.hoc.panelFrame(s.PANEL_TYPES.MESSAGE)(p));return u.pure=p,u}),define("panels/frames/toolPanelFrame.rt",["react","lodash","baseUI","santa-editor-symbols","baseUILib"],function(e,t,n,a,s){"use strict";return function(){return e.createElement("div",{className:"panel-frame-container tool-panel-frame-container tool-panel-frame-z-index"+(this.props.isBlockingLayerFullScreen?" full-screen":"")+" "+(this.props.className||""),onWheel:this.blockOuterScrollIfNecessary,"data-aid":this.props.automationId,style:this.props.style},e.createElement("div",{className:"transparent-frame-overlay",onClick:this.onOverlayClick,ref:"closeButton"}),e.createElement("div",t.assign({},{ref:this.setContentWrapper},this.getContentWrapperProps()),this.props.headerTitle?e.createElement(s.PanelHeader,{ref:"header",key:"toolFrameHeader",onMouseDown:this.startContentDrag,className:"dragger "+(this.props.lightHeader?"light":"dark"),onClose:this.closePanel,onHelp:this.props.openHelpCenter,noHelpBtn:!this.props.helpId},this.props.headerTitle?e.createElement("span",{key:"headerTitle"},this.props.headerTitle):null):null,this.props.useScroll?e.createElement(s.CustomScroll,{key:"scrolled-content",heightRelativeToParent:"100%",keepAtBottom:!0},e.createElement("div",{className:"scrolled-content "+this.getContentClass()},this.renderChildren())):null,this.props.useScroll?null:e.createElement("div",{key:"content",className:this.getContentClass()},this.renderChildren())))}}),define("panels/frames/toolPanelFrame",["react","create-react-class","prop-types","lodash","reactDOM","constants","util","santa-editor-utils","baseUILib","zepto","stateManagement","panels/mixins/disableKeyboardShortcutsMixin","panels/frames/toolPanelFrame.rt","panels/frames/panelCloseOrigin"],function(e,t,n,c,p,a,i,s,o,u,l,r,d,m){"use strict";var h=s.hoc.measuring;function g(e,t){if(/%$/.test(e)){var n=parseInt(e,10);return parseInt(t*(n/100),10)||0}return parseInt(e,10)||0}var f=t({displayName:a.PANEL_TYPES.TOOL,propTypes:{panelName:n.string.isRequired,selectedComponentType:n.string,headerTitle:n.string,width:n.string,height:n.string,helpId:n.string,top:n.oneOfType([n.string,n.number]),left:n.oneOfType([n.string,n.number]),isBlockingLayerFullScreen:n.bool,shouldBlockOuterScroll:n.bool,lightHeader:n.bool,contentClass:n.string,contentWrapperClass:n.string,onClose:n.func,openHelpCenter:n.func,contentStyle:n.object,style:n.object,close:n.func,onContentElementReady:n.func,reportMeasurements:n.func.isRequired,measurements:n.shape({contentHeight:n.number,contentWidth:n.number,stageLayout:n.object,editorContentLayout:n.object,initialPos:n.shape({top:n.number,left:n.number})}),automationId:n.string,className:n.string,stageLayout:n.object,editorContentLayout:n.object,renderContent:n.func,children:n.oneOfType([n.array,n.object]),useScroll:n.bool},mixins:[i.draggableMixin,r],componentDidMount:function(){this.props.onContentElementReady&&this.contentWrapper&&this.props.onContentElementReady(this.contentWrapper),this.measureContentElement()},componentDidUpdate:function(){this.measureContentElement()},measureContentElement:function(){var e=u(p.findDOMNode(this.getContentWrapperElement())),t=this.props.stageLayout,n=this.props.editorContentLayout,a=e.height()||0,s=e.width()||0,i={contentHeight:a,contentWidth:s,contentOffset:e.offset()||0,stageLayout:t,editorContentLayout:n},o=g(e.css("top"),t.height+t.top),l=g(e.css("left"),t.width+t.left),r=this.calcInitialContentPos(o,l,t,s,a,n);this.props.reportMeasurements(c.defaults({initialPos:r},i))},calcInitialContentPos:function(e,t,n,a,s,i){var o=(u(window).scrollTop()||0)+(i.bottom-s),l=n.right-a;return{top:Math.min(e,o),left:Math.min(Math.max(t,0),l)}},getContentWrapperProps:function(){return{style:this.getContentWrapperStyle(),className:"tool-panel-frame "+(c.isEmpty(this.props.measurements)?"hidden":"")+" "+this.props.contentWrapperClass}},getContentWrapperStyle:function(){return!this.state.isCustomPosition&&c.get(this.props,"measurements.initialPos")?c.defaults({},this.props.measurements.initialPos,this.props.contentStyle):this.props.contentStyle},getDragLimits:function(){if(c.isEmpty(this.props.measurements))return{x:[],y:[]};var e=this.props.measurements,t=e.stageLayout,n=e.contentHeight,a=e.contentWidth,s=e.editorContentLayout;return i.panelUtils.getPanelDragLimits(n,a,t,s)},getContentClass:function(){return"content "+(this.props.contentClass||"")},getContentWrapperElement:function(){return this.contentWrapper},setContentWrapper:function(e){this.contentWrapper=e},renderDefaultHeader:function(){var t=this;return e.createElement(o.PanelHeader,{ref:"header",key:"toolFrameHeader",onMouseDown:function(e){return t.startDrag(e,t.getDragLimits(),t.contentWrapper)},className:"dragger "+(this.props.lightHeader?"light":"dark"),onClose:this.closePanel,onHelp:this.props.openHelpCenter,noHelpBtn:!this.props.helpId},e.createElement("span",null,this.props.headerTitle))},blockOuterScrollIfNecessary:function(){this.props.shouldBlockOuterScroll&&this.blockOuterScroll.apply(this,arguments)},closePanel:function(e){this.props.onClose&&this.props.onClose(e),this.props.close()},onOverlayClick:function(){this.closePanel(m.CLICK_OUTSIDE)},onEscape:function(){this.closePanel(m.ESCAPE_PRESS)},startContentDrag:function(e){return this.startDrag(e,this.getDragLimits(this.contentWrapper),this.contentWrapper)},renderChildren:function(){return c.isFunction(this.props.renderContent)?this.props.renderContent(this.startContentDrag):this.props.children},render:d});return c.flowRight(l.editorPlugins.panels.hoc.panelFrame(a.PANEL_TYPES.TOOL),h)(f)}),define("panels/frames/focusPanelFrame.rt",["react","lodash","santa-editor-symbols","util","baseUILib"],function(e,t,n,a,s){"use strict";return function(){return e.createElement("div",{className:"panel-frame-container screen-centered-frame focus-panel-frame-z-index "+(this.props.frameClassName||""),onWheel:this.props.blockOuterScroll,onContextMenu:function(e){this.props.onContextMenu&&this.props.onContextMenu(e)}.bind(this),"data-aid":this.props.automationId},e.createElement("div",{className:this.getClassName("focus-panel-frame"),style:this.getWidthHeight()},this.shouldHideHeader()?null:e.createElement(s.PanelHeader,{className:this.getHeaderClassName()+" dark",key:"header",onClose:this.onXButtonClick,onHelp:this.props.openHelpCenter,noHelpBtn:this.props.shouldHideHelp},e.createElement("span",{},this.props.title)),e.createElement("div",{className:this.props.title?"focus-panel-frame-content":"focus-panel-frame-content-no-header",style:{backgroundColor:this.props.containerBackground}},this.props.children)),e.createElement("div",{className:"dark-frame-overlay",onClick:this.handleBlur,style:{backgroundColor:this.props.overlayBackground}}))}}),define("panels/frames/focusPanelFrame",["create-react-class","prop-types","lodash","constants","util","panels/mixins/disableKeyboardShortcutsMixin","stateManagement","panels/frames/focusPanelFrame.rt"],function(e,t,n,a,s,i,o,l){"use strict";var r="out_of_focus",c="x_button";function p(e){var t=Number(e);return t==e?t:e}var u=e({mixins:[i],displayName:a.PANEL_TYPES.FOCUS,propTypes:{automationId:t.string,blockOuterScroll:t.func.isRequired,close:t.func.isRequired,openHelpCenter:t.func.isRequired,panelName:t.string.isRequired,width:t.string,height:t.string,title:t.string,headerClassName:t.string,frameClassName:t.string,shouldHideHeader:t.bool,shouldHideHelp:t.bool,shouldNotCloseOnBlur:t.bool,keyboardShortcuts:t.object,shouldExtendDefaultShortcuts:t.bool},getHeaderClassName:function(){return this.props.headerClassName||"panel-header"},getFrameProps:function(){return{style:{width:this.props.width,height:this.props.height}}},shouldHideHeader:function(){return this.props.shouldHideHeader},shouldCloseFrame:function(e){return!this.props.onClose||!0===this.props.onClose(e)},onXButtonClick:function(){this.closeFrameIfNeeded(c)},closeFrameIfNeeded:function(e){this.shouldCloseFrame(e)&&this.props.close()},handleBlur:function(){this.props.shouldNotCloseOnBlur||this.closeFrameIfNeeded(r)},getClassName:function(e){return s.inheritClassName(this.props,e)},getWidthHeight:function(){var e={};return this.props.width&&(e.width=p(this.props.width)),this.props.height&&(e.height=p(this.props.height)),e},render:l}),d=o.editorPlugins.panels.hoc.panelFrame(a.PANEL_TYPES.FOCUS)(u);return d.pure=u,d}),define("panels/frames/helpPanelFrame.rt",["react","lodash","santa-editor-symbols","baseUI","baseUILib"],function(e,t,n,a,s){"use strict";return function(){return e.createElement("div",{className:"help-panel-frame"},e.createElement(s.PanelHeader,{ref:"header",onMouseDown:function(e){this.startDrag(e,this.getDragLimits())}.bind(this),className:"dragger dark help-panel-frame-drag-handle",onClose:this.closeHelpCenter,noHelpBtn:!0}),e.createElement("iframe",{id:this.props.id,className:this.props.className||"",src:this.getIframeSrc(),ref:"helpIframe"}),e.createElement(a.preloader,{className:t({hidden:!this.state.showLoader}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")}))}}),define("panels/frames/helpPanelFrame",["lodash","reactDOM","create-react-class","prop-types","util","core","constants","panels/frames/helpPanelFrame.rt","helpIds","experiment","stateManagement"],function(s,e,t,n,i,a,o,l,r,c,p){"use strict";var u=p.domMeasurements.selectors.getViewPort;var d=t({displayName:o.PANEL_TYPES.HELP,mixins:[i.draggableMixin,a.mixins.editorAPIMixin],PropTypes:{helpUrl:n.string.isRequired,closePanelBiEvent:n.object,closePanelBiParams:n.object,openPanelBiEvent:n.object,openPanelBiParams:n.object,isMobileEditor:n.bool},getInitialState:function(){return{showLoader:!0}},getUrlPrefix:function(){return"https://support.wix.com/"+i.languages.getLanguageCode()+"/widget/"+r.HELP_CENTER.HELP_WIDGET_ID+"/article/"},componentDidMount:function(){this.props.openPanelBiEvent&&this.props.openPanelBiParams&&this.getEditorAPI().bi.event(this.props.openPanelBiEvent,this.props.openPanelBiParams),e.findDOMNode(this.refs.helpIframe).addEventListener("load",this.hideLoader)},componentWillReceiveProps:function(e){e.isMobileEditor!==this.props.isMobileEditor&&this.closeHelpCenter()},getDragLimits:function(){var e=this.getEditorAPI(),t=u(e.store.getState());return{y:[t&&t.minY||e.editorConfig.topBarHeight]}},componentWillUnmount:function(){this.props.closePanelBiEvent&&this.props.closePanelBiParams&&this.getEditorAPI().bi.event(this.props.closePanelBiEvent,this.props.closePanelBiParams)},closeHelpCenter:function(){this.getEditorAPI().panelManager.closeHelpCenter()},onCancel:function(){this.closeHelpCenter()},hideLoader:function(){this.setState({showLoader:!1})},getIframeSrc:function(){if(c.isOpen("se_wixAnswersIntegration"))return e=this.props.helpUrl,t=i.languages.getLanguageCode(),"https://wix.wixanswers.com/apps/widget/v1/wix/"+r.HELP_CENTER.NEW_HELP_WIDGET_ID+"/view/"+t+"/article/"+e;var e,t,n=s.assign({panel_name:"",origin:"",editor_working_mode:this.getEditorAPI().viewMode.get()},this.props.biHelpParams),a=s.template("&origin=<%= origin %>&panel_name=<%= panel_name %>&editor_working_mode=<%= editor_working_mode %>")(n);return this.getUrlPrefix()+this.props.helpUrl+a},render:l}),m=p.editorPlugins.panels.hoc.panelFrame(o.PANEL_TYPES.HELP)(d);return m.pure=d,m}),define("panels/frames/confirmationPanelFrame.rt",["react","lodash","baseUI","santa-editor-symbols","baseUILib"],function(a,s,i,e,o){"use strict";return function(){return a.createElement("div",{className:"panel-frame-container screen-centered-frame confirmation-panel-frame-z-index"},a.createElement("div",(e={className:"confirmation-panel-frame "+this.props.type+"-confirmation"},t=this.getPanelProps(),n=s.assign({},e,t),e.hasOwnProperty("style")&&(n.style=s.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n),this.shouldHideHeader()?null:a.createElement(o.PanelHeader,{className:"dark",key:"header",onClose:this.onClose,noHelpBtn:!0},this.props.panelTitle?a.createElement("span",{key:"headerTitle"},this.props.panelTitle):null),a.createElement("div",{className:"content"},this.props.children),this.props.shouldHideFooter?null:a.createElement("footer",{key:"footer"},this.props.shouldHideCancelButton?null:a.createElement(i.button,{key:"cancelButton",className:this.getSecondaryButtonClass(),onClick:this.onCancel,label:this.props.cancelLabel}),a.createElement(i.button,{className:this.getConfirmButtonClass(),onClick:this.onConfirm,label:this.props.confirmLabel}))),a.createElement("div",{className:"dark-frame-overlay"}));var e,t,n}}),define("panels/frames/confirmationPanelFrame",["create-react-class","prop-types","lodash","util","constants","panels/mixins/disableKeyboardShortcutsMixin","stateManagement","panels/frames/confirmationPanelFrame.rt"],function(e,t,n,a,s,i,o,l){"use strict";var r=e({displayName:s.PANEL_TYPES.CONFIRMATION,mixins:[a.propTypesFilterMixin,i],propTypes:{panelName:t.string.isRequired,panelTitle:t.string,width:t.string,height:t.string,onConfirm:t.func,shouldCloseByDefaultOnConfirm:t.bool,onCancel:t.func,onClose:t.func,confirmLabel:t.string,cancelLabel:t.string,shouldHideHeader:t.bool,shouldHideFooter:t.bool,shouldHideCancelButton:t.bool,type:t.oneOf(["important","normal"])},getDefaultProps:function(){return{type:"normal",confirmLabel:"confirmationPanelFrame_Confirm",cancelLabel:"confirmationPanelFrame_Cancel",shouldCloseByDefaultOnConfirm:!0}},getPanelProps:function(){return{style:{width:this.props.width,height:this.props.height},className:this.props.className}},onConfirm:function(){this.props.shouldCloseByDefaultOnConfirm&&this.props.close(),this.props.onConfirm&&this.props.onConfirm()},onCancel:function(){this.props.close(),this.props.onCancel&&this.props.onCancel()},onClose:function(){this.props.onClose?(this.props.close(),this.props.onClose()):this.onCancel()},getConfirmLabel:function(){return this.props.confirmLabel},getCancelLabel:function(){return this.props.cancelLabel},getConfirmButtonClass:function(){return("important"===this.props.type?"btn-danger-primary":"btn-confirm-primary")+" btn-md"},getSecondaryButtonClass:function(){return("important"===this.props.type?"btn-danger-secondary":"btn-confirm-secondary")+" btn-md"},shouldHideHeader:function(){return this.props.shouldHideHeader},shouldHideFooter:function(){return this.props.shouldHideFooter},render:l}),c=o.editorPlugins.panels.hoc.panelFrame(s.PANEL_TYPES.CONFIRMATION)(r);return c.pure=r,c}),define("panels/frames/bgSubPanelFrame.rt",["react","lodash","baseUI","santa-editor-symbols","util","baseUILib"],function(a,s,e,t,i,o){"use strict";return function(){return a.createElement("div",(e={className:"background-sub-panel-frame"},t=this.getPanelProps(),n=s.assign({},e,t),e.hasOwnProperty("style")&&(n.style=s.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n),this.props.label?a.createElement(o.PanelHeader,{ref:"header",key:"header",onMouseDown:function(e){this.startDrag(e,this.props.getPanelDragLimits())}.bind(this),className:"dragger dark",onClose:this.props.close,onHelp:this.props.openHelpCenter},this.props.label?a.createElement("span",{key:"label"},i.translate(this.props.label)):null):null,a.createElement("div",{className:"content"+(this.props.contentClass?" "+this.props.contentClass:"")},this.props.children));var e,t,n}}),define("panels/frames/bgSubPanelFrame",["create-react-class","lodash","prop-types","constants","util","stateManagement","panels/frames/bgSubPanelFrame.rt"],function(e,n,t,a,s,i,o){"use strict";var l=i.editorPlugins.panels.hoc,r=l.panelDragLimits,c=l.panelFrame,p=e({displayName:a.PANEL_TYPES.BG_SUB_PANEL,mixins:[s.draggableMixin],propTypes:{panelName:t.string.isRequired,title:t.string,width:t.number,height:t.number,top:t.number,left:t.number,getPanelDragLimits:t.func.isRequired,contentClass:t.string},getPanelProps:function(){var t={};n.forEach(["width","height","top","left"],n.bind(function(e){this.props[e]&&(t[e]=this.props[e])},this));var e=this.props.className;return{style:t,className:e}},render:o}),u=n.flow(c(a.PANEL_TYPES.BG_SUB_PANEL),r())(p);return u.pure=p,u}),define("panels/frames/backgroundPanelFrame.rt",["react","lodash","santa-editor-symbols","baseUILib"],function(e,t,n,a){"use strict";return function(){return e.createElement("div",{className:"background-panel-frame"},this.props.label?e.createElement(a.PanelHeader,{key:"header",className:"dragger dark",onMouseDown:function(e){this.startDrag(e,this.props.getPanelDragLimits())}.bind(this),onClose:this.props.close,onHelp:this.props.openHelpCenter,noHelpBtn:!this.props.helpId&&!this.props.onHelpClicked},e.createElement("span",{},this.props.label)):null,e.createElement("div",{id:this.props.id,className:this.props.className||""},this.props.children))}}),define("panels/frames/backgroundPanelFrame",["create-react-class","lodash","prop-types","stateManagement","constants","util","panels/frames/backgroundPanelFrame.rt"],function(e,t,n,a,s,i,o){"use strict";var l=a.editorPlugins.panels.hoc,r=l.panelFrame,c=l.panelDragLimits,p=e({displayName:s.PANEL_TYPES.BG_PANEL,mixins:[i.draggableMixin],PropTypes:{label:n.string,onClose:function(e,t){if(e.title&&"function"!=typeof e[t])return new Error("onClose prop must be of type a function")},openPanelBiEvent:n.object,getPanelDragLimits:n.func.isRequired,openPanelBiParams:n.object},render:o}),u=t.flow(r(s.PANEL_TYPES.BG_PANEL),c())(p);return u.pure=p,u}),define("panels/frames/tpaSettingsPanelFrame.rt",["react","lodash","santa-editor-symbols","baseUI","baseUILib"],function(a,s,e,t,i){"use strict";return function(){return a.createElement("div",(e={className:"tpa-settings-panel-frame"},t=this.getPanelProps(),n=s.assign({},e,t),e.hasOwnProperty("style")&&(n.style=s.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n),a.createElement(i.PanelHeader,{className:"dragger dark",onMouseDown:function(e){this.startDrag(e,this.props.getPanelDragLimits())}.bind(this),onHelp:this.props.openHelpCenter,onClose:this.props.close},a.createElement("span",{},this.props.title)),this.props.shouldAddScroll?a.createElement(i.CustomScroll,{key:"scroll"},a.createElement("div",{className:"content",style:this.getContentStyle()},this.props.children)):null,this.props.shouldAddScroll?null:a.createElement("div",{key:"noScroll",className:"content",style:this.getContentStyle()},this.props.children));var e,t,n}}),define("panels/frames/tpaSettingsPanelFrame",["lodash","create-react-class","prop-types","core","util","constants","stateManagement","panels/frames/tpaSettingsPanelFrame.rt"],function(a,e,t,n,s,i,o,l){"use strict";var r=o.editorPlugins.panels.hoc,c=r.panelDragLimits,p=r.panelFrame,u=["width","top","left"],d=e({displayName:i.PANEL_TYPES.TPA_SETTINGS,mixins:[s.draggableMixin,n.mixins.editorAPIMixin],propTypes:{panelName:t.string.isRequired,title:t.string.isRequired,width:t.number,height:t.number,top:t.string,left:t.string,onHelpClicked:t.func,getPanelDragLimits:t.func.isRequired,shouldAddScroll:t.bool.isRequired},getInitialState:function(){return{showHelp:!1}},getPanelProps:function(){var t=this,e=a.filter(u,function(e){return t.props[e]}),n=a.pick(this.props,e);return a.defaults({style:n},a.pick(this.props,["className","style"]))},toggleHelp:function(){var e=!this.state.showHelp;this.setState({showHelp:e})},getContentStyle:function(){return{height:a.isNumber(this.props.height)?this.props.height+"px":"100%"}},render:l});return a.flow(p(i.PANEL_TYPES.TPA_SETTINGS),c())(d)}),define("panels/frames/dangerMessagePanelFrame.rt",["react","lodash","baseUI","santa-editor-symbols","baseUILib","panels/frames/panelCloseOrigin"],function(t,e,n,a,s,i){"use strict";return function(){var e=this;return t.createElement("div",{className:"panel-frame-container screen-centered-frame general-panel-frame-z-index"},t.createElement(s.Composites.PopupSmallSize,{className:this.getClasses()},t.createElement(s.PanelHeader,{noHelpBtn:!this.props.onHelpHeader,onHelp:this.props.onHelpHeader,onClose:function(){this.close(i.HEADER_CLOSE_BUTTON)}.bind(this)},t.createElement(s.TextLabel,{type:"T11",value:this.props.title})),t.createElement(s.Composites.PanelContent,{},t.createElement(s.Composites.RichTextWithIllustration,{},t.createElement(s.Illustration,{},t.createElement(a.symbol,{name:this.props.iconName})),this.props.contentLabel?t.createElement(s.Composites.RichTextLabeled,{key:"danger-message-content-labeled"},t.createElement(s.TextLabel,{type:"T11",value:this.props.contentLabel}),t.createElement(s.RichText,{type:"T11"},this.props.children)):null,this.props.contentLabel?null:t.createElement(s.Composites.RichText,{key:"danger-message-content",automationId:"dangerMessagePanelMessage"},t.createElement(s.RichText,{type:"T11"},this.props.children)))),t.createElement(s.Composites.ActionSetHorizontal,{},this.props.cancelLabel?t.createElement(s.Button,{key:"cancelLabel",automationId:"cancelButton",disabled:this.props.disableCancel,className:"secondary",onClick:function(){return e.props.close(i.DONE_BUTTON)}},t.createElement(s.TextLabel,{automationId:"danger-message-secondary-button",type:"T11",value:this.props.cancelLabel})):null,t.createElement(s.Button,{className:"primary",automationId:"confirmButton",disabled:this.props.disableConfirm,onClick:function(){return e.closeAndCall(i.CONFIRM_BUTTON,!1,e.props.callWithoutClosing)}},t.createElement(s.TextLabel,{automationId:"danger-message-primary-button",type:"T11",value:this.props.confirmLabel})))),t.createElement("div",{className:"dark-frame-overlay"}))}}),define("panels/frames/dangerMessagePanelFrame",["create-react-class","lodash","prop-types","util","constants","panels/mixins/disableKeyboardShortcutsMixin","stateManagement","panels/frames/dangerMessagePanelFrame.rt"],function(e,t,n,a,s,i,o,l){"use strict";var r=e({displayName:s.PANEL_TYPES.DANGER,mixins:[a.propTypesFilterMixin,i],propsTypes:{panelName:n.string.isRequired,close:n.func.isRequired,onConfirm:n.func,title:n.string.isRequired,contentLabel:n.string,confirmLabel:n.string.isRequired,cancelLabel:n.string,iconName:n.string.isRequired,onHelpHeader:n.func.isRequired,closeWithoutCalling:n.bool,callWithoutClosing:n.bool,validationError:n.bool,disableConfirm:n.bool,disableCancel:n.bool},getDefaultProps:function(){return{disableConfirm:!1,disableCancel:!1}},close:function(e){this.closeAndCall(e,this.props.closeWithoutCalling)},closeAndCall:function(e,t,n){n||this.props.close(e),this.props.onConfirm&&!t&&this.props.onConfirm()},getClasses:function(){return this.props.validationError?"popup-small-size-danger danger validationErrorPanel":"popup-small-size-danger danger"},render:l}),c=o.editorPlugins.panels.hoc.panelFrame(s.PANEL_TYPES.DANGER)(r);return c.pure=r,c}),define("panels/frames/emptyPanelFrame.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",this.getHtmlProps(),e.createElement("div",{className:"content"},this.props.children))}}),define("panels/frames/emptyPanelFrame",["create-react-class","prop-types","lodash","constants","stateManagement","panels/frames/emptyPanelFrame.rt"],function(e,t,n,a,s,i){"use strict";var o=e({displayName:a.PANEL_TYPES.EMPTY,propTypes:{panelName:t.string.isRequired},getHtmlProps:function(){return n.pick(this.props,["style","className"])},render:i}),l=s.editorPlugins.panels.hoc.panelFrame(a.PANEL_TYPES.EMPTY)(o);return l.pure=o,l}),define("panels/frames/frames",["panels/frames/leftPanelFrame","panels/frames/messagePanelFrame","panels/frames/toolPanelFrame","panels/frames/focusPanelFrame","panels/frames/helpPanelFrame","panels/frames/confirmationPanelFrame","panels/frames/bgSubPanelFrame","panels/frames/backgroundPanelFrame","panels/frames/tpaSettingsPanelFrame","panels/frames/dangerMessagePanelFrame","panels/frames/emptyPanelFrame"],function(e,t,n,a,s,i,o,l,r,c,p){"use strict";return{leftPanelFrame:e,messagePanelFrame:t,toolPanelFrame:n,focusPanelFrame:a,helpPanelFrame:s,confirmationPanelFrame:i,bgSubPanelFrame:o,backgroundPanelFrame:l,tpaSettingsPanelFrame:r,dangerMessagePanelFrame:c,emptyPanelFrame:p}}),define("panels/mixins/statefulKeyboardContextMixin",["lodash","util"],function(e,t){"use strict";var n=t.keyboardShortcuts,a=0,s=[];return{componentWillMount:function(){s.push(n.getContext()),this.myKeyboardContextName=(this.keyboardShortcutsContextNamePrefix||"")+n.CONTEXTS.AUTOMATIC+"_"+a++,n.registerContext(this.myKeyboardContextName,this.getCustomKeyboardShortcuts()),n.setContext(this.myKeyboardContextName)},componentWillUnmount:function(){if(n.unregisterContext(this.myKeyboardContextName),this.myKeyboardContextName===n.getContext()){var e=s.pop();n.setContext(e)}s.splice(s.indexOf(this.myKeyboardContextName),1)},getCustomKeyboardShortcuts:function(){return this.getKeyboardShortcuts?this.getKeyboardShortcuts():this.getDefaultShortcuts()},getDefaultShortcuts:function(){return{}}}}),define("panels/mixins/reportBiEventOnUiChangeMixin",["prop-types","lodash","util","coreUtilsLib"],function(e,o,l,r){"use strict";var c="There is no BI event for the control [%s], in [%s] panel.\n\tDear developer, Please add the control mapping to core/bi/controlsToEvents and the event to core/bi/events.json .";function t(e,t,n){(function(e,t,n){var a=l.uiControlsBIUtil.getEventDefinition(e);if(a){var s=l.uiControlsBIUtil.getParams(e,n),i=o.merge({panel_name:this.constructor.displayName,control_name:t},s);this.getEditorAPI().selectedComponent.sendSelectedComponentBI(a,i)}else r.log.warn(c,e,this.constructor.displayName)}).call(this,e,t,n)}return{childContextTypes:{reportUIChange:e.func},componentDidMount:function(){if(!o.isFunction(this.getEditorAPI))throw new Error("You must use editorAPIMixin to use the reportBiEventOnUiChangeMixin")},getChildContext:function(){return{reportUIChange:t.bind(this)}}}}),define("panels/mixins/mixins",["panels/mixins/disableKeyboardShortcutsMixin","panels/mixins/statefulKeyboardContextMixin","panels/mixins/reportBiEventOnUiChangeMixin"],function(e,t,n){"use strict";return{disableKeyboardShortcutsMixin:e,statefulKeyboardContextMixin:t,reportBiEventOnUiChangeMixin:n}}),define("panels/helpPanels/helpPanel.rt",["react","lodash","panels/frames/helpPanelFrame"],function(e,t,n){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,helpUrl:this.props.helpUrl})}}),define("panels/helpPanels/helpPanel",["create-react-class","lodash","util","panels/helpPanels/helpPanel.rt"],function(e,t,n,a){"use strict";return e({displayName:"exampleHelpPanel",PropTypes:{helpUrl:function(e,t){if(!n.validate.url(e[t]))return new Error("helpUrl prop must be a string representing a valid url")}},render:a})}),define("panels/helpPanels/helpPanels",["panels/helpPanels/helpPanel"],function(e){"use strict";return{helpPanel:e}}),define("panels/errorPages/constants",[],function(){"use strict";return{404:{panelName:"404-errorPanel",title:"DYNAMIC_PAGES_404_ERROR_TITLE",symbol:"404_Error_message_illustration",errorBodyTop:"DYNAMIC_Pages_404_Error_Body_1",routerAddress:"https://www.wix.com/error-pages-samples/error404",errorBodyBottom:"DYNAMIC_Pages_404_Error_Body_2",btnViewErrorPage:"DYNAMIC_Pages_Error_View_Error_Page_Button",btnClose:"DYNAMIC_Pages_Error_Close_Button"},500:{panelName:"500-errorPanel",title:"DYNAMIC_PAGES_500_ERROR_TITLE",symbol:"500_Error_message_illustration",errorBodyTop:"DYNAMIC_Pages_500_Error_Body_1",routerAddress:"https://www.wix.com/error-pages-samples/error500",errorBodyBottom:"DYNAMIC_Pages_500_Error_Body_2",btnViewErrorPage:"DYNAMIC_Pages_Error_View_Error_Page_Button",btnClose:"DYNAMIC_Pages_Error_Close_Button"},403:{panelName:"403-errorPanel",title:"DYNAMIC_PAGES_403_ERROR_TITLE",symbol:"403_page_forbidden_message_illustration",errorBodyTop:"DYNAMIC_Pages_403_Error_Body_1",routerAddress:"https://www.wix.com/error-pages-samples/error403",errorBodyBottom:"DYNAMIC_Pages_403_Error_Body_2",btnViewErrorPage:"DYNAMIC_Pages_Error_View_Error_Page_Button",btnClose:"DYNAMIC_Pages_Error_Close_Button"},other:{panelName:"other-errorPanel",title:"DYNAMIC_PAGES_GENERAL_ERROR_TITLE",symbol:"general_error_message_illustration",errorBodyTop:"DYNAMIC_Pages_General_Error_Body_1",routerAddress:"https://www.wix.com/error-pages-samples/error",errorBodyBottom:"DYNAMIC_Pages_General_Error_Body_2",btnViewErrorPage:"DYNAMIC_Pages_Error_View_Error_Page_Button",btnClose:"DYNAMIC_Pages_Error_Close_Button"}}}),define("panels/errorPages/errorPanel.rt",["react","lodash","baseUI","santa-editor-symbols","util","baseUILib"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement("div",{className:"panel-frame-container screen-centered-frame error-page-panel-frame-z-index"},e.createElement("div",{className:"confirmation-panel-frame info-error-page error-page-panel"},e.createElement(i.PanelHeader,{className:"dark",key:"header",onClose:this.onClose,noHelpBtn:!0},e.createElement("span",{key:"headerTitle"},this.getConstants().title)),e.createElement("div",{className:"content-wrapper"},e.createElement("div",{className:"error-logo"},e.createElement(n.symbol,{name:this.getConstants().symbol})),e.createElement("div",{className:"description-wrapper"},e.createElement("span",{className:"description-line"},s.translate(this.getConstants().errorBodyTop)),e.createElement("br",{}),e.createElement("span",{className:"description-line"},e.createElement("b",{},this.props.routerAddress)),e.createElement("br",{}),e.createElement("span",{className:"description-line"},s.translate(this.getConstants().errorBodyBottom)))),e.createElement("footer",{},e.createElement(n.button,{key:"cancelButton",className:"btn-confirm-secondary  btn-md",onClick:this.openErrorPageInNewTab,label:this.getConstants().btnViewErrorPage}),e.createElement(n.button,{className:"btn-confirm-primary  btn-md",onClick:this.onClose,label:this.getConstants().btnClose}))),e.createElement("div",{className:"dark-frame-overlay"}))}}),define("panels/errorPages/errorPanel",["create-react-class","lodash","core","util","panels/errorPages/constants","panels/errorPages/errorPanel.rt"],function(e,t,n,a,s,i){"use strict";return e({displayName:"404_errorPopup",propTypes:{},mixins:[a.translationMixin,n.mixins.editorAPIMixin],openErrorPageInNewTab:function(){window.open(this.getConstants().routerAddress)},getConstants:function(){if(this.constants)return this.constants;var e=s[this.props.errorInfo.statusCode];return(e=t.clone(e)).title=e?a.translate(e.title):(e=s.other,a.translate(e.title).replace("{error_code}",this.props.errorInfo.statusCode)),this.constants=e},onClose:function(){this.getEditorAPI().panelManager.closePanelByName("panels.errorPages.errorPagePanel")},render:i})}),define("panels/errorPages/errorPagesPanels",["panels/errorPages/errorPanel"],function(e){"use strict";return{errorPagePanel:e}}),define("panels/focusPanels/welcomeVideoPanel.rt",["react","lodash","panels/frames/focusPanelFrame","util","santa-editor-symbols"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{ref:"frame",panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,isBareMode:!0,className:"welcome-screen-panel "+(this.props.className||""),onClose:this.handleShouldCloseOnBlur,keyboardShortcuts:this.getKeyboardShortcuts(),shouldNotCloseOnBlur:this.props.shouldNotCloseOnBlur},e.createElement("header",{className:"panel-header dark",key:"header"},e.createElement("button",{className:"close",onClick:function(){this.closeByX()}.bind(this)},e.createElement(s.symbol,{name:"headerCloseButton"})),e.createElement("div",{className:"welcome-panel-header-title"},this.props.title),e.createElement("div",{className:"welcome-panel-header-subtitle"},this.props.subtitle),e.createElement("div",{className:"videoInput-wrapper"},e.createElement("iframe",{src:this.props.linkedVideoData,frameBorder:"0",allowFullScreen:!0}),e.createElement("div",{className:"video-pixel-cover"}))),e.createElement("div",{className:"content "+this.getContentClass()},e.createElement("p",{},this.getContent("line1")," ",this.getContent("link")),e.createElement("p",{},this.getContent("line2"))),"\n    ",this.props.children,"\n\n")}}),define("panels/focusPanels/welcomeVideoPanel",["create-react-class","prop-types","lodash","core","util","coreBi","panels/focusPanels/welcomeVideoPanel.rt"],function(e,t,n,a,s,i,o){"use strict";var l=i;return e({displayName:"welcomeScreenPanel",mixins:[a.mixins.editorAPIMixin],propTypes:{title:t.string,subtitle:t.string,linkedVideoData:t.string,content:t.object,contentClass:t.string,className:t.string,panelName:t.string,onCloseByX:t.func,onCloseByESC:t.func},close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},closeByX:function(){n.isFunction(this.props.onCloseByX)&&this.props.onCloseByX(),this.close()},getKeyboardShortcuts:function(){return{esc:this.closeByESC}},closeByESC:function(){n.isFunction(this.props.onCloseByESC)?this.props.onCloseByESC():this.getEditorAPI().bi.event(l.events.welcomeVideoPanel.WELCOME_SCREEN_CLOSED,{panel_name:this.props.panelName,origin:"ESC"}),this.close()},handleShouldCloseOnBlur:function(){return this.getEditorAPI().bi.event(l.events.welcomeVideoPanel.WELCOME_SCREEN_CLOSED,{panel_name:this.props.panelName,origin:"outerClick"}),!0},getContent:function(e){var t=this.props.content;return t?s.translate(t[e]):""},getContentClass:function(){return this.props.contentClass||""},render:o})}),define("panels/focusPanels/exampleFocusPanel.rt",["react","lodash","panels/frames/focusPanelFrame"],function(e,t,n){"use strict";return function(){return e.createElement(n,{title:"Example Focus Panel",panelName:this.props.panelName,className:"example-focus-panel"},e.createElement("iframe",{className:"content-iframe",src:"http://www.w3schools.com"}))}}),define("panels/focusPanels/exampleFocusPanel",["create-react-class","panels/focusPanels/exampleFocusPanel.rt"],function(e,t){"use strict";return e({displayName:"exampleFocusPanel",render:t})}),define("panels/focusPanels/blogManagerPanel.rt",["react","lodash","baseUI","panels/frames/focusPanelFrame"],function(e,t,n,a){"use strict";return function(){return e.createElement("div",{className:"blog-manager-panel"},e.createElement(a,{panelName:this.props.panelName,className:"blog-manager-panel",shouldHideHeader:!0},e.createElement("iframe",{id:"blogManager",ref:"iframe",width:"100%",height:"100%",src:this.state.src,frameBorder:"0",allowFullScreen:!0})))}}),define("panels/focusPanels/blogManagerPanel",["reactDOM","create-react-class","prop-types","lodash","util","core","panels/focusPanels/blogManagerPanel.rt"],function(n,e,t,a,s,i,o){"use strict";return e({displayName:"blogManagerDialog",mixins:[s.postMessageMixin,i.mixins.editorAPIMixin],propTypes:{blogManagerAppPathType:t.string,api:t.object},getInitialState:function(){return{src:this.props.api.frameUrl}},componentWillMount:function(){this.setPostMessageHandler(null,this.onMessageFromDialog)},onMessageFromDialog:function(e){switch(e.type){case"ready":this.onReady();break;case"anchors":e.payload.pageId&&this.onAnchorsRequest(e.payload.pageId);break;case"cancel":void 0!==e.payload&&e.payload.postsUnchanged||this.props.api.reloadAppPartsMethod(),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)}},onAnchorsRequest:function(e){var t=JSON.stringify({type:"anchors",payload:{anchorsData:this.props.api.getAnchorsByPage(e),pageId:e}});n.findDOMNode(this.refs.iframe).contentWindow.postMessage(t,"*")},onReady:function(){var e=JSON.stringify({type:"settings",payload:{isOpenFromSantaEditor:!0,themeData:this.props.api.themeData,themeDataSchema:this.props.api.themeDataSchema,WIXAPPS_EDITOR_STYLES:this.props.api.WIXAPPS_EDITOR_STYLES,CK_EDITOR_FONT_STYLES:this.props.api.CK_EDITOR_FONT_STYLES,CustomUsedFontsUrl:this.props.api.CustomUsedFontsUrl,FontsCssUrls:this.props.api.FontsCssUrls,FontsData:this.props.api.FontsData,FontsMetadata:this.props.api.FontsMetadata,pagesData:this.props.api.pagesData,currentPageId:this.props.api.currentPageId,charSet:this.props.api.charSet,siteUrl:this.props.api.siteUrl,isSitePublished:this.props.api.isSitePublished,imageOrganizerUrl:this.props.api.imageOrganizerUrl,urlFormat:this.props.api.urlFormat,blogPageTitle:this.props.api.blogPageTitle,singlePostLayout:this.props.api.singlePostLayout,siteTitle:this.props.api.siteTitle,isHeroImageEnabled:this.props.api.isHeroImageEnabled,isHttpsEnabled:this.props.api.isHttpsEnabled}});n.findDOMNode(this.refs.iframe).contentWindow.postMessage(e,"*")},render:o})}),define("panels/focusPanels/shoutOutTemplatesPanel.rt",["react","lodash","baseUI","panels/frames/focusPanelFrame"],function(e,t,n,a){"use strict";return function(){return e.createElement("div",{className:"shoutout-templates-panel"},e.createElement(a,{panelName:"panels.focusPanels.shoutOutTemplatesPanel",className:"shoutout-templates-panel",shouldHideHeader:!0,onClose:this.onClose},e.createElement("iframe",{id:"shoutOutTemplates",ref:"iframe",width:"100%",height:"100%",src:this.props.frameUrl,frameBorder:"0",allowFullScreen:!0})))}}),define("panels/focusPanels/shoutOutTemplatesPanel",["create-react-class","prop-types","lodash","core","util","panels/focusPanels/shoutOutTemplatesPanel.rt"],function(e,t,n,a,s,i){"use strict";var o={evid:91,src:36,endpoint:"shout",sampleRatio:0,fields:{is_first:"bool",msid:"guid",referral_info:"string"}};return e({displayName:"shoutOutDialog",mixins:[a.mixins.editorAPIMixin,s.postMessageMixin],propTypes:{frameUrl:t.object},onClose:function(){return this.getEditorAPI().bi.event(o,{is_first:!0,referral_info:"editor panel"}),!0},componentWillMount:function(){this.setPostMessageHandler(null,this._onMessageFromDialog)},_onMessageFromDialog:function(e){"cancel"===e.type&&this.getEditorAPI().panelManager.closePanelByName("panels.focusPanels.shoutOutTemplatesPanel")},render:i})}),define("panels/focusPanels/aviaryPanel.rt",["react","lodash","baseUI","panels/frames/focusPanelFrame","util"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(a,{panelName:this.props.panelName,shouldHideHelp:!0,title:s.translate("AVIARY_PANEL_TITLE"),className:"aviary-panel",onClose:this.onCloseFrame},e.createElement("div",{className:"aviary-dialog"},e.createElement("div",{ref:"content",id:"aviary_dialog_editor_content_wrapper"}),e.createElement("div",{id:"message",className:t({hidden:!this.state.showMessage}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},e.createElement("div",{className:"message-bg"},e.createElement("span",{className:t({hidden:null==this.state.counter}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),id:"progress"},e.createElement("span",{id:"counter"},this.state.counter,"%")),e.createElement("span",{id:"messageContent"},this.state.messageText),e.createElement("span",{id:"cancel-button",className:t({hidden:!this.state.showCancelButton}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onClick:this.onCancelClicked},s.translate("AVIARY_CANCEL_UPLOAD"))))))}}),define("panels/focusPanels/aviaryPanel",["reactDOM","create-react-class","prop-types","lodash","zepto","core","util","panels/focusPanels/aviaryPanel.rt","coreUtilsLib"],function(s,e,t,c,n,a,o,i,l){"use strict";var r=o.translate,p=o.serviceTopology.htmlEditorRootUrl;p=p?p.replace(/html\/editor\/?/,""):"http://editor.wix.com/";var u=o.serviceTopology.mediaServerRoot,d="//editor."+u,m="//0.static."+u+"/api/add_file",h="edited image",g={AVIARY_MISSING_ID_IN_SKIN:{errorCode:21030,desc:"Missing an id on this._skinParts.content, it is required for Aviary to work"},AVIARY_DIALOG_WRONG_DATA_TYPE:{errorCode:21031,desc:"Data is missing or Data Type is not an Image Data"},AVIARY_NOT_LOADED:{errorCode:21032,desc:"Aviary.js was not loaded after 5000ms"},AVIARY_FORCE_CLOSED:{errorCode:21033,desc:"Aviary dialog was not closed on first try, forced it to close on second try"},AVIARY_UPLOAD_GET_TICKET_FAILED:{errorCode:21034,params:{c1:"error message"},desc:"Failed on getting ticket for upload."},AVIARY_UPLOAD_TO_STATIC_FAILED:{errorCode:21035,params:{c1:"error message"},desc:"Uploading image to statics failed."},AVIARY_UPLOAD_UPDATE_MEDIA_FAILED:{errorCode:21036,params:{c1:"error message"},desc:"Updating private media with uploaded file failed."},AVIARY_RETURNED_AN_ERROR:{errorCode:21037,params:{c1:"error message",i1:"error code"},desc:"Aviary editor failed on external script error."},AVIARY_REACHED_INNER_SAVE_FUNCTION:{errorCode:21038,desc:"Aviary somehow called its inner save function, this does not supposed to happen."}},f=void 0;function P(e){var t={},n=e.imageLink.value,a=n.uri,s=/(^https?)|(^data)/.test(a)?"":"/static/media/",i=/(jpg$)|(jpeg$)/i.test(a)?"image/jpeg":"image/png";return(1500<n.width||1500<n.height)&&(a+="_1500"),t.tmpImageSrc=p+s+a,t.tmpImageType=i,t}function _(e,t,n,a,s,i){e=e||"GET";var o=new window.XMLHttpRequest;o.open(e,t,!0),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||304===o.status?s(o):a(o))},o.setRequestHeader("Content-type",i||"text/plain"),o.send(n)}function b(n,a){var e,s,t;e=d+"/media/tickets/get",s=function(e){var t=e.responseValue;if(!t)return S("ERROR_AVIARY_TITLE","ERROR_AVIARY_UPLOAD_MESSAGE","Code: "+g.AVIARY_UPLOAD_GET_TICKET_FAILED.errorCode),v.call(this,!0),!1;(function(e,t,n){var a=C,s=function(){var e=this.responseXML||this.responseText;n(a(e))},i={datauri:t,ut:e,s:"media"},o=[],l=void 0;for(l in i)i.hasOwnProperty(l)&&o.push(l+"="+i[l]);o=o.join("&");var r={onLoad:s,onError:s,onTimeout:s,onUploadProgress:function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total*100);this.setState({counter:t})}}.bind(this),onAbort:this.onAbort};(function(e,t,n,a,s,i){e=e||"GET",a=a||{};var o=!0,l="undefined"!=typeof XDomainRequest;l?(this._xhrObject=new window.XDomainRequest,o=void 0):this._xhrObject=new window.XMLHttpRequest;var r=this._xhrObject;r.open(e,t,o),r.timeout=3e5,r.onload=a.onLoad||c.noop,r.onerror=a.onError||c.noop,r.ontimeout=a.onTimeout||c.noop,r.onprogress=a.onProgress||c.noop,r.upload&&r.upload.addEventListener("progress",a.onUploadProgress||c.noop,!1);l||(r.onabort=a.onAbort||c.noop,r.setRequestHeader("Content-type",s||"text/plain"),r.withCredentials=Boolean(i));r.send(n)}).call(this,"POST",m,o,r,"application/x-www-form-urlencoded",!1)}).call(this,t,n,a)}.bind(this),_("GET",e+"?accept=json",null,t=function(t){try{t=JSON.parse(t.responseText)}catch(e){t.status="error",t.errorDescription="Parse error: ticket returned unexpected response"}s(t)},t,"text/plain")}function E(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents(),n=e.components.layout.get(t);return n.width+":"+n.height}function C(e){var t=void 0,n=void 0,a=void 0;if("string"==typeof e?(a=new window.Element("div")).innerHTML=e:a=e,n=a?(t=a.querySelector("upload")).getAttribute("success"):!(t={getAttribute:function(){return"No Response Error"}}),o.stringUtils.isTrue(n)){var s=a.querySelector("properties"),i=a.querySelector("sys_meta");return{status:t.getAttribute("errorDescription"),originalName:i.getAttribute("original_file"),mimeType:i.getAttribute("mime_type"),fileUrl:i.getAttribute("file_url"),iconUrl:i.getAttribute("icon_url"),fileSize:i.getAttribute("file_size"),width:i.getAttribute("width"),height:i.getAttribute("height"),ver:i.getAttribute("ver"),fileName:s.getAttribute("file_name")}}return{status:"error",origin:t.getAttribute("origin"),errorCode:t.getAttribute("errorCode"),errorDescription:t.getAttribute("errorDescription")}}function I(e){if("error"===(e=e||{}).status||"timeout"===e.status)return v.call(this,!1),S("ERROR_AVIARY_TITLE","ERROR_AVIARY_UPLOAD_MESSAGE","Code: "+g.AVIARY_UPLOAD_TO_STATIC_FAILED.errorCode),!1;var t=new Date,n=[t.getFullYear(),t.getMonth()+1,t.getDate(),[t.getHours(),t.getMinutes(),t.getSeconds()].join(":")].join("-");this._newImageUri=e.fileName,e.originalName=(this.props.imageLink.value.title||"Edited Image")+" "+n,function(e){var t=(s=e,i="<mediaItemList>",i+="<mediaItem",i+=' mediaType="picture',i+='" componentType="photo',i+='" fileName="'+s.fileName,i+='" originalFileName="'+s.originalName,i+='" fileSize="'+s.fileSize,i+='" width="'+s.width,i+='" height="'+s.height,i+='" mimeType="'+s.mimeType,i+='" iconURL="'+s.iconUrl,i+='" version="'+s.ver,i+='" tags="'+h,i+='" />\n',i+="</mediaItemList>"),n=d+"/media/private/add",a=function(){(function(){(function(){if(!this._newImageSize||!this._newImageUri)return;var e=this.props.imageLink.value.originalImageDataRef;e||delete(e=c.cloneDeep(this.props.imageLink.value)).originalImageDataRef;this.props.imageLink.requestChange({height:this._newImageSize.height,width:this._newImageSize.width,uri:this._newImageUri,originalImageDataRef:e}),this._newImageSize=null,this._newImageUri=null}).call(this),function(){this.setState({disableCloseButton:!1})}.call(this),y.call(this,{result:"OK"})}).call(this)}.bind(this);var s,i;_("POST",n,t,function(){return S("ERROR_AVIARY_TITLE","ERROR_AVIARY_UPLOAD_MESSAGE","Code: "+g.AVIARY_UPLOAD_UPDATE_MEDIA_FAILED.errorCode),!1},a,"application/xml")}.call(this,e)}function y(e){e=e||{},this.state.disableCloseButton||(this._aviaryCloseCause=e.result||"CANCEL",f.close(),this._forceClose||this.setTimeoutNamed("close",function(){this._forceClose=!0}.bind(this),2e3))}function N(e,t){var n=void 0;n=e?{messageText:e,showMessage:!0}:{showMessage:!1},t?(n.showCancelButton=!0,window.XDomainRequest||(n.counter=0)):c.merge(n,{showCancelButton:!1,counter:null}),this.setState(n)}function v(e,t,n){f&&window.AV&&window.AV.paintWidgetInstance&&(e?(f.disableControls(),f.showWaitIndicator(),this.setState({disableCloseButton:!0}),N.call(this,t,n)):(f.enableControls(),f.hideWaitIndicator(),this.setState({disableCloseButton:!1,showMessage:!1})))}function S(e,t,n){var a=t&&r(t);(window&&window.confirm||function(){})(a,n)}var T={reactFunctions:{},onLoad:A("onLoad"),onAviarySave:A("onAviarySave"),onAviaryClose:A("onAviaryClose"),onAviaryReady:A("onAviaryReady"),onAviarySaveButtonClick:A("onAviarySaveButtonClick"),onError:A("onError")};function A(e){return function(){T.reactFunctions[e]&&T.reactFunctions[e]()}}return e({displayName:"aviaryPanel",mixins:[o.postMessageMixin,l.timersMixins.timeoutsMixin,a.mixins.editorAPIMixin],propTypes:{imageLink:t.object,onDialogResult:t.func,editorAPI:t.object.isRequired},getInitialState:function(){var e=P(this.props);return c.merge(e,{tmpImageId:"some_random_id_"+Date.now(),disableCloseButton:!0,showMessage:!0,messageText:null,showCancelButton:!1,counter:null}),e},componentWillReceiveProps:function(e){this.setState(P(e))},componentDidMount:function(){(function(){var e;T.reactFunctions={onLoad:this.onLoad,onAviarySave:this.onAviarySave,onAviaryClose:this.onAviaryClose,onAviaryReady:this.onAviaryReady,onAviarySaveButtonClick:this.onAviarySaveButtonClick,onError:this.onError},f?T.onLoad():f=new window.Aviary.Feather({apiKey:"57b23071b",apiVersion:3,tools:"crop,orientation,enhance,effects,frames,brightness,contrast,saturation,warmth,focus,sharpness,draw,redeye,whiten,blemish,stickers,text",maxSize:1500,theme:"minimum",noCloseButton:!0,displayImageSize:!0,onLoad:T.onLoad,onSave:T.onAviarySave,onClose:T.onAviaryClose,onReady:T.onAviaryReady,onSaveButtonClicked:T.onAviarySaveButtonClick,onError:T.onError,appendTo:"aviary_dialog_editor_content_wrapper",language:(e=o.languages.getLanguageCode(),e?e.toLowerCase():"en"),launchDelay:0})}).call(this),this.setTimeoutNamed("aviaryIsDeadTimer",function(){this.setState({disableCloseButton:!1})}.bind(this),1e4),N.call(this,r("AVIARY_LOAD_MESSAGE","Loading Image Editor..."),!1)},componentWillMount:function(){var e=n("<img/>",{id:this.state.tmpImageId,src:this.state.tmpImageSrc,type:this.state.tmpImageType,crossOrigin:""});this.image=e.get(0)},launchAviary:function(){var e=r("AVIARY_ORIGINAL_ASPECT");f.launch({image:this.state.tmpImageId,cropPresetDefault:e,cropPresets:[[e,E.call(this)],"Custom"]})},onLoad:function(){var e=r("AVIARY_ORIGINAL_ASPECT");f.launch({image:this.image,cropPresetDefault:e,cropPresets:[[e,E.call(this)],"Custom"]})},onAviarySave:function(){return!1},onAviaryClose:function(){this.clearTimeoutNamed("close"),this._forceClose=!1,this.props.onDialogResult&&this.props.onDialogResult(this._aviaryCloseCause)},onAviaryReady:function(){this.clearTimeoutNamed("aviaryIsDeadTimer"),this.setState({showMessage:!1,disableCloseButton:!1})},onAviarySaveButtonClick:function(){var e=JSON.parse(f.getActionList()),t=1<c.get(e,"actionlist.length",0),n=s.findDOMNode(this.refs.content).querySelector("#avpw_canvas_element"),a="";return t?(v.call(this,!0,r("AVIARY_WAIT_MESSAGE","Uploading image, please wait..."),!0),a=encodeURIComponent(n.toDataURL(this.state.tmpImageType)),this._newImageSize={width:n.width,height:n.height},b.call(this,a,I.bind(this))):y.call(this,{result:"CANCEL"}),!1},onProgress:function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total*100);this.setState({counter:t})}},onAbort:function(){return v.call(this,!1),this._xhrObject=null,!1},onError:function(e){return S(0,"ERROR_AVIARY_GENERAL_MESSAGE","Codes: "+g.AVIARY_RETURNED_AN_ERROR.errorCode+", "+e.code),!1},onCloseFrame:function(){y.call(this)},componentWillUnmount:function(){y.call(this)},onCancelClicked:function(){this._xhrObject?(this._xhrObject.abort(),window.XDomainRequest&&this.onAbort()):v.call(this,!1)},render:function(){return i.call(this)}})}),define("panels/focusPanels/organizeImagesPanel.rt",["react","lodash","baseUI","panels/frames/focusPanelFrame","util","santa-editor-symbols"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement(a,{panelName:this.props.panelName,helpId:this.state.helpId,className:"organize-images-panel",shouldNotCloseOnBlur:!0,shouldHideHeader:!0,onClose:this.onPanelClose,width:Math.round(.8*window.innerWidth).toString(),height:Math.round(.8*window.innerHeight).toString()},e.createElement("iframe",{id:"organizeImages",ref:"iframe",className:t({hidden:!this.state.show,transition:!0}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onLoad:this.onLoad,width:"100%",height:"100%",src:this.getFrameUrl(),frameBorder:"0",allowTransparency:!0}),e.createElement(n.preloader,{ref:"preloader",className:t({hidden:this.state.show,transition:!0}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")}))}}),define("panels/focusPanels/organizeImagesPanel",["reactDOM","create-react-class","prop-types","lodash","util","panels/focusPanels/organizeImagesPanel.rt","pms","core","helpIds","coreUtilsLib","coreBi","constants","stateManagement"],function(e,t,n,p,u,a,s,i,o,l,r,c,d){"use strict";var m={ICON_SOCIAL:"social_icons",IMAGE:"gallery_image"},h="socialIcons",g=r.events.organizeImages,f=u.hoc,P=f.connect,_=f.STORES.EDITOR_API;function b(){this.getEditorAPI().bi.event(g.ORGIMAGES_DIALOG_LOADED,{c1:"new Organize Images"}),this._isReady=!0;var e=function(){return{images:this.props.imageDatas,translation:u.imageOrganizerUtils.getTranslation(this.props.galleryType),topology:u.serviceTopology,isPreset:this.props.isPreset,userSets:this.userSets}}.call(this);this._pms.send("set",e)}function E(e){var t=e.data&&e.data.helpId;if(t){var n={panel_name:this.props.panelName,origin:c.BI.HELP.ORIGIN.PANEL,component:this.getEditorAPI().selection.getSelectedComponentType()};this.getEditorAPI().panelManager.openHelpCenter(t,null,null,n)}}function C(){var e=I.call(this),t=void 0,n=void 0;t=this.props.galleryType===h?(n="6377d68a-a81f-4fd7-a675-f5a79f7e7ea9",u.translate("ORGANIZE_ICONS_DIALOG_TITLE")):(n=o.EXTERNAL.ORGANIZE_IMAGES,u.translate("OrganizeImages_IMAGES_DIALOG_TITLE")),this.setState({helpId:n,title:t,show:!0}),e.contentWindow.focus()}function I(){return e.findDOMNode(this.refs.iframe)}function y(e){var t=this.props.createImageDataItem();return p.merge(t,e),t}function N(e){var t=e.data,o=this.props.imageDatas,l=void 0,n=p.map(t,p.bind(function(e){var t,n,a,s,i;return l=p.includes(e.id,"new_")?y.call(this,e.data):(t=o,n=e,a=void 0,(s=p.find(t,{id:n.id}))&&(a=p.merge(s.data,n.data)),a),i=l,100<p.get(i,"title.length",0)&&(i.title=i.title.substring(0,100)),l},this));this.props.imagesChanged(n)}function v(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)}function S(e){var t=this.getEditorAPI(),n=e.data,a=t.bi.event;l.log.info("bi events",e),p.forOwn(n,function(e,t){a(g[t],n[t])})}function T(e){var t=this.getEditorAPI(),n=e.data,a=n.params||{};l.log.info("bi events",e),t.bi.event(g[n.name],a)}function A(t){t=t.data;var n=this.getEditorAPI();n.openLinkPanel({defaultLinkType:"ExternalLink",link:t.data.link,callback:function(e){e&&e.type||(e=null),this._pms.send("setLink",{link:e,linkText:e?u.link.getLinkValueAsString(n,e,!0):"",imgData:t,id:t.id})}.bind(this)})}function k(e,n,t){var a=this,s=void 0,i={title:"ORGANIZE_IMAGES_MEDIA_MNGR_TITLE",submit:"ORGANIZE_IMAGES_MEDIA_MNGR_SUBMIT"},o=this.getEditorAPI().mediaServices,l=o.mediaManager;switch(this.props.galleryType){case h:p.forEach(i,function(e,t){i[t]=e.replace("IMAGES","ICONS")}),s=l.categories.ICON_SOCIAL;break;default:s=l.categories.IMAGE}var r=e?"_MANY":"_ONE",c=m[s];l.open(s,c,{multiSelect:e,translation:{title:u.translate(i.title+r),submitButton:t?u.translate("MMGR_submitbutton_gallery_uploads_choose"):u.translate("MMGR_submitbutton_gallery_uploads_add")},callback:function(e,t){n.call(a,e,t),o.setFocusToEditor()}})}var L=0;function D(){return"new_"+L++}var w=t({displayName:"organizeImagesPanel",mixins:[u.postMessageMixin,i.mixins.editorAPIMixin],propTypes:{imageDatas:n.arrayOf(n.object).isRequired,isPreset:n.bool.isRequired,galleryType:n.oneOf(["images",h]).isRequired,imagesChanged:n.func.isRequired,createImageDataItem:n.func.isRequired},getInitialState:function(){return this.userSets=d.editorPlugins.userPreferences.selectors.getGlobalUserPreferences("OrganizeImages")(this.getEditorAPI().store.getState()),this._pms=new s({connectionID:"OrganizeImages"}),this._pms.on("ready",b,this),this._pms.on("setup",C,this),this._pms.on("closed",v,this),this._pms.on("openLinkDialog",A,this),this._pms.on("save",N,this),this._pms.on("bi",T,this),this._pms.on("biChanges",S,this),this._pms.on("openHelpCenter",E,this),this._pms.on("openMediaGallery",this.openMediaGallery,this),this._pms.on("openMediaGalleryForReplace",this.openMediaGalleryForReplace,this),{show:!1}},openMediaGallery:function(){k.call(this,!0,function(e){if(e){var n=[];p.forEach(e,p.bind(function(e){var t=y.call(this,{uri:e.fileName,height:e.height,width:e.width,title:e.title||e.fileName});n.push({id:D(),data:t,linkText:""})},this)),this._pms.send("add",n)}},!1)},openMediaGalleryForReplace:function(e){var t=e.data.position;k.call(this,!1,function(e){if(e){var n=[];p.forEach(e,p.bind(function(e){var t=y.call(this,{uri:e.fileName,height:e.height,width:e.width,title:e.title||e.fileName});n.push({id:D(),data:t,linkText:""})},this)),n.length<=0||this._pms.send("replace",{position:t,data:n[0]})}},!0)},getFrameUrl:function(){return u.imageOrganizerUtils.getFrameUrl(this.props.galleryType)},componentDidMount:function(){this._pms.setTargetWindow(I.call(this).contentWindow),I.call(this).addEventListener("load",this.onFrameLoad)},onFrameLoad:function(){this._pms.on("setUserSets",this.setUserSettings,this)},setUserSettings:function(e){var t=this.userSets=e.data;this.getEditorAPI().store.dispatch(d.editorPlugins.userPreferences.actions.setGlobalUserPreferences("OrganizeImages",p.assign(t,{saveNow:!0}))).catch(p.noop)},onPanelClose:function(){var e=this.getEditorAPI();return!this._isReady||(this._pms.send("saveAndClose"),e.bi.event(g.ORGIMAGES_CLICK_CLOSE),!1)},render:a});var O=P(_,function(e){var t,n,a=e.editorAPI,s=a.selection.getSelectedComponents(),i=a.components.data.get(p.head(s));return{imageDatas:(t=i,n=a,p.map(t.items,function(e){var t=e.link;return{id:D(),data:e,linkText:t?u.link.getLinkValueAsString(n,t,!0):""}}))}})(w);return O.pure=w,O}),define("panels/focusPanels/popupTemplateMapper",["lodash"],function(a){"use strict";return function(e,t){var n=e.editorAPI;return{close:a.partial(n.panelManager.closePanelByName,t.panelName),openHelpCenter:n.panelManager.openHelpCenter,selectedComponentType:n.selection.getSelectedComponentType(),sendBi:n.bi.event}}}),define("panels/focusPanels/popupTemplate.rt",["react","lodash","panels/frames/focusPanelFrame","baseUI","baseUILib","santa-editor-symbols","util"],function(a,t,n,s,i,o,l){"use strict";return function(){return function(){var e=l.translate;return a.createElement(n,{shouldHideHeader:!0,isSingleInstance:this.props.isSingleInstance,panelName:this.props.panelName,shouldNotCloseOnBlur:this.props.shouldNotCloseOnBlur},a.createElement("div",{className:"popup-template-panel "+(this.props.className||"")},a.createElement("div",{className:"panel-header dark"},a.createElement("button",{className:"close",onClick:this.props.close},a.createElement(o.symbol,{name:"headerCloseButton"})),this.props.h1text?a.createElement("h1",{key:"h1text"},e(this.props.h1text)):null,this.props.h2text?a.createElement("h2",{key:"h2text"},e(this.props.h2text)):null,a.createElement("div",{className:"image "+(this.props.imageClassName||"")},this.props.symbolName?a.createElement(s.symbol,{key:"symbol",name:this.props.symbolName,className:"popup-symbol"}):null)),a.createElement("div",{className:"content"},a.createElement("div",{className:"panel-text"},a.createElement("span",{},e(this.props.bodyText)+" "),this.props.helpId?a.createElement("span",{key:"learnMoreLink",className:"learn-more-link",onClick:this.openLearnMore},e("Notification_Box_Learn_More")):null),a.createElement("div",{className:"bottom-controls"},this.props.hideDontShowCheckbox?null:a.createElement(i.Checkbox,{value:this.props.dontShowAgain,onChange:this.handleDontShowAgainClick,key:"dont-show-again-checkbox",labelAfterSymbol:!0,className:"dont-show-again",label:"Notification_Box_Dont_Show_Again"}),this.hasCustomButtons()?null:a.createElement(s.button,{key:"hasNoCustomButtons",className:"btn-ok btn-md",onClick:this.props.close,label:this.props.btnText||"Notification_Box_Got_It"}),this.hasCustomButtons()?a.createElement.apply(this,["span",{key:"hasCustomButtons"},t.map(this.props.buttons,function(e,t,n){return a.createElement(i.Button,{key:n,className:t.className,onClick:this.handleBtnClick.bind(this,t),automationId:t.automationId},t.icon?a.createElement(o.symbol,{key:"symbol-"+t.icon,className:t.label?"symbol-with-label":"",name:t.icon}):null,a.createElement("span",{"data-hint-id":t.hintId},"\n                            ",e(t.label),"\n                        "))}.bind(this,e))]):null))))}.apply(this,[])}}),define("panels/focusPanels/popupTemplate",["create-react-class","prop-types","lodash","coreBi","util","higherOrderComponents","panels/focusPanels/popupTemplateMapper","constants","panels/focusPanels/popupTemplate.rt"],function(e,t,s,n,a,i,o,l,r){"use strict";var c=a.hoc,p=c.connect,u=c.renderWhenMutated,d=c.STORES.EDITOR_API;function m(e,t,n){var a="Warning: Failed propType: ";return!e.symbolName^!e.imageClassName?e[t]&&!s.isString(e[t])?new Error(a+"Invalid prop `"+t+"` of type `"+_typeof(e[t])+"` supplied to `"+n+"`, expected `string`."):void 0:new Error(a+n+" must have either symbolName or imageClassName but not both.")}var h=e({displayName:"popupTemplate",propTypes:{close:t.func.isRequired,openHelpCenter:t.func.isRequired,sendBi:t.func.isRequired,panelName:t.string.isRequired,h1text:t.string,h2text:t.string,symbolName:m,imageClassName:m,bodyText:t.string,btnText:t.string,buttons:t.arrayOf(t.object),helpId:t.string,selectedComponentType:t.string,dontShowAgain:t.bool,toggleDontShowAgain:t.func.isRequired,hideDontShowCheckbox:t.bool,shouldNotCloseOnBlur:t.bool},openLearnMore:function(){var e={component:this.props.selectedComponentType,panel_name:this.props.panelName,origin:l.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.props.openHelpCenter(this.props.helpId,null,e)},handleBtnClick:function(e){s.isFunction(e.onClick)&&e.onClick(),this.props.close()},hasCustomButtons:function(){return this.props.buttons&&this.props.buttons.length},handleDontShowAgainClick:function(){this.props.toggleDontShowAgain(),this.props.sendBi(n.events.commonControls.dont_show_again_click,{panel_name:this.props.panelName,toggle:this.props.dontShowAgain})},render:r}),g=p(d,o)(u(h)),f=i.linkUserPreferences()(g);return f.pure=h,f}),define("panels/focusPanels/outOfGridMobilePanel.rt",["react","lodash","constants","panels/focusPanels/popupTemplate"],function(e,t,n,a){"use strict";return function(){return e.createElement(a,{panelName:this.props.panelName,h1text:"Notification_Box_Out_Grid_Mobile_Title",h2text:"Notification_Box_Out_Grid_Mobile_Subtitle",symbolName:"outOfGridMobile",bodyText:"Notification_Box_Out_Grid_Mobile_Text",helpId:"769b8807-30b7-4ee4-8a7b-93674099732f",dontShowAgainKey:n.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_DONT_SHOW_AGAIN,userPrefType:"site"})}}),define("panels/focusPanels/outOfGridMobilePanel",["create-react-class","core","panels/focusPanels/outOfGridMobilePanel.rt"],function(e,t,n){"use strict";return e({displayName:"outOfGridMobilePanel",mixins:[t.mixins.editorAPIMixin],render:n})}),define("panels/focusPanels/outOfGridDesktopPanel.rt",["react","lodash","constants","panels/focusPanels/popupTemplate"],function(e,t,n,a){"use strict";return function(){return e.createElement(a,{panelName:this.props.panelName,className:"out-of-grid-desktop-panel",h1text:"Notification_Box_Out_Page_Gridlines_Title",imageClassName:"page-out-of-grid",bodyText:"Notification_Box_Out_Page_Gridlines_Text",helpId:"b712fa83-f939-4ec4-ab68-b7f968d90fab",dontShowAgainKey:n.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_DONT_SHOW_AGAIN,userPrefType:"site"})}}),define("panels/focusPanels/outOfGridDesktopPanel",["create-react-class","core","panels/focusPanels/outOfGridDesktopPanel.rt"],function(e,t,n){"use strict";return e({displayName:"outOfGridDesktopPanel",mixins:[t.mixins.editorAPIMixin],render:n})}),define("panels/focusPanels/outOfContainerGridPanel.rt",["react","lodash","constants","panels/focusPanels/popupTemplate"],function(e,t,n,a){"use strict";return function(){return e.createElement(a,{panelName:this.props.panelName,h1text:"Notification_Box_Out_Strip_Gridlines_Title",imageClassName:"container-out-of-grid",bodyText:"Notification_Box_Out_Strip_Gridlines_Text",helpId:"b712fa83-f939-4ec4-ab68-b7f968d90fab",dontShowAgainKey:n.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_DONT_SHOW_AGAIN,userPrefType:"site"})}}),define("panels/focusPanels/outOfContainerGridPanel",["create-react-class","core","panels/focusPanels/outOfContainerGridPanel.rt"],function(e,t,n){"use strict";return e({displayName:"outOfContainerGridPanel",mixins:[t.mixins.editorAPIMixin],render:n})}),define("panels/focusPanels/dragToHeaderPanel.rt",["react","lodash","constants","panels/focusPanels/popupTemplate"],function(e,t,n,a){"use strict";return function(){return e.createElement(a,{panelName:this.props.panelName,h1text:"Notification_Box_Header_Added_Title",h2text:"Notification_Box_Header_Added_Subtitle",symbolName:"showOnAllPages",bodyText:"Notification_Box_Header_Added_Text",helpId:"db639aa7-f012-4526-9390-ef466c95f19d",dontShowAgainKey:n.USER_PREFS.DRAG_TO_HEADER.DONT_SHOW_AGAIN,userPrefType:n.USER_PREFS.TYPES.SITE})}}),define("panels/focusPanels/dragToHeaderPanel",["create-react-class","core","panels/focusPanels/dragToHeaderPanel.rt"],function(e,t,n){"use strict";return e({displayName:"dragToHeaderPanel",mixins:[t.mixins.editorAPIMixin],render:n})}),define("panels/focusPanels/attachToSOSPPanelMapper",["constants","stateManagement"],function(n,a){"use strict";var s=function(e,t,n){return n.editorAPI};return{mapStateToProps:function(e){var t=e.editorAPI;return{doNotShowAgain:!!a.editorPlugins.userPreferences.selectors.getSiteUserPreferences(n.USER_PREFS.SOSP.PANELS.ATTACH_DO_NOT_SHOW_AGAIN)(t.store.getState())}},mapDispatchToProps:function(e){var t=e(s);return{closePanel:t.panelManager.closePanelByName,openHelpCenter:t.panelManager.openHelpCenter,setDoNotShowAgain:function(){e(a.editorPlugins.userPreferences.actions.setSiteUserPreferences(n.USER_PREFS.SOSP.PANELS.ATTACH_DO_NOT_SHOW_AGAIN,!0))}}}}}),define("panels/focusPanels/attachToSOSPPanel.rt",["react","lodash","panels/frames/focusPanelFrame","baseUILib","santa-editor-symbols","util"],function(t,e,n,a,s,i){"use strict";return function(){return function(){var e=i.translate;return t.createElement(n,{ref:"panelFrame",className:"popup-medium attach-to-sosp-panel",shouldHideHeader:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName},t.createElement(a.Composites.BigPanelHeader,{},t.createElement(a.PanelHeaderCenteredText,{title:"Notification_Box_MembersBar_Added_Title",subtitle:"Notification_Box_MembersBar_Added_Subtitle",titleType:"T16",onClose:this.onClose}),t.createElement(a.PanelHeaderIllustration,{blueStripHeight:92},t.createElement("img",{className:"illustration",src:this.getIllustrationSrc()}))),t.createElement(a.Composites.PanelContent,{},t.createElement(a.Composites.RichText,{},t.createElement(a.RichText,{type:"T06"},t.createElement("p",{},e("Notification_Box_MembersBar_Added_Text"),"\n                    ",t.createElement("a",{onClick:this.onLearnMoreClick}," ",e("Notification_Box_Learn_More")))))),t.createElement(a.Composites.ActionSetHorizontal,{},t.createElement(a.Checkbox,{value:this.state.doNotShowAgain,label:"Notification_Box_Dont_Show_Again",labelAfterSymbol:!0,onChange:this.onDoNotShowAgainClick}),t.createElement(a.Button,{className:"btn-md",onClick:this.onClose},t.createElement("span",{},e("Notification_Box_Got_It")))))}.apply(this,[])}}),define("panels/focusPanels/attachToSOSPPanel",["create-react-class","prop-types","util","helpIds","panels/focusPanels/attachToSOSPPanelMapper","panels/focusPanels/attachToSOSPPanel.rt"],function(e,t,n,a,s,i){"use strict";var o=n.hoc,l=o.connect,r=o.renderWhenMutated,c=o.STORES.EDITOR_API,p=e({displayName:"AttachDetachSOSPPanel",propTypes:{panelName:t.string.isRequired,closePanel:t.func.isRequired,openHelpCenter:t.func.isRequired,doNotShowAgain:t.bool.isRequired,setDoNotShowAgain:t.func.isRequired},getInitialState:function(){return{doNotShowAgain:this.props.doNotShowAgain}},getKeyboardShortcuts:function(){return{esc:this.onClose}},getIllustrationSrc:function(){var e=2===n.browserUtil.getDevicePixelRatio()?"panels/focusPanels/addRemoveFromBarRetina.gif":"panels/focusPanels/addRemoveFromBar.gif";return n.media.getMediaUrl(e)},onClose:function(){this.state.doNotShowAgain&&this.props.setDoNotShowAgain(),this.props.closePanel(this.props.panelName)},onLearnMoreClick:function(){this.props.openHelpCenter(a.LEARN_MORE.SOSP_ATTACH_PANEL)},onDoNotShowAgainClick:function(){this.setState({doNotShowAgain:!this.state.doNotShowAgain})},render:i});return l(c,s.mapStateToProps,s.mapDispatchToProps)(r(p))}),define("panels/focusPanels/detachedFromSOSPPanelMapper",["constants","stateManagement"],function(n,a){"use strict";var s=function(e,t,n){return n.editorAPI};return{mapStateToProps:function(e){var t=e.editorAPI;return{doNotShowAgain:!!a.editorPlugins.userPreferences.selectors.getSiteUserPreferences(n.USER_PREFS.SOSP.PANELS.DETACH_DO_NOT_SHOW_AGAIN)(t.store.getState())}},mapDispatchToProps:function(e){var t=e(s);return{closePanel:t.panelManager.closePanelByName,openHelpCenter:t.panelManager.openHelpCenter,setDoNotShowAgain:function(){e(a.editorPlugins.userPreferences.actions.setSiteUserPreferences(n.USER_PREFS.SOSP.PANELS.DETACH_DO_NOT_SHOW_AGAIN,!0))}}}}}),define("panels/focusPanels/detachedFromSOSPPanel.rt",["react","lodash","panels/frames/focusPanelFrame","baseUILib","santa-editor-symbols","util"],function(t,e,n,a,s,i){"use strict";return function(){return function(){var e=i.translate;return t.createElement(n,{ref:"panelFrame",className:"popup-medium detached-from-sosp-panel",shouldHideHeader:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName},t.createElement(a.Composites.BigPanelHeader,{},t.createElement(a.PanelHeaderCenteredText,{title:"Notification_Box_MemberSidebar_Move_Element_Title",subtitle:"Notification_Box_Membersidebar_Move_Element_Subtitle",titleType:"T16",onClose:this.onClose}),t.createElement(a.PanelHeaderIllustration,{blueStripHeight:92},t.createElement("img",{className:"illustration",src:this.getIllustrationSrc()}))),t.createElement(a.Composites.PanelContent,{},t.createElement(a.Composites.RichText,{},t.createElement(a.RichText,{type:"T06"},t.createElement("p",{},e("Notification_Box_Membersidebar_Move_Body"),"\n                    ",t.createElement("a",{onClick:this.onLearnMoreClick},e("Notification_Box_Membersidebar_Move_Link")))))),t.createElement(a.Composites.ActionSetHorizontal,{},t.createElement(a.Checkbox,{value:this.state.doNotShowAgain,label:"Notification_Box_Dont_Show_Again",labelAfterSymbol:!0,onChange:this.onDoNotShowAgainClick}),t.createElement(a.Button,{className:"btn-md",onClick:this.onClose},t.createElement("span",{},e("Notification_Box_Membersidebar_Move_Close")))))}.apply(this,[])}}),define("panels/focusPanels/detachedFromSOSPPanel",["create-react-class","prop-types","util","helpIds","panels/focusPanels/detachedFromSOSPPanelMapper","panels/focusPanels/detachedFromSOSPPanel.rt"],function(e,t,n,a,s,i){"use strict";var o=n.hoc,l=o.connect,r=o.renderWhenMutated,c=o.STORES.EDITOR_API,p=e({displayName:"DetachedFromSOSPPanel",propTypes:{panelName:t.string.isRequired,closePanel:t.func.isRequired,openHelpCenter:t.func.isRequired,doNotShowAgain:t.bool.isRequired,setDoNotShowAgain:t.func.isRequired},getInitialState:function(){return{doNotShowAgain:this.props.doNotShowAgain}},getKeyboardShortcuts:function(){return{esc:this.onClose}},getIllustrationSrc:function(){var e=2===n.browserUtil.getDevicePixelRatio()?"panels/focusPanels/addRemoveFromBarRetina.gif":"panels/focusPanels/addRemoveFromBar.gif";return n.media.getMediaUrl(e)},onClose:function(){this.state.doNotShowAgain&&this.props.setDoNotShowAgain(),this.props.closePanel(this.props.panelName)},onLearnMoreClick:function(){this.props.openHelpCenter(a.LEARN_MORE.SOSP_DETACH_PANEL)},onDoNotShowAgainClick:function(){this.setState({doNotShowAgain:!this.state.doNotShowAgain})},render:i});return l(c,s.mapStateToProps,s.mapDispatchToProps)(r(p))}),define("panels/focusPanels/spotifySearchFocusPanel.rt",["react","lodash","panels/frames/focusPanelFrame","helpIds"],function(e,t,n,a){"use strict";return function(){return e.createElement(n,{ref:"focusPanelFrame",title:this.translateIfNeeded("Spotify_Player_Settings_Search"),panelName:this.props.panelName,selectedComponentType:this.props.selectedComponentType,className:"spotify-search-panel",helpId:a.EXTERNAL.SEARCH_SPOTIFY},e.createElement("iframe",{className:"content-iframe",src:this.props.iframeSrc}))}}),define("panels/focusPanels/spotifySearchFocusPanel",["create-react-class","lodash","core","util","panels/focusPanels/spotifySearchFocusPanel.rt"],function(e,t,n,a,s){"use strict";return e({displayName:"spotifySearch",mixins:[n.mixins.editorAPIMixin,a.translationMixin,a.postMessageMixin],render:s,componentDidMount:function(){this.setPostMessageHandlerNamed("spotifySearch",this.props.id,this.onMessageFromDialog)},onMessageFromDialog:function(e){t.isFunction(this.props.callback)&&this.props.callback(e),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)}})}),define("panels/focusPanels/iTunsLinkMaker.rt",["react","lodash","panels/frames/focusPanelFrame","helpIds"],function(e,t,n,a){"use strict";return function(){return e.createElement(n,{title:this.translateIfNeeded("iTunes_Link_Maker_Title"),panelName:this.props.panelName,helpId:a.EXTERNAL.SEARCH_ITUNES,className:"itunes-link-maker"},e.createElement("iframe",{className:"content-iframe",src:"https://linkmaker.itunes.apple.com"}))}}),define("panels/focusPanels/iTunsLinkMaker",["create-react-class","lodash","util","panels/focusPanels/iTunsLinkMaker.rt"],function(e,t,n,a){"use strict";return e({displayName:"iTunesLinkMaker",mixins:[n.translationMixin],render:a})}),define("panels/focusPanels/pageAppInstallingPanelMapper",[],function(){"use strict";return function(e){var t=e.editorAPI;return{closePanel:t.panelManager.closePanelByName,openHelpCenter:t.panelManager.openHelpCenter}}}),define("panels/focusPanels/pageAppInstalling.rt",["react","lodash","panels/frames/focusPanelFrame","baseUILib","santa-editor-symbols","util"],function(t,e,n,a,s,i){"use strict";return function(){return function(){var e=i.translate;return t.createElement(n,{ref:"panelFrame",shouldHideHeader:!0,className:"member-area-added-panel popup-medium",shouldNotCloseOnBlur:this.props.isInstalling,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName},t.createElement(a.Composites.BigPanelHeader,{},t.createElement(a.PanelHeaderCenteredText,{title:this.getTitleText(),shouldTranslate:!1,subtitle:this.getSubtitleText(),onClose:this.props.isInstalling?void 0:this.onClose}),t.createElement(a.PanelHeaderIllustration,{blueStripHeight:92},t.createElement("img",{className:"illustration",src:this.getIllustrationSrc(),alt:"app installing illustration"}))),t.createElement(a.Composites.PanelContent,{},t.createElement(a.Composites.RichText,{},t.createElement(a.RichText,{type:"T06"},t.createElement("p",{},this.getBodyText())))),t.createElement(a.Composites.ActionSetHorizontal,{},t.createElement(a.Button,{onClick:this.onClose,disabled:this.props.isInstalling,className:"btn-md"},t.createElement("span",{},e(this.getButtonText())))))}.apply(this,[])}}),define("panels/focusPanels/pageAppInstalling",["create-react-class","prop-types","util","panels/focusPanels/pageAppInstallingPanelMapper","panels/focusPanels/pageAppInstalling.rt"],function(e,t,n,a,s){"use strict";var i=n.hoc,o=i.connect,l=i.renderWhenMutated,r=i.STORES.EDITOR_API,c=e({displayName:"pageAppInstallingPanel",mixins:[n.translationMixin],propTypes:{closePanel:t.func.isRequired,isInstalling:t.bool.isRequired,appName:t.string.isRequired,panelName:t.string.isRequired},getTitleText:function(){var e={appName:this.props.appName};return this.translateTemplate("tpa_messages_new_page_added_popup_title",e)},getSubtitleText:function(){return this.translateTemplate("tpa_messages_new_page_added_popup_subtitle",{})},getBodyText:function(){var e={appName:this.props.appName};return this.translateTemplate("tpa_messages_new_page_added_popup_body",e)},getButtonText:function(){return this.props.isInstalling?"tpa_messages_new_page_added_popup_button":"tpa_messages_new_page_added_popup_button_getstarted"},getKeyboardShortcuts:function(){return{esc:function(){this.props.isInstalling&&this.onClose()}}},onClose:function(){this.props.closePanel(this.props.panelName)},getIllustrationSrc:function(){var e=void 0;return e=this.props.isInstalling?2===n.browserUtil.getDevicePixelRatio()?"panels/focusPanels/appLoaderRetina.v2.gif":"panels/focusPanels/appLoader.v2.gif":2===n.browserUtil.getDevicePixelRatio()?"panels/focusPanels/appLoaderSuccessRetina.v2.gif":"panels/focusPanels/appLoaderSuccess.v2.gif",n.media.getMediaUrl(e)},render:s});return o(r,a)(l(c))}),define("panels/focusPanels/howToVideoGalleryPanel.rt",["react","lodash","panels/frames/focusPanelFrame","baseUILib"],function(e,t,n,a){"use strict";return function(){return e.createElement(n,{ref:"panelFrame",frameClassName:"how-to-video-gallery-frame",className:"how-to-video-gallery-panel",shouldHideHeader:!0,keyboardShortcuts:this.getKeyboardShortcuts(),panelName:this.props.panelName},e.createElement("div",{className:"panel-content"},e.createElement(a.Composites.BigPanelHeader,{},e.createElement(a.PanelHeaderCenteredText,{title:"HowTo_Videos_Panel_Title",subtitle:"HowTo_Videos_Panel_Subtitle",onClose:this.onClose})),e.createElement("iframe",{className:"gallery-iframe",src:this.getIframeSrc()})))}}),define("panels/focusPanels/howToVideoGalleryPanel",["create-react-class","lodash","core","util","stateManagement","panels/focusPanels/howToVideoGalleryPanel.rt"],function(e,t,n,a,s,i){"use strict";var o=s.editorPlugins.domMeasurements.selectors,l=o.getPreviewPosition,r=o.getStageLayout;function c(){return"https://apps."+a.serviceTopology.baseDomain}return e({displayName:"howToVideoGalleryPanel",mixins:[a.translationMixin,n.mixins.editorAPIMixin],componentDidMount:function(){window.addEventListener("message",this.iframeMessageHandler)},componentWillUnmount:function(){window.removeEventListener("message",this.iframeMessageHandler)},getStageWidth:function(){var e=this.getEditorAPI().store.getState();return r(e).width+l(e).left},iframeMessageHandler:function(e){(e.origin||e.originalEvent.origin)===c()&&"dealerButtonClick"===t.get(e,"data.event")&&this.getEditorAPI().panelManager.openPanel("panels.focusPanels.howToVideoPlayer",{videoId:e.data.details.clickType,origin:"TOP_BAR_HELP",withOverlay:!1,withShadow:!1},!0)},getIframeSrc:function(){var e,t=this.getEditorAPI().dsRead.generalInfo.getMetaSiteId(),n=this.getStageWidth();return c()+(e="/wix-dealer-webapp/api/lightboxViewer/EDITOR_VIDEO_GALLERY",e+=n<1290?"_SMALL/":"/")+t},getKeyboardShortcuts:function(){return{esc:this.onClose}},onClose:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:i})}),define("panels/focusPanels/feedbackPanel.rt",["react","lodash","panels/frames/focusPanelFrame"],function(e,t,n){"use strict";return function(){return e.createElement(n,{ref:"panelFrame",panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,onClose:this.panelWillClose,isBareMode:!0},e.createElement("iframe",{className:"feedback-iframe",src:this.getIframeSrc(),width:"500",height:"743",ref:"iframe"}))}}),define("panels/focusPanels/feedbackPanel",["create-react-class","prop-types","lodash","core","util","constants","panels/focusPanels/feedbackPanel.rt"],function(e,t,i,n,o,s,a){"use strict";var l=["ReactSource","experiments","experimentsoff","editorexp","viewerexp"];function r(){return"//feedback."+o.serviceTopology.baseDomain}function c(){return window.location.protocol+r()}return e({propTypes:{panelName:t.string.isRequired},displayName:"feedbackPanel",mixins:[n.mixins.editorAPIMixin],getIframeSrc:function(){var e,t,n=this.getEditorAPI(),a=n.dsRead.generalInfo.getSiteId(),s=n.dsRead.generalInfo.getMetaSiteId();return c()+"/shareSite/"+a+"?metaSiteId="+s+(e=o.url.getParameterByName("feedbackVersion"),t=i(l).map(function(e){var t=o.url.getParameterByName(e);return t?"&"+e+"="+t:null}).compact().join(""),e&&(t+="&rc="+e),t)},componentDidMount:function(){window.addEventListener("message",this.iframeMessageHandler)},componentWillUnmount:function(){this.closeTimeout&&window.clearTimeout(this.closeTimeout),window.removeEventListener("message",this.iframeMessageHandler)},iframeMessageHandler:function(e){var t=this.getEditorAPI();if(e.origin.substring(e.origin.indexOf("//"))===r()){var n=e.data&&JSON.parse(e.data);switch(n.action){case"feedbackhelp":var a=function(e){switch(e){case"ShareHelpPro":return"4ca0f60b-3c8e-48c2-9259-8d70c8564101";case"ReadHelp":return"38fac604-38ba-4d83-97eb-3fbc8f702762";case"ReadHelpPro":return"4e1993e1-ece8-4478-b553-139926f66bfc";default:return"cb9a32fa-b217-4e31-b2e6-905dd8e2116c"}}(i.get(n,"helpType"));t.panelManager.openHelpCenter(a,null,{component:this.props.id,origin:s.BI.HELP.ORIGIN.PANEL,panel_name:"panels.focusPanels.feedbackPanel"});break;case"feedbackclose":this.getEditorAPI().panelManager.closePanelByName(this.props.panelName);break;case"opensitesettings":t.account.openSettings("authorization","feedback")}}},panelWillClose:function(){if(!this.closeTimeout)return this.closeTimeout=window.setTimeout(function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)}.bind(this),s.FEEDBACK.CLOSE_PANEL_TIMEOUT),i.get(this.refs,"iframe.contentWindow")&&this.refs.iframe.contentWindow.postMessage("panelClosed",c()),!1},render:a})}),define("panels/focusPanels/getTrafficPanel.rt",["react","lodash","panels/focusPanels/welcomeVideoPanel","util","baseUI"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{ref:"frame",title:a.translate("Notification_Box_Get_Traffic_Title"),subtitle:a.translate("Notification_Box_Get_Traffic_Description"),linkedVideoData:this.linkedVideoData(),panelName:this.props.panelName,className:"getTrafficPanel",shouldNotCloseOnBlur:!0},e.createElement("div",{className:"get-traffic-description content"},e.createElement("span",{className:"text-before-link"},this.getDescription(0)),e.createElement("a",{className:"get-found-link",href:"#",onClick:function(){this.searchOnGoogle()}.bind(this)},this.getDescription(2)),e.createElement("span",{className:"text-after-link"},this.getDescription(1))),e.createElement("div",{className:"buttons"},e.createElement(s.button,{label:"Notification_Box_Get_Traffic_Submit_Website_Button_Label",onClick:function(){this.getFoundOnGoogle()}.bind(this)})))}}),define("panels/focusPanels/getTrafficPanel",["create-react-class","lodash","core","util","coreBi","panels/focusPanels/getTrafficPanel.rt"],function(e,s,t,n,a,i){"use strict";var o=a,l=n.translate("Notification_Box_Get_Traffic_Video_URL"),r=[];return e({propTypes:{},displayName:"getTrafficPanel",mixins:[t.mixins.editorAPIMixin,n.translationMixin],getFoundOnGoogle:function(){this.sendPanelGetFoundEvent("getFoundOnGoogle");var e=this.translateIfNeeded("Notification_Box_Get_Traffic_Submit_Website_Button_Link");window.open(e,"_blank")},getPublicUrl:function(){var e=this.getEditorAPI().dsRead.generalInfo.getPublicUrl();return e&&(e=e.replace(/.*?:\/\//g,"")),e},searchOnGoogle:function(){var e="https://www.google.co.il/?#q=site:",t=this.getPublicUrl(e),n=e+t;t&&window.open(n,"_blank"),this.sendSearchOnGoogleEvent(n)},getContentClass:function(){return"only-new"},linkedVideoData:function(){return l},getDescription:function(e){if(s.isEmpty(r)){var t="site:"+this.getPublicUrl(),n={domain_address:t},a=this.translateTemplate("Notification_Box_Get_Traffic_Bottom_Text",n,this.getEditorAPI());(r=a.split(t)).push(t)}return r.length>=e?r[e]:""},sendSearchOnGoogleEvent:function(e){var t=this.getEditorAPI(),n=o.events.getTrafficPanel.GET_TRAFFIC_SEARCH_GOOGLE_CLICK,a={site_id:t.dsRead.generalInfo.getSiteId(),url:e};t.bi.event(n,a)},sendPanelGetFoundEvent:function(e){var t=this.getEditorAPI(),n=o.events.getTrafficPanel.GET_TRAFFIC_GET_FOUND_ON_GOOGLE_CLICK,a={site_id:t.dsRead.generalInfo.getSiteId(),origin:e,video_url:l};t.bi.event(n,a)},render:i})}),define("panels/focusPanels/promotionModalPanel.rt",["react","lodash","panels/frames/focusPanelFrame","util","baseUI","santa-editor-symbols"],function(t,n,e,a,s,i){"use strict";return function(){return t.createElement(e,{panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,className:"promo-popup-panel "+this.props.className},function(){var e=this.getImageContainerClass();return t.createElement("header",{className:"panel-header dark"},t.createElement("button",{className:"close",onClick:function(e){this.close()}.bind(this,e)},t.createElement(i.symbol,{name:"headerCloseButton"})),t.createElement("div",{className:"title-line-1"},a.translate(this.props.headerFirstLineText)),this.props.headerSecondLineText?t.createElement("div",{className:"title-line-2",key:"headerSecondLine"},"\n            ",a.translate(this.props.headerSecondLineText),"\n        "):null,t.createElement(e,{className:"image-wrapper",onClick:this.props.isImageLinkActive?this.handleAction.bind(this,"image"):n.noop},t.createElement("img",{ref:"image",src:this.props.imageSrc}),t.createElement("div",{className:"overlay-box-1"}),t.createElement("div",{className:"overlay-box-2"}),t.createElement("div",{className:"overlay-box-3"}),t.createElement(e,{})))}.apply(this,[]),t.createElement("div",{className:"content"},t.createElement("p",{},a.translate(this.props.bodyText),this.props.bodyLinkText?t.createElement("a",{key:"link",onClick:function(){this.handleAction("date kink")}.bind(this)},a.translate(this.props.bodyLinkText)):null),this.props.bodyBottomText?t.createElement("p",{key:"bodyBottomText"},a.translate(this.props.bodyBottomText)):null,t.createElement(s.button,{label:this.props.actionText,onClick:function(){this.handleAction("submission button")}.bind(this)})))}}),define("panels/focusPanels/promotionModalPanel",["create-react-class","prop-types","lodash","core","util","panels/focusPanels/promotionModalPanel.rt"],function(e,t,n,a,s,i){"use strict";return e({displayName:"promotionModalPanel",mixins:[a.mixins.editorAPIMixin],propTypes:{headerFirstLineText:t.string,headerSecondLineText:t.string,imageSrc:t.string,bodyText:t.string,bodyLinkText:t.string,isImageLinkActive:t.bool,actionText:t.string,actionUrl:t.string,biEvent:t.object},getDefaultProps:function(){return{isImageLinkActive:!0}},getImageContainerClass:function(){return this.props.isImageLinkActive?"a":"div"},handleAction:function(e){this.sendSubmitVideoClickedBI(e),window&&window.open(s.translate(this.props.actionUrl))},sendSubmitVideoClickedBI:function(e){var t={origin:e};this.getEditorAPI().bi.event(this.props.biEvent,t)},close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:i})}),define("panels/focusPanels/sizeRestrictionPanel.rt",["react","lodash","constants","panels/focusPanels/popupTemplate"],function(e,t,n,a){"use strict";return function(){return e.createElement(a,{panelName:this.props.panelName,h1text:this.props.title,symbolName:"bigtopin",bodyText:this.props.content,dontShowAgainKey:n.PANELS.PIN_TOO_BIG.PIN_TOO_BIG_DONT_SHOW_AGAIN,helpId:"7827a21e-04e0-4bdd-9ee0-b68677fa7a5a",userPrefType:"site"})}}),define("panels/focusPanels/sizeRestrictionPanel",["create-react-class","core","lodash","stateManagement","coreBi","panels/focusPanels/sizeRestrictionPanel.rt"],function(e,t,n,a,s,i){"use strict";return e({mixins:[t.mixins.editorAPIMixin],displayName:"sizeRestrictionPanel",componentDidMount:function(){var e=this.getEditorAPI(),t=e.store;t.dispatch(a.editorPlugins.bi.actions.event(s.events.pinToScreen.NOTIFICATION_TOO_BIG,{state:this.props.state,component_type:a.editorPlugins.selection.selectors.getSelectedComponentType(t.getState(),e.dsRead)}))},render:i})}),define("panels/focusPanels/newEditorWelcomeScreenPanel.rt",["react","lodash","panels/focusPanels/welcomeVideoPanel","util","baseUI"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{ref:"frame",title:a.translate("Notification_Box_New_Template_Title"),subtitle:a.translate("Notification_Box_New_Template_Subtitle"),linkedVideoData:this.linkedVideoData(),contentClass:this.getContentClass(),content:this.getContent(),panelName:this.props.panelName,shouldNotCloseOnBlur:!0},e.createElement("div",{className:"buttons"},this.props.isEligibleForSwitch?e.createElement(s.button,{label:"Notification_Box_Back_To_Old_Editor",onClick:function(){this.back()}.bind(this),key:"Notification_Box_Back_To_Old_Editor",className:"btn-confirm-secondary"}):null,e.createElement(s.button,{label:this.props.nextBtnLabel,onClick:function(){this.next()}.bind(this)})))}}),define("panels/focusPanels/newEditorWelcomeScreenPanel",["create-react-class","prop-types","lodash","core","util","coreBi","panels/focusPanels/newEditorWelcomeScreenPanel.rt"],function(e,t,n,a,s,i,o){"use strict";var l=i,r=void 0;return e({displayName:"newEditorWelcomeScreenPanel",mixins:[a.mixins.editorAPIMixin],propTypes:{isEligibleForSwitch:t.bool,onNextClick:t.func.isRequired,nextBtnLabel:t.string.isRequired,onBackClick:t.func.isRequired},next:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onNextClick()},back:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onBackClick()},linkClick:function(){var e=this.props.isEligibleForSwitch?"LEARN_MORE_CLICK_WITH_BACK_OPTION":"LEARN_MORE_CLICK_WITHOUT_BACK_OPTION";this.sendBIEvent(e);var t=s.translate("SWITCH_EDITORS_LP_LINK");window&&window.open(t)},getContentClass:function(){return this.props.isEligibleForSwitch?"switch-to-old":"only-new"},getContent:function(){var e={};return this.props.isEligibleForSwitch?(e.line1="Notification_Box_Switch_Editor_Description",e.link="Notification_Box_Switch_Editor_Link",e.line2=""):(e.line1="Notification_Box_New_Template_Line1",e.link="Notification_Box_New_Template_Link",e.line2="Notification_Box_New_Template_Line2"),e},linkedVideoData:function(){return"//www.youtube.com/embed/"+s.translate("SWITCH_EDITORS_PR_VIDEO")},sendBIEvent:function(e){var t=this.getEditorAPI(),n=l.events.newEditorWelcomeScreens[e],a={site_id:t.dsRead.generalInfo.getSiteId()};n.fields.duration&&(a.duration=Date.now()-r),t.bi.event(n,a)},componentDidMount:function(){r=Date.now();var e=this.props.isEligibleForSwitch?"POP_UP_OPEN_WITH_BACK_OPTION":"POP_UP_OPEN_WITHOUT_BACK_OPTION";this.sendBIEvent(e)},render:o})}),define("panels/focusPanels/editorMigrationFailedPanel.rt",["react","lodash","baseUI","panels/frames/focusPanelFrame","util"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(a,{panelName:this.props.panelName,shouldHideHelp:!0,shouldHideHeader:!0,shouldNotCloseOnBlur:!0,isBareMode:!0,className:"editor-compatibility-panel"},e.createElement("header",{className:"save-publish-panel-header header"},e.createElement("div",{className:"header-content"},e.createElement("span",{className:"title"},s.translate("Notification_Box_Wrong_Editor_Title")),e.createElement("div",{className:"subtitle"},s.translate("Notification_Box_Wrong_Editor_Subtitle")))),e.createElement(n.symbol,{name:"coffee",className:"coffee-img"}),e.createElement("div",{className:"content"},e.createElement("div",{},e.createElement("span",{},s.translate("Notification_Box_Wrong_Editor_Line1")),e.createElement("span",{},e.createElement("a",{target:"_blank",href:this.getHref()},s.translate("Notification_Box_Wrong_Editor_Link"))),e.createElement("span",{}," ",s.translate("Notification_Box_Wrong_Editor_Line2"))),e.createElement(n.button,{label:"Notification_Box_Wrong_Editor_Continue",onClick:this.onClick,className:"button"})))}}),define("panels/focusPanels/editorMigrationFailedPanel",["create-react-class","lodash","panels/focusPanels/editorMigrationFailedPanel.rt"],function(e,o,t){"use strict";return e({displayName:"editorMigrationFailedPanel",render:t,onClick:function(){var e,t,n,a,s,i=(e=window.document.location.href,t="forceEditorVersion",n="old",a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),s=o.includes(e,"?")?"&":"?",e.match(a)?e.replace(a,"$1"+t+"="+n+"$2"):e+s+t+"="+n);window.location=i},getHref:function(){return"http://www.wix.com/website/templates/html/new/1"}})}),define("panels/focusPanels/focusPanelMixin",["lodash"],function(e){"use strict";var a=void 0;return{componentDidMount:function(){a=Date.now()},startNow:function(){this.sendPanelClosedBIEvent("startNow"),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.onVideoClosed()},getContentClass:function(){return"only-new"},sendBIEventWhenClosedByX:function(){this.sendPanelClosedBIEvent("xButton"),this.onVideoClosed()},sendBIEventWhenClosedByESC:function(){this.sendPanelClosedBIEvent("ESC"),this.onVideoClosed()},onVideoClosed:function(){e.isFunction(this.openTooltip)&&this.openTooltip()},sendPanelClosedBIEvent:function(e){var t=this.getEditorAPI(),n={site_id:t.dsRead.generalInfo.getSiteId(),duration:Date.now()-a,origin:e,video_url:this.props.linkedVideoData,panel_name:this.constructor.displayName};t.bi.event(this.getBIEvent(),n)}}}),define("panels/focusPanels/welcomeScreenVideoPanel.rt",["react","lodash","panels/focusPanels/welcomeVideoPanel","util","baseUI"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{ref:"frame",title:this.props.title,subtitle:this.props.subtitle,linkedVideoData:this.props.linkedVideoData,panelName:this.props.panelName,onCloseByX:this.sendBIEventWhenClosedByX,onCloseByESC:this.sendBIEventWhenClosedByESC,shouldNotCloseOnBlur:!0},e.createElement("div",{className:"buttons"},e.createElement(s.button,{label:this.props.buttonLabel,onClick:function(){this.startNow()}.bind(this)})))}}),define("panels/focusPanels/newUserIntroVideoPanel",["create-react-class","lodash","core","panels/focusPanels/focusPanelMixin","coreBi","panels/focusPanels/welcomeScreenVideoPanel.rt"],function(e,t,n,a,s,i){"use strict";var o=s;return e({displayName:"newUserIntroVideoPanel",mixins:[n.mixins.editorAPIMixin,a],getBIEvent:function(){return o.events.newUserIntroVideoPanel.INTRO_VIDEO_CLOSE},render:i})}),define("panels/focusPanels/cameFromADIVideoPanel",["create-react-class","lodash","core","util","panels/focusPanels/focusPanelMixin","coreBi","panels/focusPanels/welcomeScreenVideoPanel.rt","experiment","stateManagement"],function(e,t,n,a,s,i,o,l,r){"use strict";var c=i;return e({displayName:"ADIVideoPanel",mixins:[n.mixins.editorAPIMixin,s],openTooltip:function(){l.isOpen("se_backToADIFromEditor")&&(this.getEditorAPI().store.dispatch(r.editorPlugins.topBarTooltip.actions.showBackToAdiTooltip()),this.sendTooltipOpenedBI())},getBIEvent:function(){return c.events.cameFromADIVideoPanel.CAME_FROM_ADI_INTRO_VIDEO_CLOSE},sendTooltipOpenedBI:function(){var e=this.getEditorAPI();e.bi.event(i.events.backToADIFromEditor.goingBackToWixADITooltipOpened,{esi:a.editorModel.editorSessionId,site_id:e.dsRead.generalInfo.getSiteId()})},render:o})}),define("panels/focusPanels/migratedToMeshSuccessPanel",["create-react-class","core","panels/focusPanels/focusPanelMixin","panels/focusPanels/welcomeScreenVideoPanel.rt"],function(e,t,n,a){"use strict";return e({displayName:"migratedToMeshSuccessPanel",mixins:[t.mixins.editorAPIMixin,n],getBIEvent:function(){return null},render:a})}),define("panels/focusPanels/howToVideoPlayer.rt",["react","lodash","baseUI","panels/frames/emptyPanelFrame"],function(e,t,n,a){"use strict";return function(){return e.createElement(a,{panelName:"howToVideoPlayer",className:"how-to-video-player panel-frame-container"},e.createElement("div",{key:"darkOverlay",className:t({"dark-overlay":this.props.withOverlay,"close-overlay":!this.props.withOverlay}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onClick:this.handleClickClose}),e.createElement("div",{className:t({"container-iframe":!0,"with-shadow":this.props.withShadow}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},e.createElement("div",{className:"close",onClick:this.handleClickClose},e.createElement(n.symbol,{name:"close_video_icon_reg"})),e.createElement("iframe",{id:"how-to-video-player-iframe",src:this.getIframeSrcUrl()})))}}),define("panels/focusPanels/howToVideoPlayer",["create-react-class","prop-types","core","lodash","panels/focusPanels/howToVideoPlayer.rt","coreBi","panels/mixins/disableKeyboardShortcutsMixin"],function(e,t,n,a,s,i,o){"use strict";return e({displayName:"howToVideoPlayer",mixins:[o,n.mixins.editorAPIMixin],propTypes:{videoId:t.string.isRequired,origin:t.string.isRequired,withShadow:t.bool,withOverlay:t.bool},getDefaultProps:function(){return{withShadow:!0,withOverlay:!0}},componentDidMount:function(){var e={videoID:this.props.videoId,origin:this.props.origin};this.getEditorAPI().bi.event(i.events.videoPlayer.OPEN,e),this.startTime=Date.now(),window.focus();var t=function(){new window.YT.Player("how-to-video-player-iframe",{events:{onStateChange:function(e){e.data===window.YT.PlayerState.ENDED&&this.close({code:"VIDEO_ENDED"})}.bind(this)}})};if(window.YT)window.YT.Player&&window.YT.PlayerState&&t.call(this);else{window.onYouTubeIframeAPIReady=function(){t.call(this),delete window.onYouTubeIframeAPIReady}.bind(this);var n=window.document.createElement("script");n.type="text/javascript",n.src="//www.youtube.com/iframe_api",window.document.head.appendChild(n)}},getIframeSrcUrl:function(){return"https://www.youtube.com/embed/"+this.props.videoId+"?rel=0&autoplay=1&color=red&controls=1&showinfo=0&fs=0&enablejsapi=1&origin=http://editor.wix.com&modestbranding=1"},close:function(e){var t=this.getEditorAPI(),n={videoID:this.props.videoId,duration:Date.now()-this.startTime,origin:e.code};t.bi.event(i.events.videoPlayer.CLOSE,n),t.panelManager.closePanelByName(this.props.panelName)},handleClickClose:function(){this.close({code:"X_BUTTON"})},handleClickOverlay:function(){this.close({code:"CLOSE_OVERLAY"})},getKeyboardShortcuts:function(){return{esc:this.close}},render:s})}),define("panels/focusPanels/newEditorListWelcomeScreenPanel.rt",["react","lodash","panels/frames/focusPanelFrame","baseUI","util","santa-editor-symbols"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement(n,{ref:"frame",panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,isBareMode:!0,className:"new-editor-list-welcome-screen-panel"},e.createElement("header",{className:"panel-header dark",key:"header"},e.createElement("div",{className:"welcome-panel-header-title"},s.translate("list_migration_welcome_screen_title")),e.createElement(i.symbol,{name:"listWelcomeScreenAsset"})),e.createElement("div",{className:t({content:!0,"only-new":!this.props.isEligibleForSwitch,"switch-to-old":this.props.isEligibleForSwitch}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},e.createElement("p",{},"\n            ",s.translate("list_migration_welcome_screen_text_paragraph_1_before_changes_link"),"\n            ",e.createElement("a",{href:this.getChangesPageUrl(),target:"_blank"},s.translate("list_migration_welcome_screen_text_paragraph_1_changes_link")),s.translate("list_migration_welcome_screen_text_paragraph_1_after_changes_link"),"\n        "),e.createElement("p",{},s.translate("list_migration_welcome_screen_text_paragraph_2"))),e.createElement("div",{className:"buttons"},this.props.isEligibleForSwitch?e.createElement(a.button,{label:"Notification_Box_Back_To_Old_Editor",onClick:function(){this.back()}.bind(this),key:"Notification_Box_Back_To_Old_Editor",className:"btn-confirm-secondary"}):null,e.createElement(a.button,{label:"Notification_Box_Start_Now",onClick:function(){this.next()}.bind(this)})))}}),define("panels/focusPanels/newEditorListWelcomeScreenPanel",["create-react-class","prop-types","lodash","util","panels/focusPanels/newEditorListWelcomeScreenPanel.rt"],function(e,t,n,a,s){"use strict";return e({displayName:"newEditorListWelcomeScreen",propTypes:{isEligibleForSwitch:t.bool,onNextClick:t.func.isRequired,onBackClick:t.func.isRequired},next:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onNextClick()},back:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onBackClick()},getChangesPageUrl:function(){var e=a.languages.getLanguageCode();return"https://www.wix.com/support/html5/new-wix-editor-june-2015/list/kb/information-about-moving-to-the-new-editor-with-the-list-builder".replace("www.wix.com",("en"===e?"www":e)+".wix.com")},render:s})}),define("panels/focusPanels/migrateToMeshWelcomeScreenPanel.rt",["react","lodash","panels/frames/focusPanelFrame","baseUI","util","santa-editor-symbols"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement(n,{ref:"frame",panelName:this.props.panelName,shouldHideHeader:!0,shouldHideHelp:!0,isBareMode:!0,className:"migrate-to-mesh-welcome-screen-panel"},e.createElement("header",{className:"panel-header dark",key:"header"},e.createElement("div",{className:"welcome-panel-header-title"},"Mesh - Boost your site"),e.createElement(i.symbol,{name:"listWelcomeScreenAsset"})),e.createElement("div",{className:t({content:!0}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},e.createElement("p",{},"\n            Make your site load faster with our new Layout system\n        "),e.createElement("p",{},"This may take a few minutes if you choose to migrate")),e.createElement("div",{className:"buttons"},e.createElement(a.button,{label:"Maybe Later",shouldTranslate:!1,disabled:this.state.isMigrating,onClick:function(){this.cancel()}.bind(this),className:"btn-confirm-secondary"}),e.createElement(a.button,{label:"Notification_Box_Start_Now",disabled:this.state.isMigrating,onClick:function(){this.migrateToMesh()}.bind(this)})))}}),define("panels/focusPanels/migrateToMeshWelcomeScreenPanel",["create-react-class","prop-types","panels/focusPanels/migrateToMeshWelcomeScreenPanel.rt"],function(e,t,n){"use strict";return e({displayName:"migrateToMeshWelcomeScreen",propTypes:{panelManager:t.object.isRequired,onConfirm:t.func.isRequired,onCancel:t.func.isRequired},getInitialState:function(){return{isMigrating:!1}},migrateToMesh:function(){var e=this,t=Date.now();this.setState({isMigrating:!0}),this.props.onConfirm(function(){console.log("site successfully migrated to Mesh in "+(Date.now()-t)+" ms"),e.props.panelManager.closePanelByName(e.props.panelName),e.props.panelManager.openPanel("panels.focusPanels.migratedToMeshSuccessPanel",{title:"Success",subtitle:"Fasten your seat belt, your site is now migrated to Mesh!",linkedVideoData:"https://www.youtube.com/embed/Rzu5UK6fVm8?modestbranding=0;rel=0&frameborder=0;allowfullscreen=0;autoplay=1;controls=0;autohide=1;showinfo=0",buttonLabel:"tpa_messages_ok"})},function(){console.log("site failed Mesh migration :("),e.props.panelManager.closePanelByName(e.props.panelName)})},cancel:function(){this.props.onCancel(),this.props.panelManager.closePanelByName(this.props.panelName)},render:n})}),define("panels/focusPanels/createNewTextBoxPanel.rt",["react","lodash","core","panels/focusPanels/popupTemplate"],function(e,t,n,a){"use strict";return function(){return e.createElement(a,{panelName:this.props.panelName,h1text:"text_box_too_much_text_error_message_title",symbolName:"createNewTextBox",bodyText:"text_box_too_much_text_error_message_text",hideDontShowCheckbox:!0,isSingleInstance:this.props.isSingleInstance})}}),define("panels/focusPanels/createNewTextBoxPanel",["create-react-class","core","panels/focusPanels/createNewTextBoxPanel.rt"],function(e,t,n){"use strict";return e({displayName:"createNewTextBoxPanel",mixins:[t.mixins.editorAPIMixin],render:n})}),define("panels/focusPanels/siteImageOptimizationPanel.rt",["react","lodash","baseUILib","core","baseUI","panels/frames/focusPanelFrame","util","helpIds"],function(e,t,n,a,s,i,o,l){"use strict";return function(){return e.createElement(i,{panelName:this.props.panelName,title:o.translate("SITE_IMAGE_QUALITY_SETTINGS_PANEL_HEADER_TITLE"),ref:"frame",helpId:l.SETTINGS.IMAGE_OPTIMIZATION,className:"site-image-optimisation-panel"},e.createElement(n.Composites.Thumbnails,{},e.createElement(n.TextLabel,{value:"SITE_IMAGE_QUALITY_SETTINGS_PANEL_DESCRIPTION",enableEllipsis:!1}),e.createElement(n.Thumbnails,{value:this.linkedQualityPresets().value,onChange:this.linkedQualityPresets().requestChange,maxThumbsPerRow:3,borderType:"thumbnailAndLabel",options:this.getImageQualityPresetsOptions()})),e.createElement(n.Divider,{long:!0}),e.createElement("div",{className:"action-buttons"},e.createElement(s.button2,{label:"SITE_IMAGE_QUALITY_SETTINGS_PANEL_CANCEL_BUTTON",onClick:this.closeImageQualityPanel,className:"default image-optimisation-cancel"}),e.createElement(s.button2,{label:"SITE_IMAGE_QUALITY_SETTINGS_PANEL_APPLY_BUTTON",disabled:this.isApplyDisabled(),onClick:this.handleApplyQuality,className:"default image-optimisation-done"})))}}),define("panels/focusPanels/siteImageOptimizationPanel",["core","react","santa-editor-symbols","baseUILib","create-react-class","prop-types","lodash","coreBi","panels/focusPanels/siteImageOptimizationPanel.rt"],function(e,t,n,a,s,i,o,l,r){"use strict";var c=["none","mild","regular","moderate","strong","maximum"],p=[{unsharpMask:{radius:0,amount:0,threshold:0},quality:90},{unsharpMask:{radius:.33,amount:1,threshold:0}},{unsharpMask:{radius:.66,amount:1,threshold:.01}},{unsharpMask:{radius:1.2,amount:1,threshold:.01}},{unsharpMask:{radius:2,amount:1,threshold:0}},{unsharpMask:{radius:4,amount:1,threshold:0}}],u=[{value:0,label:"IMAGE_QUALITY_NAME_NONE",illustration:t.createElement(a.Tooltip,{content:"IMAGE_QUALITY_NAME_NONE_TOOLTIP",alignment:"TOP",marginTop:23},t.createElement(n.symbol,{name:"image-quality-none"}))},{value:1,label:"IMAGE_QUALITY_NAME_GLOBAL_MILD",illustration:t.createElement(a.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_MILD_TOOLTIP",alignment:"TOP",marginTop:23},t.createElement(n.symbol,{name:"image-quality-mild"}))},{value:2,label:"IMAGE_QUALITY_NAME_GLOBAL_REGULAR",illustration:t.createElement(a.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_REGULAR_TOOLTIP",alignment:"TOP",marginTop:23},t.createElement(n.symbol,{name:"image-quality-regular"}))},{value:3,label:"IMAGE_QUALITY_NAME_GLOBAL_MODERATE",illustration:t.createElement(a.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_MODERATE_TOOLTIP",alignment:"TOP",marginTop:23},t.createElement(n.symbol,{name:"image-quality-moderate"}))},{value:4,label:"IMAGE_QUALITY_NAME_GLOBAL_STRONG",illustration:t.createElement(a.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_STRONG_TOOLTIP",alignment:"TOP",marginTop:23},t.createElement(n.symbol,{name:"image-quality-strong"}))},{value:5,label:"IMAGE_QUALITY_NAME_GLOBAL_MAXIMUM",illustration:t.createElement(a.Tooltip,{content:"IMAGE_QUALITY_NAME_GLOBAL_MAXIMUM_TOOLTIP",alignment:"TOP",marginTop:23},t.createElement(n.symbol,{name:"image-quality-maximum"}))}];return s({mixins:[e.mixins.editorAPIMixin],displayName:"siteImageOptimization",propTypes:{unsharpMask:i.shape({radius:i.number,amount:i.number,threshold:i.number})},getInitialState:function(){var t,e,n=this.getGlobalImageQualityData()||p[2];return{selectedIndex:(t=n,e=p,o.findIndex(e,function(e){return o.isEqual(e,t)})),selectedValue:n}},getImageQualityPresetsOptions:function(){return u},linkedQualityPresets:function(){return{value:this.state.selectedIndex,requestChange:function(e){this.setState({selectedValue:p[e],selectedIndex:e})}.bind(this)}},handleApplyQuality:function(){this.isApplyDisabled()||(this.updateGlobalImageQualityData(this.state.selectedValue),this.sendQualityApplyBI(this.state.selectedIndex),this.closeImageQualityPanel())},sendQualityApplyBI:function(e){var t=this.state.selectedValue;this.getEditorAPI().bi.event(l.events.siteImageQualitySettingsPanel.site_image_quality_settings_panel_apply,{origin:"global",preset:c[e]||"custom",unsharp_amount:100*t.unsharpMask.amount,unsharp_radius:100*t.unsharpMask.radius,unsharp_threshold:100*t.unsharpMask.threshold})},closeImageQualityPanel:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},isApplyDisabled:function(){var e=this.getGlobalImageQualityData();return-1===this.state.selectedIndex||!this.getGlobalImageQualityData()&&2===this.state.selectedIndex||o.isEqual(e,this.state.selectedValue)},getGlobalImageQualityData:function(){var e=this.getEditorAPI().dsRead.media.imageQuality.get();return o.isEmpty(e)?null:o.pick(e,["unsharpMask","quality"])},updateGlobalImageQualityData:function(e){var t=this.getEditorAPI();t.dsActions.media.imageQuality.reset(),t.dsActions.media.imageQuality.update(e),t.dsActions.wixapps.classics.reloadApp("blog"),this.getEditorAPI().history.add("site image quality panel - update quality")},render:r})}),define("panels/focusPanels/siteMembersSettingsNewPanel.rt",["react","lodash","baseUILib","baseUI","panels/frames/focusPanelFrame","util","helpIds","experiment"],function(s,i,o,l,n,a,e,t){"use strict";return function(){function t(e){var t=this.getTabValues();return s.createElement("div",{className:"member-settings-panel-content"},s.createElement(l.horizontalTabs,{shouldTranslate:!0,options:this.getTabs(),value:this.state.selectedTab,onChange:this.selectTab,className:"tabbed"}),s.createElement("div",{className:this.getTabContentClass()},s.createElement(o.Composites.RichText,{},s.createElement(o.RichText,{className:"light"},e("Pages_Member_Signup_Settings_Description"))),this.state.selectedTab===t.GENERAL?s.createElement("div",{className:"general-settings settings",key:"smSettingsTab"},s.createElement(o.CustomScroll,{heightRelativeToParent:"100%"},s.createElement(o.Divider,{}),s.createElement(o.Composites.RadioButtonsLabeled,{},s.createElement(o.InfoIcon,{shouldTranslate:!0,text:"Member_Login_Settings_General_Settings_Info_Tooltip"}),s.createElement(o.TextLabel,{value:"Pages_Member_Signup_Permission_Settings_Dropdown_Label"}),s.createElement(o.RadioButtons,{value:this.state.autoApproval,options:this.getAutoApprovalOptions(),onChange:i.partial(this.onRadioButtonsClick,"autoApproval")})),s.createElement(o.Divider,{}),s.createElement(o.Composites.RadioButtonsLabeled,{},s.createElement(o.TextLabel,{value:"Pages_Member_Signup_Display_Settings_Dropdown_Label"}),s.createElement(o.RadioButtons,{value:this.state.loginDialogFirst,options:this.getLoginFirstOptions(),onChange:i.partial(this.onRadioButtonsClick,"loginDialogFirst")})),this.isDeveloperModeEnabled()&&this.isCustomSignupExperimentEnabled()?s.createElement("div",{key:"customSignupSection"},s.createElement(o.Divider,{}),s.createElement(o.Composites.RichTextLabeled,{},s.createElement(o.TextLabel,{disabled:!0,value:"Pages_Member_Signup_Settings_Custom_Signup_Label",shouldTranslate:!0}),s.createElement(o.RichText,{},s.createElement("a",{onClick:this.openCustomSignupPanel},this.getCustomSignupLinkText())))):null)):null,this.state.selectedTab===t.SOCIAL?s.createElement("div",{className:"social-login-settings settings",key:"smSocialLoginSettingsSection"},s.createElement(o.CustomScroll,{heightRelativeToParent:"100%"},s.createElement(o.Divider,{long:!0}),s.createElement(o.SectionDivider,{},e("Pages_Member_Signup_Settings_Social_Label"),"\n                    "),s.createElement(o.Divider,{long:!0}),s.createElement("div",{className:"options"},s.createElement("section",{className:"social-option"},s.createElement(l.symbol,{name:"mba_social_panel_google_plus_new",className:"icon google"}),s.createElement(l.toggle,{name:"switch",valueLink:this.linkState("socialLoginGoogleEnabled"),label:"Member_Login_Settings_Social_Google"})),s.createElement(o.Divider,{long:!0}),s.createElement("section",{className:"social-option"},s.createElement(l.symbol,{name:"mba_social_panel_facebook",className:"icon facebook"}),s.createElement(l.toggle,{name:"switch",valueLink:this.linkState("socialLoginFacebookEnabled"),label:"Member_Login_Settings_Social_Facebook"}))),this.isSocialAppInstalled()?s.createElement("div",{key:"shouldDisplayCommunityToggle"},s.createElement(o.Divider,{long:!0}),s.createElement(o.Composites.SectionDividerWithInfoIcon,{},s.createElement(o.InfoIcon,{shouldTranslate:!0,text:"Member_Login_Settings_Community_Settings_Info_Tooltip"}),s.createElement(o.SectionDivider,{},"\n                                ",e("Member_Login_Settings_Settings_Community_Label"),"\n                            ")),s.createElement(o.Divider,{long:!0}),s.createElement("div",{className:"options"},s.createElement("section",{className:"social-option"},s.createElement(l.symbol,{name:"communityIcon",className:"icon community"}),s.createElement(l.toggle,{name:"switch",valueLink:this.linkState("joinCommunityEnabled"),label:"Member_Login_Settings_Community_Join"})))):null)):null,this.state.selectedTab===t.TERMS_AND_CONDITIONS?function(e,t){var n=this,a=this.getArticles();return s.createElement("div",{className:"signup-policies-settings settings",key:"smSignupPoliciesSection"},s.createElement(o.CustomScroll,{heightRelativeToParent:"100%"},s.createElement("div",{className:"policies-segment-header"},s.createElement(o.Divider,{long:!0}),s.createElement(o.Composites.SectionDividerWithInfoIcon,{},s.createElement(o.InfoIcon,{shouldTranslate:!0,linkText:"Pages_Member_Signup_Settings_Terms_Of_Use_Link_Label_",onLinkClick:function(){return n.openExamplePolicy(a.TERMS_OF_USE)},text:"Pages_Member_Signup_Settings_Terms_Of_Use_Info_Tooltip"}),s.createElement(o.SectionDivider,{},e("Pages_Member_Signup_Settings_Terms_Of_Use_Divider_Label"),"\n                            ")),s.createElement(o.Divider,{long:!0})),s.createElement("div",{className:"options"},s.createElement("section",{className:"option"},s.createElement(l.toggle,{name:"switch",value:this.state.termsOfUseLinkVisible,onChange:i.partial(this.toggleEditPoliciesVisibility,"termsOfUseLinkVisible"),label:"Pages_Member_Signup_Settings_Terms_Of_Use_Toggle_Label"}))),this.state.termsOfUseLinkVisible?s.createElement("div",{key:"ifTermsOfUseVisible",className:"policy-link-area"},s.createElement("div",{className:"policy-toggle-divider"},s.createElement(o.Divider,{})),s.createElement(o.Composites.ActionWithSymbolLabeled,{},s.createElement(o.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),s.createElement(o.ActionWithSymbol,{action:i.partial(this.openLinkPanelFor,"termsOfUseLink")},s.createElement(o.TextLabel,{value:this.getLabelForPolicyPage("termsOfUseLink"),shouldTranslate:!1})))):null,s.createElement("div",{className:"policies-segment-header"},s.createElement(o.Divider,{long:!0}),s.createElement(o.Composites.SectionDividerWithInfoIcon,{},s.createElement(o.InfoIcon,{shouldTranslate:!0,linkText:"Pages_Member_Signup_Settings_Terms_Of_Use_Link_Label_",onLinkClick:function(){return n.openExamplePolicy(a.PRIVACY_POLICY)},text:"Pages_Member_Signup_Settings_Privacy_Policy_Tooltip"}),s.createElement(o.SectionDivider,{},e("Pages_Member_Signup_Settings_Privacy_Policy_Divider_Label"),"\n                            ")),s.createElement(o.Divider,{long:!0})),s.createElement("div",{className:"options"},s.createElement("section",{className:"option"},s.createElement(l.toggle,{name:"switch",value:this.state.privacyPolicyLinkVisible,onChange:i.partial(this.toggleEditPoliciesVisibility,"privacyPolicyLinkVisible"),label:"Pages_Member_Signup_Settings_Privacy_Policy_Toggle_Label"}))),this.state.privacyPolicyLinkVisible?s.createElement("div",{key:"ifPrivacyPolicyVisible",className:"policy-link-area"},s.createElement("div",{className:"policy-toggle-divider"},s.createElement(o.Divider,{})),s.createElement(o.Composites.ActionWithSymbolLabeled,{},s.createElement(o.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),s.createElement(o.ActionWithSymbol,{action:i.partial(this.openLinkPanelFor,"privacyPolicyLink")},s.createElement(o.TextLabel,{value:this.getLabelForPolicyPage("privacyPolicyLink"),shouldTranslate:!1})))):null,this.isSocialAppInstalled()?s.createElement("div",{key:"shouldShowCodeOfConductSection"},s.createElement("div",{className:"policies-segment-header"},s.createElement(o.Divider,{long:!0}),s.createElement(o.Composites.SectionDividerWithInfoIcon,{},s.createElement(o.SectionDivider,{},"\n                                    ",e("Pages_Member_Signup_Settings_Code_Of_Conduct_Divider_Label"),"\n                                ")),s.createElement(o.Divider,{long:!0})),s.createElement("div",{className:"options"},s.createElement("section",{className:"option"},s.createElement(l.toggle,{name:"switch",value:this.state.codeOfConductLinkVisible,onChange:i.partial(this.toggleEditPoliciesVisibility,"codeOfConductLinkVisible"),label:"Pages_Member_Signup_Settings_Code_Of_Conduct_Toggle_Label"}))),this.state.codeOfConductLinkVisible?s.createElement("div",{key:"ifCodeOfConductVisible",className:"policy-link-area"},s.createElement("div",{className:"policy-toggle-divider"},s.createElement(o.Divider,{})),s.createElement(o.Composites.ActionWithSymbolLabeled,{},s.createElement(o.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),s.createElement(o.ActionWithSymbol,{action:i.partial(this.openLinkPanelFor,"codeOfConductLink")},s.createElement(o.TextLabel,{value:this.getLabelForPolicyPage("codeOfConductLink"),shouldTranslate:!1})))):null):null))}.apply(this,[e,t]):null),s.createElement(o.Divider,{long:!0}),s.createElement("footer",{className:"actions"},s.createElement(l.button,{label:"Pages_Member_Signup_Settings_Done",onClick:this.applySettings,className:"btn-confirm-primary btn-md done-button"})))}return function(){var e=a.translate;return s.createElement(n,{panelName:this.props.panelName,title:e("Pages_Member_Signup_Settings_Title"),ref:"frame",helpId:this.getTabHelpId(),className:"site-members-settings-new-panel"},this.isCustomSignupExperimentEnabled()&&this.isCustomSignupEnabled()?s.createElement("div",{key:"isCustomSignupEnabled"},s.createElement(o.Composites.Banner,{},s.createElement(o.InfoIcon,{shouldTranslate:!0,text:"Pages_Member_Signup_Settings_Custom_Signup_Banner_Info_Tooltip_Content"}),s.createElement(o.SectionDivider,{},s.createElement(o.TextLabel,{value:"Pages_Member_Signup_Settings_Custom_Signup_Banner_Label",shouldTranslate:!0})))):null,t.apply(this,[e]))}.apply(this,[])}}),define("panels/focusPanels/siteMembersSettingsPanel",["react-addons-linked-state-mixin","react","create-react-class","lodash","core","helpIds","santa-editor-symbols","panels/focusPanels/siteMembersSettingsNewPanel.rt","pmrpc","coreBi","util","experiment"],function(e,t,n,l,a,s,i,o,r,c,p,u){"use strict";var d="google",m="facebook",h={TERMS_OF_USE:"termsOfUse",PRIVACY:"privacyPolicy",CODE_OF_CONDUCT:"codeOfConduct"},g={GENERAL:"general",SOCIAL:"social",TERMS_AND_CONDITIONS:"terms"},f={TERMS_OF_USE:s.SITE_MEMBERS.TERMS_OF_USE_EXAMPLE,PRIVACY_POLICY:s.SITE_MEMBERS.PRIVACY_POLICY_EXAMPLE};return n({displayName:"siteMembersSettingsPanel",mixins:[a.mixins.editorAPIMixin,e],getInitialState:function(){var e=this.getEditorAPI();return{selectedTab:g.GENERAL,autoApproval:e.siteMembers.isAutoApproval(),loginDialogFirst:e.siteMembers.isLoginDialogFirst(),socialLoginGoogleEnabled:e.siteMembers.isSocialLoginEnabled(d),socialLoginFacebookEnabled:e.siteMembers.isSocialLoginEnabled(m),termsOfUseLinkVisible:e.siteMembers.isSignupPoliciesFieldEnabled(h.TERMS_OF_USE),privacyPolicyLinkVisible:e.siteMembers.isSignupPoliciesFieldEnabled(h.PRIVACY),codeOfConductLinkVisible:e.siteMembers.isSignupPoliciesFieldEnabled(h.CODE_OF_CONDUCT),termsOfUseLink:e.siteMembers.getSignupPoliciesLink(h.TERMS_OF_USE),privacyPolicyLink:e.siteMembers.getSignupPoliciesLink(h.PRIVACY),codeOfConductLink:e.siteMembers.getSignupPoliciesLink(h.CODE_OF_CONDUCT),joinCommunityEnabled:!0,hasSocialPages:!1}},isCustomSignupExperimentEnabled:function(){return u.isOpen("se_customSignupLightbox")},componentWillMount:function(){var e,t,n,a=this,s=this.getEditorAPI(),i=s.dsRead.tpa.app.getDataByAppDefId("14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9");i&&(e=s,t=i,n=function(e){return e.hasSocialPages().then(function(e){var t=s.siteMembers.isJoinCommunityEnabled();a.setState({hasSocialPages:e,joinCommunityEnabled:!l.isBoolean(t)||t})})},r.api.request(t.applicationId,{target:e.dsRead.platform.getAppsContainer()}).then(n).catch(function(){n({Error:"Application API not found."})}))},closePanel:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},getTabs:function(){return[{label:"Member_Login_Settings_General_Tab_Title",value:g.GENERAL},{label:"Member_Login_Settings_Social_Tab_Title",value:g.SOCIAL},{label:"Member_Login_Settings_Policies_Tab_Title",value:g.TERMS_AND_CONDITIONS}]},getLabelForPolicyPage:function(e){return this.state[e+"Item"]?p.link.getLinkValueAsString(this.getEditorAPI(),this.state[e+"Item"]):this.state[e]?p.link.getLinkValueAsString(this.getEditorAPI(),this.getEditorAPI().data.getById(this.state[e].replace("#",""))):p.translate("Pages_Member_Signup_Settings_Policies_Link_Label")},getTabValues:function(){return g},getArticles:function(){return f},selectTab:function(e){this.setState({selectedTab:e})},isSocialAppInstalled:function(){return this.state.hasSocialPages},toggleEditPoliciesVisibility:function(e){this.setState(_defineProperty({},e,!this.state[e]))},linkPanelCallback:function(e,t){l.isObject(t)&&this.setState(_defineProperty({},e+"Item",t)),l.isString(t)&&this.setState(_defineProperty({},""+e,t)),this.getEditorAPI().bi.event(c.events.topbar.pages.top_bar_PAGES_settings_signup_link_to_policy,{name:e,action:"set-link",type:l.isObject(t)?t.type:this.getEditorAPI().data.getById(t.replace("#",""))})},applySettings:function(){var s=this,i=this.getEditorAPI().siteMembers,e=this.state,t=e.autoApproval,n=e.loginDialogFirst,a=e.socialLoginGoogleEnabled,o=e.socialLoginFacebookEnabled;i.isAutoApproval()!==t&&i.setAutoApproval(t),i.isLoginDialogFirst()!==n&&(i.setLoginDialogFirst(n),this.getEditorAPI().bi.event(c.events.topbar.pages.top_bar_PAGES_settings_signup_settings,{name:"shown first",value:this.state.loginDialogFirst?"login":"signup"})),i.isSocialLoginEnabled(d)!==a&&(i.setSocialLoginVendorStatus(d,a),this.getEditorAPI().bi.event(c.events.topbar.pages.top_bar_PAGES_settings_google_login_changed,{googlePlus:a})),i.isSocialLoginEnabled(m)!==o&&(i.setSocialLoginVendorStatus(m,o),this.getEditorAPI().bi.event(c.events.topbar.pages.top_bar_PAGES_settings_facebook_login_changed,{facebook:o})),this.isSocialAppInstalled()&&this.state.hasSocialPages&&i.isJoinCommunityEnabled()!==this.state.joinCommunityEnabled&&(i.setJoinCommunityStatus(this.state.joinCommunityEnabled),this.getEditorAPI().bi.event(c.events.topbar.pages.top_bar_PAGES_settings_signup_settings,{name:"join the community",value:this.state.joinCommunityEnabled?"checked":"unchecked"})),l.forEach(l.values(h),function(e){var t,n,a;t=i,n=s.state,a=e,t.isSignupPoliciesFieldEnabled(a)!==n[a+"LinkVisible"]&&(n[a+"LinkItem"]||n[a+"Link"])&&(i.setSignupPoliciesFieldStatus(e,s.state[e+"LinkVisible"]),s.getEditorAPI().bi.event(c.events.topbar.pages.top_bar_PAGES_settings_signup_settings,{name:e,value:s.state[e+"LinkVisible"]?"on":"off"})),s.state[e+"LinkItem"]&&i.setSignupPoliciesLink(e,s.state[e+"LinkItem"])}),this.closePanel()},openHowToHelpCenter:function(){this.getEditorAPI().panelManager.openHelpCenter(s.SITE_MEMBERS.HOW_TO,{},{origin:this.props.panelName,panel_name:this.props.panelName})},openExamplePolicy:function(e){this.getEditorAPI().panelManager.openHelpCenter(e,{},{})},getAutoApprovalOptions:function(){return[{label:"Pages_Member_Signup_Permission_Settings_Dropdown_Automatic",value:!0},{label:"Pages_Member_Signup_Permission_Settings_Dropdown_Manual",value:!1}]},getLoginFirstOptions:function(){return[{label:"Pages_Member_Signup_Display_Settings_Dropdown_Signup",value:!1},{label:"Pages_Member_Signup_Display_Settings_Dropdown_Login",value:!0}]},onRadioButtonsClick:function(e,t){this.setState(_defineProperty({},e,t))},getGoogleSymbol:function(){return t.createElement(i.symbol,{name:"mba_social_panel_google_plus_new"})},getFacebookSymbol:function(){return t.createElement(i.symbol,{name:"mba_social_panel_facebook"})},openLinkPanelFor:function(e){var t,n,a,s=this.getEditorAPI();s.openLinkPanel({visibleSections:{PageLink:!0,AnchorLink:!0,NoLink:!1,PhoneLink:!1,WhatsAppLink:!1,ExternalLink:!1,EmailLink:!1,DocumentLink:!1,LoginToWixLink:!1,EdgeAnchorLinks:!1,PopupLink:!1},link:(t=s,n=this.state,a=e,n[a+"Item"]?n[a+"Item"]:n[a]?t.data.getById(n[a].replace("#","")):null),showAllPopups:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"Pages_Member_Signup_Settings_Policies_Link_Header",callback:l.partial(this.linkPanelCallback,e)}),this.getEditorAPI().bi.event(c.events.topbar.pages.top_bar_PAGES_settings_signup_link_to_policy,{name:e,action:"click",type:"none"})},isDeveloperModeEnabled:function(){return this.getEditorAPI().developerMode.isEnabled()},isCustomSignupEnabled:function(){return!!this.getEditorAPI().siteMembers.getCustomSignupPageId()},getCustomSignupLinkText:function(){return this.isCustomSignupEnabled()?p.translate("Pages_Member_Signup_Settings_Custom_Signup_Edit_Link"):p.translate("Pages_Member_Signup_Settings_Custom_Signup_Enable_Link")},getTabContentClass:function(){return"tab-content "+(this.isCustomSignupExperimentEnabled()&&this.isCustomSignupEnabled()?"with-banner":"")},openCustomSignupPanel:function(){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.customSignupSettingsPanel",{panelName:"panels.toolPanels.customSignupSettingsPanel"},!0),this.getEditorAPI().bi.event(c.events.topbar.pages.custom_signup_enable)},getTabHelpId:function(){switch(this.state.selectedTab){case g.GENERAL:return s.SITE_MEMBERS.GENERAL;case g.SOCIAL:return s.SITE_MEMBERS.SOCIAL_AND_COMMUNITY;case g.TERMS_AND_CONDITIONS:return s.SITE_MEMBERS.POLICIES;default:return s.SITE_MEMBERS.SETTINGS}},render:function(){return o.apply(this)}})}),define("panels/focusPanels/newFeaturesVideoPanel",["create-react-class","lodash","core","panels/focusPanels/focusPanelMixin","coreBi","panels/focusPanels/welcomeScreenVideoPanel.rt"],function(e,t,n,a,s,i){"use strict";var o=s;return e({displayName:"newFeaturesVideoPanel",mixins:[n.mixins.editorAPIMixin,a],getBIEvent:function(){return o.events.newFeaturesVideoPanel.NEW_FEATURES_INTRO_VIDEO_CLOSE},render:i})}),define("panels/commonControls/buttonWithSpinner/buttonWithSpinner.rt",["react","lodash","baseUI","baseUILib"],function(e,t,n,a){"use strict";return function(){return e.createElement(a.Button,{className:t(this.getButtonClasses()).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")+" "+(this.props.className||""),disabled:this.props.disabled,onClick:this.onClick},e.createElement("div",{className:"btn-content "+t({"hidden-content":!this.isStatus("initial")}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")}," ",this.props.children," "),e.createElement("div",{className:"intermidiate-states"},this.isStatus("pending")?e.createElement("div",{className:"spinner",key:"spinner"}):null,this.isStatus("success")?e.createElement("div",{className:"appearance-container",key:"success"},e.createElement(n.symbol,{name:"check",className:"success-icon"})):null,this.isStatus("error")?e.createElement("div",{className:"appearance-container",key:"error"},e.createElement("div",{className:"error-container"},"!")):null))}}),define("panels/commonControls/buttonWithSpinner/buttonWithSpinner",["create-react-class","prop-types","lodash","panels/commonControls/buttonWithSpinner/buttonWithSpinner.rt"],function(e,t,n,a){"use strict";return e({displayName:"ButtonWithSpinner",propTypes:{class:t.string,disabled:t.bool,onClick:t.func,fadeDuration:t.number,dontReturnToInitialState:t.bool,allowToClickAfterFail:t.bool},getInitialState:function(){return{status:"initial",hadFail:!1,clickCounter:0}},getButtonClasses:function(){return{"btn-with-spinner":!0,"success-status":"success"===this.state.status,"error-status":"error"===this.state.status}},onClick:function(e){var t=0===this.state.clickCounter&&this.props.dontReturnToInitialState,n=this.props.allowToClickAfterFail&&this.state.hadFail;(t||n)&&(this.setState({status:"pending"}),this.props.onClick(e,this.onSuccess,this.onError)),this.setState({clickCounter:this.state.clickCounter+1})},onSuccess:function(){this.changeStatusAndReturnToInitial("success")},onError:function(){this.changeStatusAndReturnToInitial("error"),this.setState({hadFail:!0})},changeStatusAndReturnToInitial:function(e){var t="error"===e&&this.props.allowToClickAfterFail;this.setState({status:e}),!t&&this.props.dontReturnToInitialState||window.setTimeout(function(){this.setState({status:"initial"})}.bind(this),this.props.fadeDuraion||2300)},isStatus:function(e){return e===this.state.status},render:a})}),define("panels/focusPanels/accessibilityPanel.rt",["react","lodash","baseUILib","baseUI","util","panels/frames/focusPanelFrame","panels/commonControls/buttonWithSpinner/buttonWithSpinner","helpIds","experiment"],function(e,t,n,a,s,i,o,l,r){"use strict";return function(){return e.createElement(i,{panelName:this.props.panelName,shouldHideHeader:!0,onClose:this.onPanelClose},e.createElement("div",{className:"accessibility-panel"},e.createElement(n.PanelHeaderCenteredText,{title:"SITE_ACCESSIBLITY_SETTINGS_PANEL_HEADER_TITLE",subtitle:"SITE_ACCESSIBLITY_SETTINGS_PANEL_SUB_TITLE",onHelp:this.openHeaderHelp,onClose:this.closeByXButton}),e.createElement("div",{className:"accessibility-panel-content"},e.createElement("div",{className:"accessibility-settings"},e.createElement("div",{className:"accessibility-settings-block"},e.createElement("div",{className:"accessibility-settings-block-icon"},e.createElement(a.symbol,{name:"keyboardAccessibility"})),e.createElement("div",{className:"accessibility-settings-block-info"},e.createElement("div",{className:"accessibility-settings-block-title"},s.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_FOCUS_TITLE")),e.createElement("div",{className:"accessibility-settings-block-description"},s.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_FOCUS_TEXT"))),e.createElement("div",{className:"accessibility-settings-block-control"},e.createElement(n.Tooltip,{content:"SITE_ACCESSIBLITY_SETTINGS_PANEL_FOCUS_TOOLTIP",isOpen:this.state.visualFocusTootlipOpen,disabled:this.state.visualFocusEnabled},e.createElement(n.ToggleSwitch,{value:this.state.visualFocusEnabled,onChange:this.toggleVisualFocus})))))),e.createElement("div",{className:"accessibility-panel-footer"},e.createElement("div",{className:"accessibility-panel-footer-content"},e.createElement("div",{className:"accessibility-learn-more"},e.createElement("span",{className:"accessibility-learn-more-text"},s.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_LINK_TO_KB_TEXT")),e.createElement(n.Button,{className:"btn-text accessibility-learn-more-link",onClick:this.openLearnMoreLink},s.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_LINK_TO_KB"))),e.createElement(n.Button,{className:"accessibility-done-btn btn-confirm-secondary btn-md",onClick:this.closeByCloseButton},s.translate("SITE_ACCESSIBLITY_SETTINGS_PANEL_CLOSE_BUTTON"))))))}}),define("panels/focusPanels/accessibilityPanel",["create-react-class","lodash","core","helpIds","coreBi","constants","panels/focusPanels/accessibilityPanel.rt"],function(e,n,t,a,s,i,o){"use strict";return e({propTypes:{},displayName:"accessibilityPanel",mixins:[t.mixins.editorAPIMixin],successStatusDuration:1e3,getInitialState:function(){return{visualFocusEnabled:this.getEditorAPI().accessibility.visualFocus.get(),visualFocusTootlipOpen:!1}},componentDidMount:function(){var e=this.getEditorAPI();e.bi.event(s.events.accessibilityPanel.opened,{visual_ind_toggle:e.accessibility.visualFocus.get()?"on":"off",site_id:e.dsRead.generalInfo.getSiteId()})},openHelpLink:function(e){var t={learn_more:Boolean(e),panel_name:this.props.panelName,origin:i.BI.HELP.ORIGIN.PANEL};this.getEditorAPI().panelManager.openHelpCenter(a.EXTERNAL.ACCESSIBILITY_PANEL,{},t)},openHeaderHelp:function(){this.openHelpLink(!1)},openLearnMoreLink:function(){this.openHelpLink(!0)},close:function(e){var t=this.getEditorAPI();t.bi.event(s.events.accessibilityPanel.close,{visual_ind_toggle:t.accessibility.visualFocus.get()?"on":"off",closeMethod:e,site_id:t.dsRead.generalInfo.getSiteId()}),t.panelManager.closePanelByName(this.props.panelName)},closeByXButton:function(){this.close("X")},closeByCloseButton:function(){this.close("close")},onPanelClose:function(e){this.close(e)},toggleVisualFocus:function(){var e=this.getEditorAPI(),t=!this.state.visualFocusEnabled;this.getEditorAPI().accessibility.visualFocus.set(t),this.setState({visualFocusEnabled:t,visualFocusTootlipOpen:!t}),e.bi.event(s.events.accessibilityPanel.click_enable_visual_indicator,{site_id:e.dsRead.generalInfo.getSiteId(),value:t?"ON":"OFF"}),n.delay(function(){this.setState({visualFocusTootlipOpen:!1})}.bind(this),4e3)},render:o})}),define("panels/focusPanels/mobileFriendlyPanel.rt",["react","lodash","baseUILib","baseUI","util","panels/frames/focusPanelFrame","helpIds","experiment"],function(e,t,n,a,s,i,o,l){"use strict";return function(){return e.createElement(i,{panelName:this.props.panelName,shouldHideHeader:!0},e.createElement("div",{className:"mobile-friendly-panel"},e.createElement(n.PanelHeaderCenteredText,{title:"Mobile_Friendly_Settings_Panel_Header_Title",subtitle:"Mobile_Friendly_Settings_Panel_Header_Sub_Title",onHelp:this.openHelpLink,onClose:this.close.bind(this,"X")}),e.createElement("div",{className:"mobile-friendly-panel-content"},e.createElement("div",{className:"mobile-friendly-settings"},e.createElement("div",{className:"mobile-friendly-settings-block"},e.createElement("div",{className:"mobile-friendly-settings-block-icon"},e.createElement(a.symbol,{name:"mobileFriendly"})),e.createElement("div",{className:"mobile-friendly-settings-block-info"},e.createElement("div",{className:"mobile-friendly-settings-block-title"},s.translate("Mobile_Friendly_Settings_Panel_Toogle_Label")),e.createElement("div",{className:"mobile-friendly-settings-block-description"},s.translate("Mobile_Friendly_Settings_Panel_Toogle_Text"))),e.createElement("div",{className:"mobile-friendly-settings-block-control"},e.createElement(n.ToggleSwitch,{className:"mobile-friendly-toggle",value:this.props.isMobileOptimizedSite,onChange:this.toggleMobileOptimized}))))),e.createElement("div",{className:"mobile-friendly-panel-footer"},e.createElement("div",{className:"mobile-friendly-panel-footer-content"},e.createElement("div",{className:"mobile-friendly-learn-more"},e.createElement("span",{className:"mobile-friendly-learn-more-text"},s.translate("Mobile_Friendly_Settings_Panel_Link_to_KB_text")),e.createElement(n.Button,{className:"btn-text mobile-friendly-learn-more-link",onClick:this.openHelpLink},s.translate("Mobile_Friendly_Settings_Panel_Link_to_KB_link"))),e.createElement(n.Button,{className:"mobile-friendly-done-btn btn-confirm-secondary btn-md",onClick:this.close.bind(this,"close")},"\n                    ",s.translate("Mobile_Friendly_SETTINGS_PANEL_CLOSE_BUTTON"),"\n                ")))))}}),define("panels/focusPanels/mobileFriendlyPanel",["create-react-class","lodash","core","helpIds","coreBi","constants","util","panels/focusPanels/mobileFriendlyPanel.rt","prop-types","stateManagement"],function(e,t,n,a,s,i,o,l,r,c){"use strict";var p=e({displayName:"mobileFriendlyPanel",mixins:[n.mixins.editorAPIMixin],propTypes:{setMobileOptimizedSite:r.func.isRequired,isMobileOptimizedSite:r.bool.isRequired},openHelpLink:function(){var e=this.getEditorAPI(),t={panel_name:this.props.panelName,origin:i.BI.HELP.ORIGIN.PANEL};e.panelManager.openHelpCenter(a.EXTERNAL.MOBILE_FRIENDLY,{},t)},close:function(e){var t=this.getEditorAPI();t.bi.event(s.events.panels.PANEL_CLOSED,{panel_name:this.props.panelName,origin:e}),t.panelManager.closePanelByName(this.props.panelName)},toggleMobileOptimized:function(){var e=this.getEditorAPI(),t=!this.props.isMobileOptimizedSite;this.props.setMobileOptimizedSite(t),e.bi.event(s.events.mobileFriendlyPanel.toggle_click,{origin:this.props.panelName,status:t})},render:l});return o.hoc.connect(o.hoc.STORES.DS_ONLY,function(e){return{isMobileOptimizedSite:e.dsRead.mobile.isOptimized()}},function(t){return{setMobileOptimizedSite:function(e){return t(c.editorPlugins.mobile.actions.setMobileOptimizedSite(e))}}})(p)}),define("panels/focusPanels/mobileEditorFirstTimeVideoPanel.rt",["react","lodash","panels/focusPanels/welcomeVideoPanel","util","baseUI"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{ref:"frame",title:a.translate("Intro_video_mobile_user_dialog_title"),subtitle:a.translate("Intro_video_mobile_user_dialog_subtitle"),linkedVideoData:this.videoUrl,content:this.getContent(),panelName:this.props.panelName,shouldNotCloseOnBlur:!0,onCloseByX:this.sendBIEventWhenClosedByX,onCloseByESC:this.sendBIEventWhenClosedByESC},e.createElement("div",{className:"buttons"},e.createElement(s.button,{label:"Intro_video_mobile_user_dialog_button",onClick:function(){this.startNow()}.bind(this)})))}}),define("panels/focusPanels/mobileEditorFirstTimeVideoPanel",["create-react-class","lodash","core","panels/focusPanels/mobileEditorFirstTimeVideoPanel.rt","coreBi","prop-types"],function(e,t,n,a,s,i){"use strict";var o="www.youtube.com/embed/CCFWEJ6r3NA";return e({displayName:"mobileEditorFirstTimeVideoPanel",mixins:[n.mixins.editorAPIMixin],propTypes:{panelName:i.string.isRequired},videoUrl:"//"+o+"?modestbranding=1;rel=0&frameborder=0;allowfullscreen=0;autoplay=1;controls=1;autohide=1;showinfo=0",close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},startNow:function(){this.sendBIEvent("startNow"),this.close()},sendBIEventWhenClosedByX:function(){this.sendBIEvent("xButton"),this.close()},sendBIEventWhenClosedByESC:function(){this.sendBIEvent("ESC"),this.close()},getContent:function(){var e={line1:"Intro_video_mobile_user_dialog_text1",line2:"Intro_video_mobile_user_dialog_text2"};return e},sendBIEvent:function(e){var t=this.getEditorAPI(),n={origin:e,site_id:t.dsRead.generalInfo.getSiteId(),duration:Date.now()-this.displayTime,video_url:o,panel_name:this.constructor.displayName};t.bi.event(s.events.newUserIntroVideoPanel.INTRO_VIDEO_CLOSE,n)},componentDidMount:function(){this.displayTime=Date.now()},render:a})}),define("panels/focusPanels/mobileEditorFirstTimePanel.rt",["react","lodash","panels/focusPanels/popupTemplate","constants"],function(e,t,n,a){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,className:"mobile-editor-first-time",h1text:"Notification_Box_Mobile_FirstTime_Title",imageClassName:"check-your-mobile-site-image",bodyText:"Notification_Box_Mobile_FirstTime_Text",dontShowAgainKey:a.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.DONT_SHOW_AGAIN,shouldNotCloseOnBlur:!0,userPrefType:"site"})}}),define("panels/focusPanels/mobileEditorFirstTimePanel",["create-react-class","prop-types","core","panels/focusPanels/mobileEditorFirstTimePanel.rt"],function(e,t,n,a){"use strict";return e({displayName:"mobileEditorFirstTimePanel",propTypes:{panelName:t.string.isRequired},mixins:[n.mixins.editorAPIMixin],render:a})}),define("panels/focusPanels/appInstallerPanel.rt",["react","lodash","panels/frames/focusPanelFrame","util","baseUI"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{panelName:"appInstallerPanel",shouldHideHelp:!0,shouldHideHeader:!0,className:"appInstaller-panel"},e.createElement("div",{className:"appInstaller-panel-inner"},e.createElement("div",{className:"header"},"\n            ",a.translate("SITE_APPINSTALLER_PANEL_TITLE"),"\n        "),e.createElement("div",{className:"progress"},e.createElement("div",{className:"progress-bar"},e.createElement("div",{className:"filled",style:this.getProgressBarStyle()})),this.props.done?null:e.createElement("div",{key:"counter",className:"counter"},"\n                ",this.props.finishedCounter+1,"/",this.props.totalApps,"\n            "),this.props.done?e.createElement("div",{key:"checkmark",className:"checkmark"},e.createElement(s.symbol,{name:"check"})):null),this.props.done?null:e.createElement("div",{key:"description",className:"description"},"\n            ",a.translate("SITE_APPINSTALLER_PANEL_SUBTITLE"),"\n            "," ","\n            ",this.props.installingAppName,"\n        "),this.props.done?e.createElement("div",{key:"description",className:"description"},"\n            ",a.translate("SITE_APPINSTALLER_PANEL_DONE"),"\n        "):null))}}),define("panels/focusPanels/appInstallerPanel",["create-react-class","prop-types","lodash","stateManagement","util","panels/focusPanels/appInstallerPanel.rt"],function(e,t,n,a,s,i){"use strict";var o=e({displayName:"AppInstallerPanel",propTypes:{installingAppName:t.string,finishedCounter:t.number,done:t.bool},getProgressBarStyle:function(){return this.props.done?{width:"100%",animation:"progressBarDone 0.8s"}:{width:"90%",animation:"progressBar "+this.props.totalApps*Number(this.props.progressBarPace)+"s"}},render:i});return s.hoc.connect(s.hoc.STORES.STATE_ONLY,function(e){var t=e.state;return a.appInstaller.selectors.getAppsInstallerPanelData(t)})(s.hoc.renderWhenMutated(o))}),define("panels/focusPanels/backToADIPanel.rt",["react","lodash","baseUILib","baseUI","util","panels/frames/focusPanelFrame"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement(i,{key:"backToADIPanel",shouldHideHelp:!0,className:"back-to-adi-panel",onClose:this.onPanelClose,title:s.translate("TOPBAR_BacktoADI_MSG_TITLE"),panelName:"back-to-adi"},e.createElement("div",{className:"back-to-adi-panel-content"},e.createElement("div",{className:"svg-container"},e.createElement(a.symbol,{name:"BackToADIPopUp"})),e.createElement("div",{className:"description-container"},e.createElement("div",{className:"description-top"},e.createElement("span",{className:"description-text"},s.translate("TOPBAR_BacktoADI_MSG_BODY1"))),e.createElement("div",{className:"description-bottom"},e.createElement("span",{className:"description-text"},s.translate("TOPBAR_BacktoADI_MSG_BODY2")),e.createElement(n.Button,{className:"description-text btn-text description-link",onClick:this.openSiteHistory},s.translate("TOPBAR_BacktoADI_MSG_LINK")))),e.createElement("div",{className:"footer-buttons"},e.createElement(a.button,{onClick:this.backToEditorButton,className:"btn-confirm-secondary btn-md footer-button",label:"TOPBAR_BacktoADI_MSG_BUTTON2"}),e.createElement(a.button,{onClick:this.backToADI,className:"btn-confirm-primary btn-md footer-button",label:"TOPBAR_BacktoADI_MSG_BUTTON1"}))))}}),define("panels/focusPanels/backToADIPanel",["create-react-class","lodash","util","core","coreBi","panels/focusPanels/backToADIPanel.rt"],function(e,t,n,a,s,i){"use strict";return e({propTypes:{},displayName:"backToADIPanel",mixins:[a.mixins.editorAPIMixin],openSiteHistory:function(){this.getEditorAPI().account.openSiteHistory(),this.sendBI("Site history")},close:function(){var e=this.getEditorAPI();this.sendBI("Stay in the editor"),e.panelManager.closePanelByName(this.props.panelName)},closeByXButton:function(){this.close("X")},backToEditorButton:function(){this.close("backToEditor")},redirectToADI:function(){var e=this;this.getEditorAPI().site.restoreToADI().then(function(){e.getEditorAPI().panelManager.closeAllPanels(),n.fedopsLogger.interactionEnded(n.fedopsLogger.INTERACTIONS.BACK_TO_ADI),window.location=n.editorModel.onboardingEditorUrl}).catch(function(e){n.ravenUtils.captureError(e,{tags:{backToADI:!0}})})},backToADI:function(){n.fedopsLogger.interactionStarted(n.fedopsLogger.INTERACTIONS.BACK_TO_ADI),this.sendBI("Back to Wix ADI"),this.redirectToADI()},onConfirm:function(){this.props.onButtonClick&&this.props.onButtonClick(!0)},sendBI:function(e){var t=this.getEditorAPI();t.bi.event(s.events.backToADIFromEditor.backToWixADIPanelClicked,{category:e,esi:n.editorModel.editorSessionId,site_id:t.dsRead.generalInfo.getSiteId()})},onPanelClose:function(e){this.close(e)},render:i})}),define("panels/focusPanels/packageAndUpdatePanel/sections/tasksProgressSection.rt",["react","lodash","baseUILib"],function(n,e,a){"use strict";return function(e,t){return n.createElement("div",{className:"tasks-section"},n.createElement(a.Composites.ProgressBar,{},n.createElement(a.TextLabel,{type:"T03",value:e.title}),n.createElement(a.ProgressBar,{automationId:"progress-bar-percentage",progress:e.tasksDone,progressMax:e.totalNumOfTasks}),n.createElement(a.TextLabel,{automationId:"task-name",type:"T02",value:e.taskDisplayName})))}}),define("panels/focusPanels/packageAndUpdatePanel/sections/tasksProgressSection",["prop-types","lodash","panels/focusPanels/packageAndUpdatePanel/sections/tasksProgressSection.rt"],function(e,t,n){"use strict";var a=function(e){return n(e)};return a.displayName="PackageTasksSection",a.propTypes={tasksDone:e.number.isRequired,taskDisplayName:e.string.isRequired,title:e.string.isRequired,totalNumOfTasks:e.number.isRequired},a}),define("panels/focusPanels/packageAndUpdatePanel/sections/firstSuccessSection.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(n,e,a,s){"use strict";return function(e,t){return n.createElement("div",{"data-aid":"first-success-section"},n.createElement(a.Composites.PopupMediumSize,{className:"composite-full-height"},n.createElement(a.Composites.BigPanelHeaderWithIllustration,{},n.createElement(a.PanelHeaderCenteredText,{automationId:"first-success-header",title:e.content.header,subtitle:e.content.headerSubtitle,titleType:"T16",onHelp:e.onHelp,onClose:e.closePanel}),n.createElement(a.PanelHeaderIllustration,{blueStripHeight:85},n.createElement(s.symbol,{name:"successMessageIllustration"}))),n.createElement(a.Composites.PanelContent,{"class-name":"first-success-panel-content"},n.createElement(a.Composites.PromotionalList,{},n.createElement(a.PromotionalList,{items:e.content.items}))),n.createElement(a.Composites.ActionSetHorizontalSpaced,{key:"first-result-buttons"},n.createElement(a.Button,{className:"btn-text",onClick:function(){e.textButton.onClick()}.bind(this)},n.createElement(a.TextLabel,{value:e.textButton.label,automationId:"text-button-label"})),n.createElement(a.Button,{automationId:"primary-button-package-and-update-panel",className:"primary",onClick:function(){e.primaryButton.onClick()}.bind(this)},n.createElement(a.TextLabel,{value:e.primaryButton.label,automationId:"primary-button-label"})))))}}),define("panels/focusPanels/packageAndUpdatePanel/sections/firstSuccessSection",["prop-types","panels/focusPanels/packageAndUpdatePanel/sections/firstSuccessSection.rt"],function(e,t){"use strict";var n=function(e){return t(e)};return n.propTypes={content:e.shape({header:e.string.isRequired,headerSubtitle:e.string.isRequired,items:e.arrayOf(e.string).isRequired}).isRequired,closePanel:e.func.isRequired,onHelp:e.func.isRequired,primaryButton:e.shape({label:e.string.isRequired,onClick:e.func.isRequired}).isRequired,textButton:e.shape({label:e.string.isRequired,onClick:e.func.isRequired}).isRequired},n}),define("panels/focusPanels/packageAndUpdatePanel/sections/errorSection.rt",["react","lodash","baseUILib","baseUI","util"],function(n,e,a,s,t){"use strict";return function(e,t){return n.createElement("div",{className:"error-section"},n.createElement(a.Composites.PopupSmallSize,{className:"composite-full-height"},n.createElement(a.PanelHeader,{titleType:"T16",noHelpBtn:!0,onClose:e.closePanel,className:"dark"},n.createElement("span",{"data-aid":"header-title"},e.content.header)),n.createElement(a.Composites.PanelContent,{className:"package-panel-content"},n.createElement(a.Composites.RichTextWithIllustration,{},n.createElement(a.Illustration,{},n.createElement(s.symbol,{name:"plaster"})),n.createElement(a.Composites.RichText,{},n.createElement(a.RichText,{},n.createElement("span",{"data-aid":"error-message",type:"T03"},e.content.message))))),n.createElement(a.Composites.ActionSetHorizontal,{},n.createElement(a.Button,{automationId:"primary-button-package-and-update-panel",className:"primary",onClick:function(){e.primaryButton.onClick()}.bind(this)},n.createElement(a.TextLabel,{value:e.primaryButton.label,automationId:"primary-button-label"})))))}}),define("panels/focusPanels/packageAndUpdatePanel/sections/errorSection",["prop-types","lodash","panels/focusPanels/packageAndUpdatePanel/sections/errorSection.rt"],function(e,t,n){"use strict";var a=function(e){return n(e)};return a.propTypes={closePanel:e.func.isRequired,content:e.shape({header:e.string.isRequired,message:e.string.isRequired}).isRequired,onHelp:e.func,primaryButton:e.shape({label:e.string.isRequired,onClick:e.func.isRequired}).isRequired},a}),define("panels/focusPanels/packageAndUpdatePanel/packageAndUpdatePanel.rt",["react","lodash","baseUILib","util","panels/frames/focusPanelFrame","panels/focusPanels/packageAndUpdatePanel/sections/tasksProgressSection","panels/focusPanels/packageAndUpdatePanel/sections/firstSuccessSection","panels/focusPanels/packageAndUpdatePanel/sections/errorSection"],function(e,t,n,a,s,i,o,l){"use strict";return function(){return e.createElement(s,{automationId:"app-studio-package-and-update-panel",panelName:this.props.panelName,shouldHideHeader:!0,shouldNotCloseOnBlur:this.isProgressStep(),className:this.props.className,keyboardShortcuts:this.getKeyboardShortcuts()},this.isProgressStep()?e.createElement(i,{key:"tasksSection",tasksDone:this.props.tasksDone,taskDisplayName:this.props.taskDisplayName,totalNumOfTasks:this.props.totalNumOfTasks,title:this.props.tasksTitle}):null,this.isFirstResultStep()?e.createElement(o,{key:"secondSuccessStep",content:this.props.firstResultSectionContent,closePanel:this.props.closePanel,onHelp:this.props.firstSuccessOnHelp,primaryButton:this.props.firstResultPrimaryButton,textButton:this.props.firstResultTextButton}):null,this.isError()?e.createElement(l,{key:"errorSection",content:this.props.errorSectionContent,primaryButton:this.props.errorSectionPrimaryButton,closePanel:this.props.closePanel}):null)}}),define("panels/focusPanels/packageAndUpdatePanel/packageAndUpdatePanel",["react","prop-types","util","lodash","panels/focusPanels/packageAndUpdatePanel/packageAndUpdatePanel.rt","constants"],function(t,e,n,a,s,i){"use strict";var o=i.PACKAGE_UPDATE_PANEL_STEPS,l=o.TASKS,r=o.FIRST_SUCCESS,c=o.ERROR,p=function(e){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.isProgressStep=function(){return t.props.currStep===l},t.isFirstResultStep=function(){return t.props.currStep===r},t.isError=function(){return t.props.currStep===c},t.getKeyboardShortcuts=function(){return{esc:function(){t.isProgressStep()||t.props.closePanel()}}},t}return _inherits(n,t.Component),_createClass(n,[{key:"componentDidUpdate",value:function(){!this.props.isDone||this.isFirstResultStep()||this.isError()||this.props.closePanel()}},{key:"render",value:function(){return s.call(this)}}]),n}();return p.propTypes={className:e.string,closePanel:e.func.isRequired,currStep:e.string.isRequired,errorSectionContent:e.shape({header:e.string.isRequired,message:e.string.isRequired,fixSteps:e.arrayOf(e.string)}),errorSectionPrimaryButton:e.shape({label:e.string.isRequired,onClick:e.func.isRequired}),firstResultContent:e.shape({header:e.string.isRequired,headerSubtitle:e.string.isRequired,items:e.arrayOf(e.string).isRequired}),firstResultPrimaryButton:e.shape({label:e.string.isRequired,onClick:e.func.isRequired}),firstResultTextButton:e.shape({label:e.string.isRequired,onClick:e.func.isRequired}),firstSuccessOnHelp:e.func,isDone:e.bool,tasksDone:e.number,taskDisplayName:e.string,tasksTitle:e.string,totalNumOfTasks:e.number},n.hoc.renderWhenMutated(p)}),define("panels/focusPanels/menuContainerUpgradePanel.rt",["react","lodash","baseUILib","santa-editor-symbols","panels/frames/focusPanelFrame"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(s,{automationId:this.props.panelName,panelName:this.props.panelName,shouldHideHeader:!0},e.createElement(n.Composites.PopupMediumSize,{className:"composite-full-height"},e.createElement(n.Composites.BigPanelHeaderWithIllustration,{},e.createElement(n.PanelHeaderCenteredText,{title:this.props.content.header,subtitle:this.props.content.headerSubtitle,titleType:"T16",onHelp:this.props.onHelp,onClose:this.closePanel}),e.createElement(n.PanelHeaderIllustration,{blueStripHeight:85},e.createElement(a.symbol,{name:"menuContainerUpgradePopupIllustration"}))),e.createElement(n.Composites.PanelContent,{},e.createElement(n.Composites.PromotionalList,{},e.createElement(n.PromotionalList,{items:this.props.content.items}))),e.createElement(n.Composites.ActionSetHorizontalSpaced,{},e.createElement(n.Button,{className:"btn-text",onClick:function(){this.closePanel()}.bind(this)},e.createElement(n.TextLabel,{value:this.props.content.buttons.cancel})),e.createElement(n.Button,{className:"primary",onClick:function(){this.onConfirm()}.bind(this)},e.createElement(n.TextLabel,{value:this.props.content.buttons.upgrade})))))}}),define("panels/focusPanels/menuContainerUpgradePanel",["create-react-class","prop-types","panels/focusPanels/menuContainerUpgradePanel.rt"],function(e,t,n){"use strict";return e({displayName:"menuContainerUpgradePanel",propTypes:{panelManager:t.object.isRequired,content:t.object.isRequired,onConfirm:t.func.isRequired},onConfirm:function(){this.props.onConfirm(),this.closePanel()},closePanel:function(){this.props.panelManager.closePanelByName(this.props.panelName)},render:n})}),define("panels/focusPanels/focusPanels",["panels/focusPanels/welcomeVideoPanel","panels/focusPanels/exampleFocusPanel","panels/focusPanels/blogManagerPanel","panels/focusPanels/shoutOutTemplatesPanel","panels/focusPanels/aviaryPanel","panels/focusPanels/organizeImagesPanel","panels/focusPanels/outOfGridMobilePanel","panels/focusPanels/outOfGridDesktopPanel","panels/focusPanels/outOfContainerGridPanel","panels/focusPanels/dragToHeaderPanel","panels/focusPanels/attachToSOSPPanel","panels/focusPanels/detachedFromSOSPPanel","panels/focusPanels/spotifySearchFocusPanel","panels/focusPanels/iTunsLinkMaker","panels/focusPanels/pageAppInstalling","panels/focusPanels/howToVideoGalleryPanel","panels/focusPanels/feedbackPanel","panels/focusPanels/getTrafficPanel","panels/focusPanels/promotionModalPanel","panels/focusPanels/sizeRestrictionPanel","panels/focusPanels/newEditorWelcomeScreenPanel","panels/focusPanels/editorMigrationFailedPanel","panels/focusPanels/newUserIntroVideoPanel","panels/focusPanels/cameFromADIVideoPanel","panels/focusPanels/migratedToMeshSuccessPanel","panels/focusPanels/howToVideoPlayer","panels/focusPanels/newEditorListWelcomeScreenPanel","panels/focusPanels/migrateToMeshWelcomeScreenPanel","panels/focusPanels/createNewTextBoxPanel","panels/focusPanels/popupTemplate","panels/focusPanels/siteImageOptimizationPanel","panels/focusPanels/siteMembersSettingsPanel","panels/focusPanels/newFeaturesVideoPanel","panels/focusPanels/accessibilityPanel","panels/focusPanels/mobileFriendlyPanel","panels/focusPanels/mobileEditorFirstTimeVideoPanel","panels/focusPanels/mobileEditorFirstTimePanel","panels/focusPanels/appInstallerPanel","panels/focusPanels/backToADIPanel","panels/focusPanels/packageAndUpdatePanel/packageAndUpdatePanel","panels/focusPanels/menuContainerUpgradePanel"],function(e,t,n,a,s,i,o,l,r,c,p,u,d,m,h,g,f,P,_,b,E,C,I,y,N,v,S,T,A,k,L,D,w,O,M,x,R,B,F,U,H){"use strict";return{welcomeVideoPanel:e,exampleFocusPanel:t,blogManagerPanel:n,shoutOutTemplatesPanel:a,aviaryPanel:s,organizeImagesPanel:i,outOfGridMobilePanel:o,outOfGridDesktopPanel:l,outOfContainerGridPanel:r,dragToHeaderPanel:c,attachToSOSPPanel:p,detachedFromSOSPPanel:u,spotifySearchFocusPanel:d,iTunsLinkMaker:m,howToVideoGalleryPanel:g,pageAppInstallingPanel:h,feedbackPanel:f,getTrafficPanel:P,promotionModalPanel:_,sizeRestrictionPanel:b,newEditorWelcomeScreenPanel:E,editorMigrationFailedPanel:C,newUserIntroVideoPanel:I,cameFromADIVideoPanel:y,migratedToMeshSuccessPanel:N,howToVideoPlayer:v,newEditorListWelcomeScreenPanel:S,migrateToMeshWelcomeScreenPanel:T,createNewTextBoxPanel:A,popupTemplate:k,siteImageOptimizationPanel:L,siteMembersSettingsPanel:D,newFeaturesVideoPanel:w,accessibilityPanel:O,mobileFriendlyPanel:M,mobileEditorFirstTimeVideoPanel:x,mobileEditorFirstTimePanel:R,appInstallerPanel:B,backToADIPanel:F,packageAndUpdatePanel:U,menuContainerUpgradePanel:H}}),define("panels/messagePanels/changeStyleMessage/changeStyleMessage.rt",["react","lodash","panels/frames/messagePanelFrame","util","baseUI","constants"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,className:"change-style",confirmLabel:"Notification_Box_Got_It",dontShowAgainKey:i.USER_PREFS.MULTILINGUAL.STYLING_COMPONENT.DONT_SHOW_AGAIN,userPrefType:"site",panelTitle:a.translate("Notification_Box_Multilingual_Design_Change_Title"),onDontShowAgainChange:this.onDontShowAgainChange,onConfirm:this.onConfirm,onCancel:this.onCancel},e.createElement("div",{className:"icon"},e.createElement(s.symbol,{name:"plaster"})),e.createElement("div",{},e.createElement("p",{},a.translate("Notification_Box_Multilingual_Design_Change_Text"))))}}),define("panels/messagePanels/changeStyleMessage/changeStyleMessage",["lodash","create-react-class","core","coreBi","util","panels/messagePanels/changeStyleMessage/changeStyleMessage.rt"],function(a,e,t,n,s,i){"use strict";var o=n.events.multilingual;return e({displayName:"changeStyleMessage",mixins:[t.mixins.editorAPIMixin],render:i,sendBI:function(e,t){var n=this.getEditorAPI();n.bi.event(e,a.assign({esi:s.editorModel.editorSessionId,site_id:n.dsRead.generalInfo.getSiteId()},t))},onDontShowAgainChange:function(e){this.sendBI(o.styling_dont_show,{toggle_state:e})}})}),define("panels/messagePanels/deleteLastPageMessage/deleteLastPageMessage.rt",["react","lodash","panels/frames/messagePanelFrame","util","baseUI"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,confirmLabel:"Pages_Settings_Delete_Last_Page_Message_Confirmation",className:"delete-page-confirmation",panelTitle:a.translate("Pages_Settings_Delete_Last_Page_Message_Title")},e.createElement("div",{className:"icon"},e.createElement(s.symbol,{name:"plaster"})),e.createElement("div",{},e.createElement("p",{},a.translate("Pages_Settings_Delete_Last_Page_Message")),e.createElement("p",{},a.translate("Pages_Settings_Delete_Last_Page_Message2")),e.createElement("p",{},a.translate("Pages_Settings_Delete_Last_Page_Message3"),"\n            ",e.createElement("a",{key:"page-settings-tab-privacy-member-url",href:"https://www.wix.com/support/html5/",target:"_blank"},e.createElement(s.button,{label:"Pages_Settings_Delete_Last_Page_Message_Link",className:"btn-text"})),".\n        ")))}}),define("panels/messagePanels/deleteLastPageMessage/deleteLastPageMessage",["create-react-class","core","lodash","panels/messagePanels/deleteLastPageMessage/deleteLastPageMessage.rt"],function(e,t,n,a){"use strict";return e({displayName:"deleteLastPageMessage",mixins:[t.mixins.editorAPIMixin],render:a})}),define("panels/messagePanels/deletePageMessage/deletePageMessage.rt",["react","lodash","panels/frames/messagePanelFrame","util","baseUI"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,confirmLabel:"Pages_Settings_Delete_Page_Delete",cancelLabel:"Pages_Settings_Delete_Page_Cancel",className:"important delete-page-message",panelTitle:a.translate(this.props.isPopup?"Pages_Settings_Delete_Popup_Title":"Pages_Settings_Delete_Page_Title")},e.createElement("div",{className:"delete-page-message"},e.createElement("div",{className:"icon"},e.createElement(s.symbol,{name:"deleteGeneralIcon"})),e.createElement("div",{className:"message"},a.translate(this.props.isPopup?"Pages_Settings_Delete_Popup_Message":"Pages_Settings_Delete_Page_Message")+" "+this.props.pageTitle+a.translate("Pages_Settings_Delete_Page_Message_End"))))}}),define("panels/messagePanels/deletePageMessage/deletePageMessage",["create-react-class","lodash","panels/messagePanels/deletePageMessage/deletePageMessage.rt"],function(e,t,n){"use strict";return e({displayName:"deletePageMessage",render:n})}),define("panels/messagePanels/exampleMessagePanel.rt",["react","lodash","panels/frames/messagePanelFrame"],function(e,t,n){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,width:"500",height:"500",onConfirm:this.onConfirm,confirmLabel:"OK",title:"Hello"},e.createElement("div",{},"content here"))}}),define("panels/messagePanels/exampleMessagePanel",["create-react-class","lodash","panels/messagePanels/exampleMessagePanel.rt","coreUtilsLib"],function(e,t,n,a){"use strict";return e({displayName:"exampleMessage",onConfirm:function(){a.log.info("onConfirm called")},render:n})}),define("panels/messagePanels/siteRevisionsPanel.rt",["react","lodash","baseUI","util","panels/frames/messagePanelFrame"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(s,{ref:"frame",panelName:this.props.panelName,panelTitle:a.translate("TOPBAR_SITE_HISTORY_MSG_TITLE"),confirmLabel:"TOPBAR_SITE_HISTORY_MSG_BUTTON",onConfirm:this.onConfirm,className:"site-revisions-panel",onCancel:this.onCloseFrame},e.createElement("div",{className:"content-wrapper"},e.createElement("div",{className:"image-container"},e.createElement(n.symbol,{name:"siteHistoryClipart"})),e.createElement("div",{className:"description-container"},e.createElement("p",{},a.translate("TOPBAR_SITE_HISTORY_MSG_BODY1")),e.createElement("p",{},a.translate("TOPBAR_SITE_HISTORY_MSG_BODY2")))))}}),define("panels/messagePanels/siteRevisionsPanel",["react-addons-linked-state-mixin","create-react-class","panels/messagePanels/siteRevisionsPanel.rt"],function(e,t,n){"use strict";return t({displayName:"siteRevisionsPanel",mixins:[e],onConfirm:function(){this.props.onButtonClick&&this.props.onButtonClick(!0)},onCloseFrame:function(){this.props.onButtonClick&&this.props.onButtonClick(!1)},render:n})}),define("panels/messagePanels/switchToOldEditorConfirmationPanel.rt",["react","lodash","util","baseUI","panels/frames/messagePanelFrame"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(s,{ref:"frame",panelName:this.props.panelName,className:"switch-to-old-editor",panelTitle:n.translate(this.props.title),confirmLabel:"Notification_Box__ToOldEditor_Button_ToOldEditor",onConfirm:this.handleBackToOld,cancelLabel:"Notification_Box__ToOldEditor_Button_Cancel",onCancel:this.close},e.createElement("div",{className:"content-wrapper"},e.createElement("div",{className:"logo"},e.createElement(a.symbol,{name:"switchToOldEditorPanel"})),e.createElement("div",{className:"text"},e.createElement("div",{className:"message"},n.translate("Notification_Box__ToOldEditor_Text1")),e.createElement("div",{className:"message"},e.createElement("p",{},n.translate("Notification_Box__ToOldEditor_Text2"),"\n                    ",e.createElement("a",{onClick:function(){this.linkClick()}.bind(this)},n.translate("Notification_Box__ToOldEditor_link")))))))}}),define("panels/messagePanels/switchToOldEditorConfirmationPanel",["create-react-class","prop-types","lodash","core","util","panels/messagePanels/switchToOldEditorConfirmationPanel.rt"],function(e,t,n,a,s,i){"use strict";return e({displayName:"switchToOldEditorConfirmationPanel",mixins:[a.mixins.editorAPIMixin],propTypes:{title:t.string.isRequired,messageBody:t.string.isRequired},handleBackToOld:function(){s.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","old"),window.onbeforeunload=null,window.location.reload(!0)},close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},linkClick:function(){if(window){var e=s.languages.getLanguageCode(),t="https://{$lang}.wix.com/support/html5/new-wix-editor-june-2015/using-your-editor/kb/suggestions-and-feedback-new-wix-editor-2015".replace("{$lang}","en"===e?"www":e);window.open(t)}},render:i})}),define("panels/messagePanels/browserDeprecationMessage/validationErrorPanel.rt",["react","lodash","baseUILib","santa-editor-symbols","util","panels/frames/dangerMessagePanelFrame"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement(i,{panelName:this.props.panelName,title:"Notification_Box_Data_Curruption_Error_Title",confirmLabel:"Notification_Box_Data_Curruption_Error_Reload_Button",iconName:"plasterRed",onHelpHeader:this.openLearnMore,validationError:!0,closeWithoutCalling:!0,onConfirm:this.props.onConfirm},e.createElement("span",{},s.translate("Notification_Box_Data_Curruption_Error_Text")))}}),define("panels/messagePanels/browserDeprecationMessage/validationErrorPanel",["create-react-class","prop-types","panels/messagePanels/browserDeprecationMessage/validationErrorPanel.rt"],function(e,t,n){"use strict";return e({displayName:"validationErrorPanel",propTypes:{onConfirm:t.func.isRequired},render:n})}),define("panels/messagePanels/concurrentUsers/concurrentUserPanel.rt",["react","lodash","util","santa-editor-symbols","panels/frames/confirmationPanelFrame"],function(n,e,a,t,s){"use strict";return function(){return n.createElement(s,{panelName:this.props.panelName,className:"concurrent-user-panel",onConfirm:this.onOk,confirmLabel:this.text().ok,shouldHideCancelButton:!0,type:this.props.isFirstUser?"normal":"important",panelTitle:a.translate(this.text().title)},n.createElement("div",{className:"panel-inner"},n.createElement("div",{className:"concurrent-users-panel-img"},n.createElement(t.symbol,{name:this.props.isFirstUser?this.symbols.firstUser:this.symbols.secondUser})),n.createElement("div",{className:"textual-content"},n.createElement("div",{className:"sub-title"},n.createElement("span",{className:"concurrent-user"},this.getConcurrentUserToDisplay()),"\n          ",a.translate(this.text().description),"\n        "),n.createElement.apply(this,["ul",{className:"recommendation-list"},e.map(this.getRecommendations(),function(e,t){return n.createElement("li",{},n.createElement("span",{className:"number"},t+1,"."),n.createElement("span",{className:"description"},a.translate(e)))}.bind(this))]))))}}),define("panels/messagePanels/concurrentUsers/concurrentUserPanel",["create-react-class","prop-types","lodash","core","util","coreBi","panels/messagePanels/concurrentUsers/concurrentUserPanel.rt"],function(e,t,n,a,s,i,o){"use strict";var l=["CONCURRENT_EDITING_SOMEBODY_JOINED_OPT_1","CONCURRENT_EDITING_SOMEBODY_JOINED_OPT_2"],r=["CONCURRENT_EDITING_ALREADY_OPEN_OPT_1","CONCURRENT_EDITING_ALREADY_OPEN_OPT_2"],c={title:"CONCURRENT_EDITING_SOMEBODY_JOINED_TITLE",description:"CONCURRENT_EDITING_SOMEBODY_JOINED_DESCRIPTION",ok:"CONCURRENT_EDITING_SOMEBODY_JOINED_OK_BUTTON"},p={title:"CONCURRENT_EDITING_ALREADY_OPEN_TITLE",description:"CONCURRENT_EDITING_ALREADY_OPEN_DESCRIPTION",ok:"CONCURRENT_EDITING_ALREADY_OPEN_OK_BUTTON"},u=0;return e({displayName:"ConcurrentUserPanel",mixins:[a.mixins.editorAPIMixin],symbols:{firstUser:"concurrentUsersPopupsBlue",secondUser:"concurrentUsersPopupsRed"},propTypes:{isFirstUser:t.bool.isRequired,concurrentUsers:t.arrayOf(t.string).isRequired,concurrentUserToDisplay:t.string},componentDidMount:function(){u=0===u?1:2},text:function(){return this.props.isFirstUser?c:p},getRecommendations:function(){return this.props.isFirstUser?l:r},getConcurrentUserToDisplay:function(){var e=this.props.concurrentUserToDisplay||n.head(this.props.concurrentUsers);return"wixStaff"===e&&(e=s.translate("CONCURRENT_EDITING_SOMEBODY_JOINED_DESCRIPTION_WIX_STAFF")),e},onOk:function(){var e=i.events.concurrentUsers.CONCURRENT_USERS_POPUP_OK_CLICK,t={user:this.props.isFirstUser?"first":"second",count:this.props.concurrentUsers.length,is_first:1===u};this.getEditorAPI().bi.event(e,t)},render:o})}),define("panels/messagePanels/widgetWarningMessage/widgetWarningMessage.rt",["react","lodash","panels/frames/dangerMessagePanelFrame","util"],function(e,t,n,a){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,onConfirm:this.props.onConfirm,confirmLabel:this.props.confirmLabel,cancelLabel:this.props.cancelLabel,title:this.props.title,iconName:"platformWarning",closeWithoutCalling:"true"},"\n\n    ",a.translationUtil.translateTemplate(this.props.message,this.props.messageTemplateReplacements),"\n\n")}}),define("panels/messagePanels/widgetWarningMessage/widgetWarningMessage",["create-react-class","lodash","prop-types","panels/messagePanels/widgetWarningMessage/widgetWarningMessage.rt"],function(e,t,n,a){"use strict";return e({displayName:"widgetWarningMessage",propsTypes:{title:n.string.isRequired,message:n.string.isRequired,onConfirm:n.func.isRequired,messageTemplateReplacements:n.object,confirmLabel:n.string,cancelLabel:n.string},getDefaultProps:function(){return{messageTemplateReplacements:{},confirmLabel:"AppStudio_Continue_Button",cancelLabel:"AppStudio_Cancel_Button"}},render:a})}),define("panels/messagePanels/browserDeprecationMessage/browserDeprecationMessage.rt",["react","lodash","baseUILib","santa-editor-symbols","util","panels/frames/messagePanelFrame"],function(t,e,n,a,s,i){"use strict";return function(){return function(){var e=this.browserKeys[this.props.browser];return t.createElement(i,{panelName:this.props.panelName,panelTitle:s.translate(e.panelTitle),confirmLabel:"Notification_Box_Browser_Not_Supported_Button"},t.createElement(n.Composites.PanelContent,{},t.createElement(n.Composites.RichTextWithIllustration,{},t.createElement(n.Illustration,{},t.createElement(a.symbol,{name:"browser-not-supported"})),t.createElement(n.Composites.RichTextLabeled,{},t.createElement(n.TextLabel,{value:e.subTitle}),t.createElement(n.RichText,{},"\n                    ",s.translate(e.description),"\n                    ",t.createElement("a",{onClick:this.openLearnMore},s.translate("Notification_Box_Browser_Not_Supported_Link")))))))}.apply(this,[])}}),define("panels/messagePanels/browserDeprecationMessage/browserDeprecationMessage",["create-react-class","prop-types","lodash","helpIds","constants","panels/messagePanels/browserDeprecationMessage/browserDeprecationMessage.rt"],function(e,t,n,a,s,i){"use strict";return e({displayName:"browserDeprecationMessage",propTypes:{openHelpCenter:t.func.isRequired,browser:t.string.isRequired},browserKeys:{safari9:{panelTitle:"Notification_Box_Browser_Not_Supported_Title",subTitle:"Notification_Box_Browser_Not_Supported_Text1",description:"Notification_Box_Browser_Not_Supported_Text2"},ie11:{panelTitle:"Notification_Box_Browser_Not_Supported_Title1",subTitle:"Notification_Box_Browser_Not_Supported_Text3",description:"Notification_Box_Browser_Not_Supported_Text4"}},openLearnMore:function(){this.props.openHelpCenter(a.LEARN_MORE.BROWSER_DEPRECATED,null,{learn_more:!0,panel_name:this.props.panelName,origin:s.BI.HELP.ORIGIN.PANEL})},render:i})}),define("panels/messagePanels/browserDeprecationMessage/browserDeprecationMessageForIE.rt",["react","lodash","baseUILib","santa-editor-symbols","util","panels/frames/dangerMessagePanelFrame"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement(i,{panelName:this.props.panelName,title:"Notification_Box_Browser_Not_Supported_Title2",confirmLabel:"Notification_Box_Browser_Not_Supported_Button",iconName:"browser-not-supported-red",onHelpHeader:this.openLearnMore,",":!0,onConfirm:this.props.onConfirm},e.createElement(n.TextLabel,{value:"Notification_Box_Browser_Not_Supported_Text3"}),e.createElement(n.RichText,{},"\n                    ",s.translate("Notification_Box_Browser_Not_Supported_Text5"),"\n                    ",e.createElement("a",{onClick:this.openLearnMore},s.translate("Notification_Box_Browser_Not_Supported_Link"))))}}),define("panels/messagePanels/browserDeprecationMessage/browserDeprecationMessageForIE",["create-react-class","prop-types","lodash","helpIds","constants","panels/messagePanels/browserDeprecationMessage/browserDeprecationMessageForIE.rt"],function(e,t,n,a,s,i){"use strict";return e({displayName:"browserDeprecationMessage",propTypes:{openHelpCenter:t.func.isRequired},openLearnMore:function(){this.props.openHelpCenter(a.LEARN_MORE.BROWSER_DEPRECATED,null,{learn_more:!0,panel_name:this.props.panelName,origin:s.BI.HELP.ORIGIN.PANEL})},render:i})}),define("panels/messagePanels/messagePanels",["panels/messagePanels/changeStyleMessage/changeStyleMessage","panels/messagePanels/deleteLastPageMessage/deleteLastPageMessage","panels/messagePanels/deletePageMessage/deletePageMessage","panels/messagePanels/exampleMessagePanel","panels/messagePanels/siteRevisionsPanel","panels/messagePanels/switchToOldEditorConfirmationPanel","panels/messagePanels/browserDeprecationMessage/validationErrorPanel","panels/messagePanels/concurrentUsers/concurrentUserPanel","panels/messagePanels/widgetWarningMessage/widgetWarningMessage","panels/messagePanels/browserDeprecationMessage/browserDeprecationMessage","panels/messagePanels/browserDeprecationMessage/browserDeprecationMessageForIE"],function(e,t,n,a,s,i,o,l,r,c,p){"use strict";return{changeStyleMessage:e,deleteLastPageMessage:t,deletePageMessage:n,exampleMessage:a,siteRevisionsPanel:s,switchToOldEditorConfirmationPanel:i,validationErrorPanel:o,concurrentUserPanel:l,widgetWarningMessage:r,browserDeprecationMessage:c,browserDeprecationMessageForIE:p}}),define("panels/toolPanels/pagesSelector/pageItem.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","core"],function(a,s,i,o,l,r){"use strict";return function(){return function(){var e=this.props.dataSource,t=this.getEditorAPI(),n=this.validatePage();return a.createElement("div",{className:s(this.getItemClassNames(e)).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},a.createElement(i.tooltip,{disabled:n.valid,shouldTranslate:!1,value:n.message},a.createElement("label",{className:"item-label"},e.pageData?a.createElement(o.Checkbox,{key:"toggle",disabled:!n.valid,value:this.isSelected(),onChange:this.handleToggleChanged}):null,a.createElement("span",{className:"page-name"},e.label),e.pageData&&t.pages.isHomePage(e.pageData.id)?a.createElement(l.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,e.pageData&&r.utils.tpaTypeUtils.isTPA(e.pageData)&&!r.utils.tpaTypeUtils.isTPASpecialPage(t.dsRead,e.pageData)?a.createElement(l.symbol,{name:"actionButtonSpecialPages",key:"isTpaPage"}):null,e.pageData&&r.utils.blogTypeUtils.isBlogSectionPage(t,e.pageData)?a.createElement(l.symbol,{name:"actionButtonBlogPages",key:"isBlogPage"}):null,e.type.isLink?a.createElement(l.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,e.type.isDropdown?a.createElement(l.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,e.isVisible?null:a.createElement(l.symbol,{name:"pageItemHideIcon",key:"isHidden"}))))}.apply(this,[])}}),define("panels/toolPanels/pagesSelector/pageItem",["react-addons-linked-state-mixin","create-react-class","prop-types","core","lodash","panels/toolPanels/pagesSelector/pageItem.rt"],function(e,t,n,a,s,i){"use strict";return t({mixins:[a.mixins.editorAPIMixin,e],displayName:"pageSelectorPageItem",propTypes:{isSubMenu:n.bool,isSubMenuLast:n.bool,validatePage:n.func,selectedPageIds:n.array.isRequired,dataSource:n.object.isRequired,toggleSelection:n.func},handleToggleChanged:function(e){this.props.toggleSelection&&this.props.toggleSelection(this.getPageId(),e)},getItemClassNames:function(e){var t=this.validatePage().valid;return{"pages-selector-item":!0,"current-page":!1,"item-hidden":!e.isVisible,"item-disabled":!t,"item-first-level":!this.props.isSubMenu,"item-second-level":this.props.isSubMenu,"item-second-level-last":this.props.isSubMenuLast,"item-is-page":e.type.isPage}},isSelected:function(){return s.includes(this.props.selectedPageIds,this.getPageId())},validatePage:function(){var n=this.getPageId(),e=[this.props.validatePage||s.noop,s.constant({valid:!0})];return s.reduce(e,s.bind(function(e,t){return e||t(n,this)},this),void 0)},getPageId:function(){return this.props.dataSource.pageData&&this.props.dataSource.pageData.id},render:i})}),define("panels/toolPanels/pagesSelector/treeNode.rt",["react","lodash"],function(a,s){"use strict";return function(){return function(){var e=this.getTreeViewClass(),t=this.props.nodeContent,n=this.getChildren().length;return this.hasChildren(),a.createElement("li",{"data-numofchildren":n,className:s({"has-children":this.hasChildren(),"pages-tree-node":!0}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},a.createElement(t,this.passNodeContentProps(this.props.dataSource)),a.createElement(e,s.assign({},{isCollapsed:this.state.collapsed},this.passNodeProps())))}.apply(this,[])}}),define("panels/toolPanels/pagesSelector/pagesSelectorPanel.rt",["react","lodash","util","baseUI","baseUILib","santa-editor-symbols","popups","panels/toolPanels/pagesSelector/pageItem","panels/toolPanels/pagesSelector/treeNode.rt","panels/frames/toolPanelFrame"],function(n,a,t,s,i,e,o,l,r,c){"use strict";return function(){return this.getEditorAPI().pages.popupPages.getCurrentPopup()?function(){var e=o.mappers.pagesSelectorPanel(this.getEditorAPI());return n.createElement(c,a.assign({},{contentStyle:this.getFrameStyle(),key:"pages-selector-panel",keyboardShortcuts:this.getKeyboardShortcuts(),contentWrapperClass:"pages-selector-panel",headerTitle:t.translate("Popups_Settings_Pages_Panel_Header")},a.omit(this.props,"children")),e.selectAll.visible?n.createElement("div",{className:"description-block",key:"selectAll_description"},"\n        ",t.translate("Popups_Settings_Pages_Panel_Text"),"\n    "):null,e.selectAll.visible?n.createElement("div",{className:"select-all-block",key:"selectAll_control"},n.createElement(i.Checkbox,{disabled:e.selectAll.disabled,labelAfterSymbol:!0,value:e.selectAll.checked,indeterminate:e.selectAll.indeterminate,onChange:this.toggleOpenOnAllPages,label:"Popups_Settings_Pages_All_Toggle"})):null,n.createElement(i.CustomScroll,{},function(e){var t=this.getEditorAPI();return n.createElement("div",{className:"pages-selector-scrollbox"},n.createElement(s.treeView,{className:"pages-tree ",dataSource:this.getTreeDataSource(),editorAPI:t,nodeContent:l,nodeTemplate:r,validatePage:a.partial(this.validatePage,e),selectedPageIds:e.selectedPageIds,toggleSelection:this.toggleOpenOnPage,isRoot:!0}))}.apply(this,[e])))}.apply(this,[]):null}}),define("panels/toolPanels/pagesSelector/pagesSelectorPanel",["create-react-class","lodash","util","core","popups","panels/toolPanels/pagesSelector/pagesSelectorPanel.rt"],function(e,s,n,t,a,i){"use strict";return e({displayName:"pagesSelectorPanel",mixins:[t.mixins.editorAPIMixin,n.translationMixin],getFrameStyle:function(){return s.pick(this.props,["top","left","width"])},toggleOpenOnPage:function(e,t){var n=this.getEditorAPI();t?a.actions.openBehaviors.assignOpenBehaviorToPage(n,e):a.actions.openBehaviors.removeOpenBehaviorFromPage(n,e)},toggleOpenOnAllPages:function(e){var t=this.getEditorAPI();e?a.actions.openBehaviors.assignOpenBehaviorToAllPages(t):a.actions.openBehaviors.removeOpenBehaviorFromAllPages(t)},validatePage:function(e,t){if(s.has(e.occupiedPages,t))return{valid:!1,message:this.translateTemplate("Popups_Settings_Triggers_Page_Has_Popup_Tooltip",{POPUP_NAME:'"'+e.occupiedPages[t]+'"'},this.getEditorAPI())}},getKeyboardShortcuts:function(){var e={},t=n.browserUtil.getKeyboardSpecialKey().value;return e[t+" + z"]=this.getEditorAPI().history.undo,e[[t+" + y",t+" + shift + z"].join(",")]=this.getEditorAPI().history.redo,e},getTreeDataSource:function(){var e=this.getEditorAPI(),t=e.pages.dynamicPages.getMenuItems(),n=e.mainMenu.getMenuItemsTreeForPagesFixed(),a=s.flatMap(t,"items");return n.concat(a)},render:i})}),define("panels/toolPanels/exampleToolPanel.rt",["react","lodash","panels/frames/toolPanelFrame"],function(e,t,n){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,headerTitle:"Tools Panel",contentStyle:this.getFrameStyle()},e.createElement("div",{},"content here"))}}),define("panels/toolPanels/exampleToolPanel",["create-react-class","lodash","panels/toolPanels/exampleToolPanel.rt"],function(e,t,n){"use strict";return e({displayName:"exampleToolPanel",getDefaultProps:function(){return{top:"200px",left:"300px"}},getFrameStyle:function(){return t.defaults({width:500,height:200},t.pick(this.props,["top","left"]))},render:n})}),define("panels/toolPanels/linkPanel/linkPanel.rt",["react","lodash","panels/frames/toolPanelFrame","baseUI","baseUILib","util","santa-editor-symbols","experiment"],function(i,s,o,l,r,c,p,u){"use strict";return function(){function n(e,t){var n=this.getPagesWithAnchors();return i.createElement(l.tabs.tab,{name:"AnchorLink",className:"anchor",key:"anchorLinkTab"},s.isEmpty(n)?i.createElement("div",{key:"noAnchorsWrapper",className:"no-anchors"},i.createElement("div",{className:"symbol-container"},i.createElement(p.symbol,{name:"noLink"})),i.createElement("h3",{},this.translateIfNeeded("LINK_PANEL_NO_ANCHOR_TITLE")),i.createElement("p",{},this.translateIfNeeded("LINK_PANEL_NO_ANCHOR_TEXT")),i.createElement(l.button,{className:"btn-text",label:"Anchor_Settings_How_Link_Text",onClick:this.openLearnMoreOnAnchor})):null,s.isEmpty(n)?null:i.createElement("label",{className:"dropdown-title",key:"pagesDropDownAnchorTabLabel"},c.translate(this.props.anchorTabPageDropDownTitle?this.props.anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_LABEL")),s.isEmpty(n)?null:i.createElement.apply(this,[r.DropDown,{shouldTranslate:!1,value:this.linkToPage().value,searchBox:!0,onChange:this.linkToPage().requestChange,key:"pagesDropDownAnchorTab",optionsContainerClassName:"link-panel-options-container"},s.map(this.getPagesWithAnchors(),function(e,t,n,a,s){return i.createElement(r.DropDownOption,{className:a.level?"level"+a.level:"",key:a.id,value:a.id,label:a.title+this.getCurrentPageThisTranslate(a.id)+" "+this.getRouterTypeForPageId(a.id),shouldTranslate:!1})}.bind(this,e,t,n))]),s.isEmpty(n)?null:i.createElement(r.Divider,{long:!0,key:"anchorDivider",className:"dropdown-link-separator"}),s.isEmpty(n)||!this.isDynamicPage(this.state.page.id)||this.isCollectionPageOrHasOneRoute()?null:i.createElement("label",{className:"dropdown-title",key:"innerRouteDropDownLabel"},c.translate("LINK_PANEL_PAGE_INNER_ROUTES_DROP_DOWN_LABEL")),s.isEmpty(n)||!this.isDynamicPage(this.state.page.id)||this.isCollectionPageOrHasOneRoute()?null:i.createElement.apply(this,[r.DropDown,{shouldTranslate:!1,searchBox:!0,disabled:!this.shouldShowInnerRoutesDropDown(),key:"innerRouteDropDown",value:this.linkToInnerRoute().value,optionsContainerClassName:"link-panel-options-container",onChange:this.linkToInnerRoute().requestChange},this.shouldShowPrevButton()?i.createElement(r.Button,{className:"btn-text",key:"prevButton",onClick:this.decreaseRange},i.createElement("span",{key:"preButtonText"},c.translate("dynamic_pages_routes_navigation_button_back"))):null,s.map(this.getInnerRoutesDropDown(),function(e,t,n,a,s){return i.createElement(r.DropDownOption,{shouldTranslate:!1,key:a.url,value:a.url,label:a.title})}.bind(this,e,t,n)),this.shouldShowNextButton()?i.createElement(r.Button,{className:"btn-text",key:"nextButton",onClick:this.increaseRange},i.createElement("span",{key:"nextButtonText"},c.translate("dynamic_pages_routes_navigation_button_next"))):null]),this.shouldShowInnerRoutesDropDown()?i.createElement(r.Divider,{key:"innerRouteDropDownDivider",long:!0,className:"dropdown-link-separator"}):null,s.isEmpty(n)?null:i.createElement("label",{className:"dropdown-title",key:"anchorNameLabel"},c.translate("LINK_PANEL_PAGE_ANCHOR_DROP_DOWN_LABEL")),s.isEmpty(n)?null:i.createElement.apply(this,[r.DropDown,{key:"anchorDropDown",shouldTranslate:!1,value:this.linkToAnchor().value,searchBox:!0,onChange:this.linkToAnchor().requestChange,optionsContainerClassName:"link-panel-options-container",disabled:!Boolean(this.state.link)||!Boolean(this.hasAnchors())||this.isDynamicPage(this.state.page.id)&&!this.shouldShowInnerRoutesDropDown()&&!this.isCollectionPageOrHasOneRoute()},s.map(this.getDropDownOptions(),function(e,t,n,a,s){return i.createElement(r.DropDownOption,{shouldTranslate:!1,key:a.value,value:a.value,label:a.label})}.bind(this,e,t,n))]))}function a(e,t){var n=this.popupList;return i.createElement(l.tabs.tab,{name:"PopupLink",key:"popupLinkTab",className:"popup"},n.length?null:i.createElement("div",{key:"popups-not-exist"},i.createElement("div",{className:"symbol-container"},i.createElement(p.symbol,{name:"noPopup"})),i.createElement("h3",{},this.translateIfNeeded("LINK_PANEL_TAB_POP-UP_TITLE")),i.createElement("p",{},this.translateIfNeeded("LINK_PANEL_TAB_POP-UP_TEXT")),i.createElement(l.button,{className:"btn-text",label:"LINK_PANEL_TAB_ADD_NEW_POP-UP_LINK",onClick:this.goToAddPanelPopup})),n.length?i.createElement("div",{key:"popups-exist",className:"popup-list"},i.createElement.apply(this,[l.dropDown.select,{label:"LINK_PANEL_TAB_POP-UP_DROP_DOWN_LABEL",valueLink:this.linkTo("pageId")},s.map(n,function(e,t,n,a,s){return i.createElement(l.dropDown.option,{shouldTranslate:!1,key:a.id,value:"#"+a.id},a.title,"\n                        ")}.bind(this,e,t,n))]),i.createElement(r.Divider,{long:!0,className:"popup-divider"}),i.createElement("div",{className:"popup-footer"},this.isMobileEditor()?null:i.createElement("div",{className:"popup-footer-content",key:"isMobileEditor"},i.createElement("span",{className:"popup-want-to-add-link"},c.translate("LINK_PANEL_TAB_ADD_NEW_POP-UP_TEXT")),i.createElement(l.button,{className:"btn-text",label:"LINK_PANEL_TAB_ADD_NEW_POP-UP_LINK",onClick:this.goToAddPanelPopup})))):null)}return function(){var e=this.isSectionVisible("PageLink"),t=this.isSectionVisible("NoLink");return i.createElement(o,{helpId:this.getHelpId(),panelName:this.props.panelName,selectedComponentType:this.props.bi.selectedComponentType,headerTitle:c.translate("LINK_PANEL_HEADER_PANE_LABEL"),ref:"frame",onClose:this.props.onCancelCallback&&this.props.onCancelCallback.bind(null,this.props.link),contentWrapperClass:"link-panel"},i.createElement(l.tabs.holder,{valueLink:this.linkSelectedTab(),className:"left radio",ref:"tabs"},i.createElement(l.tabs.header,{},this.isSectionVisible("NoLink")?i.createElement(l.tabs.label,{htmlFor:"NoLink",key:"noLinkTabLabel",automationId:"link-panel-no-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_TAB_NONE"),"\n            "):null,this.isSectionVisible("ExternalLink")?i.createElement(l.tabs.label,{htmlFor:"ExternalLink",key:"externalLinkTabLabel",automationId:"link-panel-external-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_TAB_WEB_ADDRESS"),"\n            "):null,this.isSectionVisible("PageLink")&&this.shouldShowPageSection()?i.createElement(l.tabs.label,{htmlFor:"PageLink",key:"pageLinkTabLabel",automationId:"link-panel-page-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_TAB_PAGE"),"\n            "):null,this.isSectionVisible("AnchorLink")?i.createElement(l.tabs.label,{htmlFor:"AnchorLink",key:"anchorLinkTabLabel",automationId:"link-panel-anchor-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_TAB_ANCHOR"),"\n            "):null,this.isSectionVisible("EdgeAnchorLinks")?i.createElement(l.tabs.label,{htmlFor:"EdgeAnchorLinks",key:"edgeAnchorLinksLabel",automationId:"link-panel-edge-anchor-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_TAB_TOPandBOTTOM"),"\n            "):null,this.isSectionVisible("DocumentLink")?i.createElement(l.tabs.label,{htmlFor:"DocumentLink",key:"docLinkTabLabel",automationId:"link-panel-document-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_TAB_DOCUMENT"),"\n            "):null,this.isSectionVisible("EmailLink")?i.createElement(l.tabs.label,{htmlFor:"EmailLink",key:"emailLinkTabLabel",automationId:"link-panel-email-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_TAB_EMAIL"),"\n            "):null,this.isSectionVisible("PhoneLink")?i.createElement(l.tabs.label,{htmlFor:"PhoneLink",key:"phoneLinkTabLabel",automationId:"link-panel-phone-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_TAB_PHONE"),"\n            "):null,u.isOpen("se_QuickActionBarWhatsApp")&&this.isSectionVisible("WhatsAppLink")&&this.isMobileEditor()?i.createElement(l.tabs.label,{htmlFor:"WhatsAppLink",key:"whatsAppLinkTabLabel",automationId:"link-panel-whatsapp-link"},"\n                ",this.translateIfNeeded("mobile_quick_actions_set_up_default_WhatsApp_phone"),"\n            "):null,u.isOpen("se_QuickActionBarAddress")&&this.isSectionVisible("AddressLink")&&this.isMobileEditor()?i.createElement(l.tabs.label,{htmlFor:"AddressLink",key:"addressLinkTabLabel",automationId:"link-panel-address-link"},"\n                ",this.translateIfNeeded("mobile_quick_actions_set_up_default_Address"),"\n            "):null,this.isSectionVisible("PopupLink")?i.createElement(l.tabs.label,{htmlFor:"PopupLink",key:"popupLinkTabLabel",automationId:"link-panel-popup-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_TAB_POP-UP"),"\n            "):null,u.isOpen("wixstaff")&&this.isSectionVisible("LoginToWixLink")?i.createElement(l.tabs.label,{htmlFor:"LoginToWixLink",key:"homePageLoginTabLabel",automationId:"link-panel-login-to-wix-link"},"\n                ",this.translateIfNeeded("LINK_PANEL_HOME_PAGE_LOGIN"),"\n            "):null),i.createElement(l.tabs.content,{},t?i.createElement(l.tabs.tab,{name:"NoLink",className:"none",key:"NoLinkTab"},i.createElement("div",{className:"symbol-container"},i.createElement(p.symbol,{name:"noLink"})),i.createElement("h3",{},this.translateIfNeeded("LINK_PANEL_PAGE_DROP_DOWN_Title")),i.createElement("p",{},this.translateIfNeeded("LINK_PANEL_PAGE_DROP_DOWN_Text"))):null,this.isPagesDropDownReady()&&e?i.createElement(l.tabs.tab,{name:"PageLink",className:"page",key:"pageLinkTab"},i.createElement(r.Composites.DropDownLabeled,{key:"dropDownLabeled"},i.createElement(r.TextLabel,{value:c.translate(this.props.pageTabPageDropDownTitle?this.props.pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_LABEL"),shouldTranslate:!1}),i.createElement.apply(this,[r.DropDown,{shouldTranslate:!1,value:this.linkToPage().value,searchBox:!0,onChange:this.linkToPage().requestChange,optionsContainerClassName:"link-panel-options-container"},s.map(this.getPagesListToShow(),function(e,t,n,a){return i.createElement(r.DropDownOption,{shouldTranslate:!1,className:n.level?"level"+n.level:"",key:n.id,value:n.id,label:n.title+this.getCurrentPageThisTranslate(n.id)+" "+this.getRouterTypeForPageId(n.id)})}.bind(this,e,t))])),i.createElement(r.Divider,{className:"page-link-drop-divider"}),this.shouldShowInnerRoutesDropDown()?i.createElement("label",{className:"dropdown-title",key:"innerRouteDropDownLabel"},c.translate("LINK_PANEL_PAGE_INNER_ROUTES_DROP_DOWN_LABEL")):null,this.shouldShowInnerRoutesDropDown()?i.createElement.apply(this,[r.DropDown,{shouldTranslate:!1,searchBox:!0,key:"innerRouteDropDown",value:this.linkToInnerRoute().value,onChange:this.linkToInnerRoute().requestChange,optionsContainerClassName:"link-panel-options-container"},this.shouldShowPrevButton()?i.createElement(r.Button,{className:"btn-text",key:"prevButton",onClick:this.decreaseRange},i.createElement("span",{},c.translate("dynamic_pages_routes_navigation_button_back"))):null,s.map(this.getInnerRoutesToRender()||[],function(e,t,n,a){return i.createElement(r.DropDownOption,{shouldTranslate:!1,key:n.url,value:n.url,label:n.title})}.bind(this,e,t)),this.shouldShowNextButton()?i.createElement(r.Button,{className:"btn-text",key:"nextButton",onClick:this.increaseRange},i.createElement("span",{},c.translate("dynamic_pages_routes_navigation_button_next"))):null]):null,i.createElement(r.Composites.RadioButtonsLabeled,{},i.createElement(r.TextLabel,{value:"LINK_PANEL_WEB_ADDRESS_OPTIONS_LABEL"}),function(e,t){var n=this.linkTo("target");return i.createElement(r.RadioButtons,{className:"open-target-radio-buttons",value:n.value,onChange:n.requestChange,options:[{value:"_blank",label:"LINK_PANEL_WEB_ADDRESS_OPTION1"},{value:"_self",label:"LINK_PANEL_WEB_ADDRESS_OPTION2"}]})}.apply(this,[e,t]))):null,this.isPagesDropDownReady()?n.apply(this,[e,t]):null,i.createElement(l.tabs.tab,{name:"ExternalLink",className:"web"},i.createElement(r.Composites.TextInputLabeled,{},i.createElement(r.TextLabel,{value:"LINK_PANEL_WEB_ADDRESS_INPUT_LABEL",automationId:"link-panel-web-address-label"}),i.createElement(r.TextInput,{key:"webAddress",validator:this.isValidUrl,invalidMessage:"Validation_V2_URL",placeholder:"LINK_PANEL_WEB_ADDRESS_DEFAUL",validateInitialValue:!1,onChange:function(e,t,n){this.updateLinkValue("url",n)}.bind(this,e,t),value:this.state.link&&this.state.link.url,onValidationStatus:function(e,t,n){this.validationStatusChanged(n,"url")}.bind(this,e,t),focus:!0})),i.createElement(r.Divider,{}),i.createElement(r.Composites.RadioButtonsLabeled,{},i.createElement(r.TextLabel,{value:"LINK_PANEL_WEB_ADDRESS_OPTIONS_LABEL"}),function(e,t){var n=this.linkTo("target");return i.createElement(r.RadioButtons,{className:"open-target-radio-buttons",value:n.value,onChange:n.requestChange,options:[{value:"_blank",label:"LINK_PANEL_WEB_ADDRESS_OPTION1"},{value:"_self",label:"LINK_PANEL_WEB_ADDRESS_OPTION2"}]})}.apply(this,[e,t]))),i.createElement(l.tabs.tab,{name:"EmailLink",className:"email"},i.createElement(r.Composites.TextInputLabeled,{},i.createElement(r.TextLabel,{value:"LINK_PANEL_EMAIL_INPUT_LABEL",automationId:"link-panel-email-address-label"}),i.createElement(r.TextInput,{key:"emailAddress",validator:this.isValidEmail,invalidMessage:"Validation_V1_Email",placeholder:"LINK_PANEL_EMAIL_INPUT_DEFAULT",validateInitialValue:!1,onChange:function(e,t,n){this.updateLinkValue("recipient",n)}.bind(this,e,t),value:this.state.link&&this.state.link.recipient,onValidationStatus:function(e,t,n){this.validationStatusChanged(n,"recipient")}.bind(this,e,t),focus:!0})),i.createElement(r.Divider,{}),i.createElement(r.Composites.TextInputLabeled,{},i.createElement(r.TextLabel,{value:"LINK_PANEL_EMAIL_SUBJUCT",automationId:"link-panel-email-address-subject-label"}),i.createElement(r.TextInput,{key:"emailAddressSubject",validator:this.isValidSubject,invalidMessage:"Validation_V21_InvalidInput",placeholder:"LINK_PANEL_EMAIL_SUBJECT_DEFAULT",validateInitialValue:!1,onChange:function(e,t,n){this.updateLinkValue("subject",n)}.bind(this,e,t),value:this.state.link&&this.state.link.subject,onValidationStatus:function(e,t,n){this.validationStatusChanged(n,"subject")}.bind(this,e,t)}))),i.createElement(l.tabs.tab,{name:"PhoneLink",className:"phone"},i.createElement(r.Composites.TextInputLabeled,{},i.createElement(r.InfoIcon,{text:"LINK_PANEL_PHONE_DESCRIPTION_TOOLTIP"}),i.createElement(r.TextLabel,{value:"LINK_PANEL_PHONE_INPUT_LABEL",automationId:"link-panel-phone-number-label"}),i.createElement(r.TextInput,{key:"phoneNumber",validator:this.isValidPhone,invalidMessage:"Validation_V1_Phone",placeholder:"LINK_PANEL_PHONE_INPUT_DEFAULT",validateInitialValue:!1,onChange:function(e,t,n){this.updateLinkValue("phoneNumber",n)}.bind(this,e,t),value:this.state.link&&this.state.link.phoneNumber,onValidationStatus:function(e,t,n){this.validationStatusChanged(n,"phoneNumber")}.bind(this,e,t),focus:!0})),i.createElement(r.Divider,{}),i.createElement("p",{className:"extra-info"},this.translateIfNeeded("LINK_PANEL_PHONE_DESCRIPTION"),"\n                    ",i.createElement(l.button,{className:"btn-text inline-link-button",label:"LINK_PANEL_PHONE_DESCRIPTION_LINK",onClick:this.openLearnMoreOnPhoneLink}))),u.isOpen("se_QuickActionBarWhatsApp")&&this.isMobileEditor()?i.createElement(l.tabs.tab,{name:"WhatsAppLink",className:"whatsapp",key:"whatsapp"},i.createElement(r.Composites.TextInputLabeled,{},i.createElement(r.InfoIcon,{text:"LINK_PANEL_PHONE_DESCRIPTION_TOOLTIP"}),i.createElement(r.TextLabel,{value:"LINK_PANEL_PHONE_INPUT_LABEL",automationId:"link-panel-whatsapp-number-label"}),i.createElement(r.TextInput,{key:"whatsappNumber",validator:this.isValidInternationalPhone,invalidMessage:"Validation_V1_Phone",placeholder:"LINK_PANEL_PHONE_INPUT_DEFAULT",validateInitialValue:!1,maxLength:100,onChange:function(e,t,n){this.updateLinkValue("phoneNumber",n)}.bind(this,e,t),value:this.state.link&&this.state.link.phoneNumber,onValidationStatus:function(e,t,n){this.validationStatusChanged(n,"phoneNumber")}.bind(this,e,t),focus:!0})),i.createElement(r.Divider,{}),i.createElement("p",{className:"extra-info"},this.translateIfNeeded("LINK_PANEL_PHONE_WHATSAPP_DESCRIPTION"),"\n                    ",i.createElement(l.button,{className:"btn-text inline-link-button",label:"LINK_PANEL_PHONE_WHATSAPP_LINK",onClick:this.openLearnMoreOnWhatsappLink}))):null,u.isOpen("se_QuickActionBarAddress")?i.createElement(l.tabs.tab,{name:"AddressLink",className:"address",key:"address"},i.createElement("div",{className:"addressLinkWrapper"},i.createElement(l.textInput,{label:"mobile_quick_actions_set_up_address_label",infoText:"Google_Maps_Settings_Information_Address_Tooltip",key:"address",asyncValidator:this.isValidAddress,invalidMessage:"Validation_V13_Google_Maps",placeholder:"mobile_quick_actions_location_placeholder_text",value:this.state.link&&this.state.link.address,onValidationStatus:function(e,t,n){this.validationStatusChanged(n,"address")}.bind(this,e,t),focus:!0,maxLength:1024,validateInitialValue:!0,onChange:function(e,t,n){this.updateLinkValue("address",n)}.bind(this,e,t),validateOnBlurOnly:!0,blurOnEnterKey:!0}),i.createElement(r.Divider,{long:!0})),i.createElement("p",{className:"extra-info"},this.translateIfNeeded("LINK_PANEL_ADDRESS_DESCRIPTION"))):null,i.createElement(l.tabs.tab,{name:"DocumentLink",className:"document"},i.createElement(r.Composites.RichText,{},i.createElement(r.RichText,{},this.translateIfNeeded("LINK_PANEL_DOCUMENT_LABEL"))),i.createElement(l.changeMediaInput,{buttonLabelWithItems:"LINK_PANEL_DOCUMENT_BUTTON",buttonLabelWithoutItems:"LINK_PANEL_DOCUMENT_BUTTON",selectionType:"single",value:this.state.link?this.state.link.name:"",onChange:this.documentChanged}),u.isOpen("se_pdfIndexing")?i.createElement("div",{key:"pdf-indexing-section-link"},c.media.isFilePDF(this.getDocId())?i.createElement(r.Divider,{key:"indexableSeparator"}):null,c.media.isFilePDF(this.getDocId())?i.createElement("div",{className:"search-results-pdf",key:"search-results-pdf"},this.state.pdfIndexable?i.createElement("div",{className:"search-results-pdf-inner-container",key:"search-results-pdf-inner-container"},i.createElement("span",{className:"search-results-pdf-info-text"},this.translateIfNeeded("LINK_PANEL_DOCUMENT_PDF_INDEXINGON_TEXT1")," "),i.createElement("span",{className:"search-results-pdf-link-text",onClick:this.openMediaGallery.bind(this,"ALL_MEDIA")},this.translateIfNeeded("LINK_PANEL_DOCUMENT_PDF_INDEXINGON_LINK"))):null,this.state.pdfIndexable?null:i.createElement("span",{key:"search-results-pdf-text",className:"search-results-pdf-text",onClick:this.handleShowPdfIndexing},"\n                            ",this.translateIfNeeded("Document_Settings_PDF_SeoSection_ShowPDFinResults_Link"),"\n                        ")):null):null),i.createElement(l.tabs.tab,{key:"edge-anchors",name:"EdgeAnchorLinks",className:"edge-anchors"},i.createElement(r.Composites.Thumbnails,{},i.createElement(r.TextLabel,{value:"LINK_PANEL_TAB_TOPandBOTTOM_LABEL",enableEllipsis:!1}),i.createElement(r.Thumbnails,{value:this.linkToAnchor().value,onChange:this.linkToAnchor().requestChange,maxThumbsPerRow:2,borderType:"thumbnailAndLabel",options:this.getEdgeAnchors()}))),a.apply(this,[e,t]),u.isOpen("wixstaff")?i.createElement(l.tabs.tab,{name:"LoginToWixLink",className:"home-page-link",key:"homePageLoginTab"},i.createElement(l.textInput,{ref:"postLogin",key:"postLogin",label:"LINK_PANEL_POST_LOGIN_INPUT",valueLink:this.linkToAndTrim("postLoginUrl"),validator:this.isEmptyStringOrFullUrl,invalidMessage:"Validation_V2_URL",onChangeInValidationStatus:function(e,t,n){this.setState({isValid:n})}.bind(this,e,t)}),i.createElement(l.textInput,{ref:"postSignup",key:"postSignup",label:"LINK_PANEL_POST_SIGNUP_INPUT",valueLink:this.linkToAndTrim("postSignupUrl"),validator:this.isEmptyStringOrFullUrl,invalidMessage:"Validation_V2_URL",onChangeInValidationStatus:function(e,t,n){this.setState({isValid:n})}.bind(this,e,t)}),i.createElement.apply(this,[l.dropDown.select,{label:"LINK_PANEL_VIEW_DROPDOWN",valueLink:this.linkTo("dialog")},s.map([{label:"LINK_PANEL_VIEW_SHOW_LOGIN",value:"showLogin"},{label:"LINK_PANEL_VIEW_LOGIN",value:"login"},{label:"LINK_PANEL_VIEW_SIGNUP",value:"createUser"}],function(e,t,n,a){return i.createElement(l.dropDown.option,{key:n.value,value:n.value},n.label,"\n                    ")}.bind(this,e,t))]),i.createElement(r.ToggleSwitch,{ref:"sendMail",key:"sendMail",value:this.linkLoginToWixLinkSendEmailProperty().value,label:"LINK_PANEL_SEND_MAIL_TOGGLE",onChange:this.linkLoginToWixLinkSendEmailProperty().requestChange}),i.createElement(l.textInput,{ref:"welcomeEmail",key:"welcomeEmail",label:"LINK_PANEL_WELCOME_EMAIL_INPUT",valueLink:this.linkTo("mailTemplate")}),i.createElement(l.textInput,{ref:"color",key:"color",label:"LINK_PANEL_USER_COLOR_INPUT",valueLink:this.linkTo("userColor")}),i.createElement(l.textInput,{ref:"name",key:"name",label:"LINK_PANEL_BUTTON_NAME",valueLink:this.linkTo("loginCompName")})):null)),i.createElement("footer",{},i.createElement(l.button,{label:"LINK_PANEL_CANCEL_BUTTON",ref:"cancelButton",onClick:this.cancel,className:"btn-confirm-secondary"}),i.createElement(l.button,{label:"LINK_PANEL_DONE_BUTTON",ref:"okButton",onClick:this.done,className:"btn-confirm-primary",disabled:this.isOkDisabled()})))}.apply(this,[])}}),define("panels/toolPanels/linkPanel/linkPanel",["react-addons-linked-state-mixin","react","santa-editor-symbols","create-react-class","prop-types","core","lodash","util","stateManagement","panels/toolPanels/linkPanel/linkPanel.rt","coreBi","constants"],function(e,t,n,a,s,i,p,c,o,l,r,u){"use strict";var d="CURRENT_INNER_ROUTE",m=100,h=["DynamicPageLink","PageLink","AnchorLink","ExternalLink","EmailLink","PhoneLink","WhatsAppLink","DocumentLink","PopupLink","AddressLink"],g=o.editorPlugins.linkPanel.selectors.getOverriddenSectionsVisibility;function f(e,t){if("SCROLL_TO_TOP"===e.anchorDataId||"SCROLL_TO_BOTTOM"===e.anchorDataId)return!0;var n=p.has(e.anchorDataId,"id")?"#"+p.get(e.anchorDataId,"id"):e.anchorDataId;return p.some(t,{anchorDataId:n})}function P(e,t){if(e){p.has(e,"id")&&(e=e.id),"#"===e.charAt(0)&&(e=e.substr(1));for(var n=0;n<t.length;n++){var a=t[n];if(e===a.id)return p.assign({},a,{pageId:"#"+e})}}return{pageId:""}}function _(e){return"SCROLL_TO_TOP"===e}function b(e){return"SCROLL_TO_BOTTOM"===e}function E(e,t){var n=p.clone(this.state.link);n[e]=t,this.setState({link:n})}function C(){var e,t,n=this.state.link;if(!n)return!1;switch(n.type){case"DynamicPageLink":var a=this.isCollectionPageOrHasOneRoute();return t=n,a?!p.isEmpty(t.routerId):!p.isEmpty(t.routerId)&&!p.isEmpty(t.innerRoute);case"PageLink":return!!n.pageId;case"AnchorLink":return!!(e=n).pageId&&!!e.anchorDataId;case"ExternalLink":return this.isValidUrl(n&&n.url);case"EmailLink":return this.isValidEmail(n&&n.recipient);case"PhoneLink":return this.isValidPhone(n&&n.phoneNumber);case"WhatsAppLink":return this.isValidInternationalPhone(n&&n.phoneNumber);case"DocumentLink":return n.docId}return!0}function I(e,t){var n=g(t);return p.assign({},e,n)}function y(e,t){return c.media.isFilePDF(t)&&c.media.isPdfAlreadyMarkedIndexable(e,t)}return a({displayName:"linkPanel",propTypes:{data:s.shape({pages:s.arrayOf(s.shape({id:s.string,title:s.string})),popups:s.arrayOf(s.shape({id:s.string,title:s.string})),anchors:s.arrayOf(s.shape({id:s.string,name:s.string,pageId:s.string})),currentPageId:s.string}),bi:s.shape({selectedComponentType:s.string}),link:s.object,createDefaultData:s.func.isRequired,currentPage:s.string,callback:s.func,onCancelCallback:s.func,visibleSections:s.object,defaultLinkType:s.string,hideExternalLinkTarget:s.bool,initialTabToDisplay:s.oneOf(h),autoFocusAddress:s.bool},mixins:[e,c.translationMixin,i.mixins.editorAPIMixin],render:l,getInitialState:function(){var e=this.getEditorAPI();this.visibleSections=I(this.props.visibleSections,e.store.getState());var t=p.cloneDeep(this.props.link)||null;y(e,p.get(t,"docId"))&&(t.indexable=!0),t=this.updateLinkIfPageWasConvertedToDynamicPage(t),this.gotPageIdFromInnerRoute=!(t&&"DynamicPageLink"===t.type),t&&"AnchorLink"===t.type&&!f(t,this.props.data.anchors)&&(t=function(e,t){if(e.pageId){var n=p.has(e.pageId,"id")?e.pageId.id:e.pageId.replace("#","");if(p.some(t,{id:n}))return{type:"PageLink",pageId:e.pageId}}return null}(t,this.props.data.pages));var n=t&&"ExternalLink"===t.type&&p.get(this.visibleSections,"AddressLink"),a=!0;n&&(t={type:"AddressLink",address:t.url});var s=n||t&&"AddressLink"===t.type;t&&"AddressLink"===t.type&&(a=t.address&&0!==t.address.length&&!n);var i,o=void 0;if(t&&"DynamicPageLink"===t.type&&(f(t,this.props.data.anchors)||(t.anchorDataId=null),i=t,e.dsRead.routers.get.byId(i.routerId)||(t=null)),this.pagesList=this.cachePagesList(this.props.data.pages),this.popupList=this.getPopupLinkOptions(),!t){var l=this.getDefaultLink();t=l.link,o=l.page}if(!t||"PageLink"!==t.type&&"AnchorLink"!==t.type)o||(o=this.props.createDefaultData("PageLink"));else{var r=p.isString(t.pageId)?t.pageId:"#"+p.get(t.pageId,"id"),c=r!=="#"+e.dsRead.siteSegments.getSiteStructureId()?r:this.props.data.currentPageId;"PageLink"===t.type&&(t.target=t.target||"_self"),o=P(c,this.props.data.pages)}return this.routers=e.dsRead.routers.get.all(),{selectedTab:this.props.initialTabToDisplay||this.getDefaultSelectedTab(t),link:t,page:o,hasAsyncValidator:s,routerInnerRoutes:null,innerRoutesRangeStartIndex:0,isClosing:!1,isValid:a,pdfIndexable:t.indexable}},updateLinkIfPageWasConvertedToDynamicPage:function(e){if(e&&e.type&&("PageLink"===e.type||"AnchorLink"===e.type)){var t=p.isString(e.pageId)?e.pageId:"#"+p.get(e.pageId,"id"),n=this.getEditorAPI().dsRead.routers.getRouterDataForPageIfExist(t);if(n)return{type:"DynamicPageLink",routerId:n.routerId,innerRoute:"",anchorDataId:e.anchorDataId||""}}return e},componentDidMount:function(){this.state.link&&"DynamicPageLink"===this.state.link.type&&this.getPageFromInnerRoute()},getPageFromInnerRoute:function(){var e=this.getEditorAPI();if("CURRENT_INNER_ROUTE"===this.state.link.innerRoute){var t=P(this.props.data.currentPageId,this.props.data.pages);return this.gotPageIdFromInnerRoute=!0,void this.setState({page:t})}e.dsRead.routers.getPageFromInnerRoute(this.state.link.routerId,this.state.link.innerRoute,function(e){if(this.gotPageIdFromInnerRoute=!0,e){var t=P(e,this.props.data.pages);this.setState({page:t})}else{var n=this.getDefaultLink();this.setState({selectedTab:this.getDefaultSelectedTab(n.link),link:n.link,page:n.page})}}.bind(this))},isPagesDropDownReady:function(){return!this.state.link||"DynamicPageLink"!==this.state.link.type||this.state.link&&"DynamicPageLink"===this.state.link.type&&this.gotPageIdFromInnerRoute},getDefaultLink:function(){var e=P(this.pagesList[0].id,this.props.data.pages);if(this.props.defaultLinkType)return{link:this.props.createDefaultData(this.props.defaultLinkType),page:e};if(this.shouldHidePageLinkPossibilty()){var t=this.getDefaultDataForAnchorTab();return t||{link:this.props.createDefaultData("ExternalLink"),page:e}}return{link:this.getDefaultDataForPageLinkTab(this.pagesList[0].id),page:e}},needToGetInnerRoutes:function(e){return e.link&&this.state.link&&("DynamicPageLink"!==this.state.link.type&&"DynamicPageLink"===e.link.type&&!e.routerInnerRoutes||"DynamicPageLink"===this.state.link.type&&"DynamicPageLink"===e.link.type&&(!e.routerInnerRoutes||this.state.link.routerId!==e.link.routerId)||"DynamicPageLink"===this.state.link.type&&"DynamicPageLink"===e.link.type&&(!e.routerInnerRoutes||this.state.page.id!==e.page.id))},componentWillUpdate:function(e,t){this.needToGetInnerRoutes(t)&&this.getRouterInnerRoutes(t)},componentWillReceiveProps:function(e){this.pagesList=this.cachePagesList(e.data.pages),this.popupList=this.getPopupLinkOptions(),this.visibleSections=I(e.visibleSections,this.getEditorAPI().store.getState())},setIsValidLink:function(){if(!this.state.hasAsyncValidator){var e=!this.state.link||C.call(this);this.state.isValid!==e&&this.setState({isValid:e})}},componentDidUpdate:function(){this.state.isClosing?(C.call(this)?this.saveLink=this.state.link:this.shouldHidePageLinkPossibilty()||(this.saveLink=null),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)):this.setIsValidLink()},componentWillUnmount:function(){p.isUndefined(this.saveLink)||(this.save(this.saveLink),delete this.saveLink)},getDefaultProps:function(){return{title:"Link Panel",panelName:"Link Panel",bi:{selectedComponentType:""}}},getDefaultSelectedTab:function(e){if(this.props.initialTabToDisplay&&p.includes(h,this.props.initialTabToDisplay))return this.props.initialTabToDisplay;var t,n,a=e?e.type:null,s=["PageLink",void 0,null];return(p.includes(s,a)||"DynamicPageLink"===a&&!e.anchorDataId)&&(a="PageLink"),("AnchorLink"===a||"DynamicPageLink"===a&&e.anchorDataId)&&(a="AnchorLink"),e&&(_(e.anchorDataId)||b(e.anchorDataId)?a="EdgeAnchorLinks":"PageLink"===a&&(t=e,n=this.props.data.popups,Boolean(P(t.pageId,n).pageId))&&(a="PopupLink")),this.isSectionVisible(a)||(a="NoLink"),a},shouldShowPrevButton:function(e){if(p.isEmpty(this.state.routerInnerRoutes))return!1;e=e||this.state.innerRoutesRangeStartIndex;var t=this.state.routerInnerRoutes.length<m;return!(0===e)&&!t},shouldShowNextButton:function(){if(p.isEmpty(this.state.routerInnerRoutes))return!1;var e=this.state.routerInnerRoutes.length<m;return!(this.state.innerRoutesRangeStartIndex+m>=this.state.routerInnerRoutes.length)&&!e},getInnerRoutesToRender:function(){return p.slice(this.state.routerInnerRoutes,this.state.innerRoutesRangeStartIndex,this.state.innerRoutesRangeStartIndex+m)},increaseRange:function(){var e=this.state.innerRoutesRangeStartIndex+m,t=this.shouldShowPrevButton(e)?this.state.routerInnerRoutes[e].url:this.state.routerInnerRoutes[e-1].url;this.setState({innerRoutesRangeStartIndex:e,link:{type:"DynamicPageLink",innerRoute:t,routerId:this.state.link.routerId}})},decreaseRange:function(){var e=this.state.innerRoutesRangeStartIndex-m,t=this.state.routerInnerRoutes[e].url;this.setState({innerRoutesRangeStartIndex:e,link:{type:"DynamicPageLink",innerRoute:t,routerId:this.state.link.routerId}})},linkSelectedTab:function(){return{value:this.state.selectedTab,requestChange:function(e){var t={selectedTab:e},n=void 0;if(this.state.selectedTab!==e){if(this.state.routerInnerRoutes&&(t.routerInnerRoutes=null,t.innerRoutesRangeStartIndex=0),"EdgeAnchorLinks"===e){var a=this.getAnchorLink("SCROLL_TO_TOP");a.page&&(t.page=a.page),t.link=a.link}else if("PopupLink"===e)t.link=this.props.createDefaultData("PageLink"),0<this.popupList.length&&(t.link.pageId="#"+this.popupList[0].id);else{if(t.link=this.props.createDefaultData(e),"PageLink"===e){var s=this.getDefaultPageId();t.link=this.getDefaultDataForPageLinkTab(s),t.page=P(s,this.props.data.pages)}"AnchorLink"===e&&(n=this.getDefaultDataForAnchorTab())&&(t.link=n.link,t.page=n.page)}this.setState(t)}}.bind(this)}},getDefaultPageId:function(){if(this.shouldHidePageLinkPossibilty()){var e=this.getEditorAPI().dsRead.routers.pages.getDynamicPagesList();return p.flatMap(e,"pages")[0].id}return this.pagesList[0].id},getDefaultDataForPageLinkTab:function(e){var t=this.getRouterDataForPageIfExist(e);if(t)return{routerId:t.routerId,type:"DynamicPageLink"};var n="PageLink",a=this.getEditorAPI().data.getSchema(n);return{type:n,pageId:e,target:p.get(a,["target","default"])}},getDefaultDataForAnchorTab:function(){var e=this.getPagesWithAnchors();return!e||p.isEmpty(e)?null:{link:this.getDefaultDataForPageAnchorLinkTabWithDynamicPages(e[0].id),page:P(e[0].id,this.props.data.pages)}},getDefaultDataForPageAnchorLinkTab:function(e){var t=void 0,n=this.getAnchorOptions(this.props.data.anchors,e.substring(1));return this.shouldHidePageLinkPossibilty()?0<n.length&&(t={type:"AnchorLink",anchorDataId:n[0].anchorDataId,pageId:e,anchorName:n[0].anchorName}):t={type:"PageLink",pageId:e},t},getDefaultDataForPageAnchorLinkTabWithDynamicPages:function(e){var t=this.getAnchorOptions(this.props.data.anchors,e.substring(1)),n=this.getRouterDataForPageIfExist(e);if(0<t.length)return n?{type:"DynamicPageLink",routerId:n.routerId,anchorDataId:t[0].anchorDataId}:{type:"AnchorLink",pageId:e,anchorDataId:t[0].anchorDataId,anchorName:t[0].anchorName}},linkToAndTrim:function(e){var t=this.state.link;return{value:t?t[e]:"",requestChange:p.flow(p.trim,E.bind(this,e))}},linkTo:function(e){var t=this.state.link;return{value:t?t[e]:"",requestChange:E.bind(this,e)}},isValidUrl:function(e){return!!e&&c.validate.url(e)},isValidAddress:function(e,a,t){var s=this;return this.setState({isValid:!1}),e&&c.validate.validateAddress(e,function(e){var t=e.address,n=s.state.link;n.address=t,s.setState({isValid:!0,link:n}),a()},t)},isValidEmail:function(e){return!!e&&c.validate.email(e)&&c.validate.notEmpty(e)},isValidSubject:function(e){return c.validate.noHTMLTags(e)},isValidPhone:function(e){return c.validate.phone(e)},isValidInternationalPhone:function(e){return c.validate.internationalPhone(e)},updateLinkValue:function(e,t){var n=p.clone(this.state.link);n[e]=t,this.setState({link:n})},validationStatusChanged:function(e,t){var n={isValid:e};if(!e){var a=p.clone(this.state.link);a[t]=void 0,n.link=a}this.setState(n)},linkLoginToWixLinkSendEmailProperty:function(){var t=this.state.link;return{value:t?t.sendMail:"",requestChange:function(e){t.sendMail=e,t.metaData={schemaVersion:"2.0",isPreset:!0,isHidden:!1},this.setState({link:t})}.bind(this)}},save:function(e){var t,n;e&&"ExternalLink"===e.type&&(e.url=(t=e.url,n="http",t&&!/^\s*\w+:\/\//.test(t)?n+"://"+t.trim():t)),this.props.callback&&this.props.callback(e),e&&function(e){var t="";"AnchorLink"===e.type&&(t=p.includes(["SCROLL_TO_BOTTOM","SCROLL_TO_TOP"],e.anchorDataId)?"SCROLL_TO_TOP"===e.anchorDataId?"top":"bottom":"anchor"),this.getEditorAPI().bi.event(r.events.linkPanel.link_panel_done_click,{category:this.state.selectedTab,anchor_where_on_page:t})}.call(this,e)},cancel:function(){this.props.onCancelCallback&&this.props.onCancelCallback(this.props.link),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},done:function(){this.logLinkCreationBI(),this.setState({isClosing:!0})},getPageOptions:function(){return p.map(this.pagesList,p.bind(function(e){return{value:e.id,label:e.title+this.getCurrentPageThisTranslate(e.id)}},this))},linkToPage:function(){return{value:this.state.page.pageId,requestChange:function(e){this.setState({routerInnerRoutes:null,innerRoutesRangeStartIndex:0,link:"PageLink"===this.state.selectedTab?this.getDefaultDataForPageLinkTab(e):this.getDefaultDataForPageAnchorLinkTabWithDynamicPages(e),page:P(e,this.props.data.pages)})}.bind(this)}},getRouterInnerRoutes:function(a){var e=a.link.innerRoute===d?this.props.data.currentPageId:a.page.id;this.getEditorAPI().dsRead.routers.getRouterInnerRoutes(a.link.routerId,e,function(e){var t=p.isEmpty(e)?[]:e[0].url;if(a.link.innerRoute&&(p.find(e,{url:a.link.innerRoute})||a.link.innerRoute===d)&&(t=a.link.innerRoute),p.isEmpty(e))this.setState({routerInnerRoutes:[],innerRoutesRangeStartIndex:0},function(){this.setIsValidLink()}.bind(this));else{var n=p.findIndex(e,["url",t]);n=-1===n?0:n,this.setState({routerInnerRoutes:p.isEmpty(e)?[]:e,innerRoutesRangeStartIndex:function(e){for(var t=0;t+m<=e;)t+=m;return t}(n),link:{type:"DynamicPageLink",routerId:a.link.routerId,anchorDataId:a.link.anchorDataId,innerRoute:t}},function(){this.setIsValidLink()}.bind(this))}}.bind(this))},isCollectionPageOrHasOneRoute:function(){var e=this.state.routerInnerRoutes;return!!e&&1===e.length},linkToInnerRoute:function(){return{value:this.state.link?this.state.link.innerRoute:null,requestChange:function(e){var t={type:"DynamicPageLink",routerId:this.state.link.routerId,innerRoute:e};this.state.link.anchorDataId&&(t.anchorDataId=this.state.link.anchorDataId),this.setState({link:t})}.bind(this)}},hasInnerRoutes:function(){return!!this.state.routerInnerRoutes&&!p.isEmpty(this.state.routerInnerRoutes)},getRouterDataForPageIfExist:function(e){return this.getEditorAPI().dsRead.routers.getRouterDataForPageIfExist(e)},isDynamicPage:function(e){return!!this.getRouterDataForPageIfExist(e)},shouldShowInnerRoutesDropDown:function(){return this.isDynamicPage(this.state.page.id)&&this.hasInnerRoutes()&&!this.isCollectionPageOrHasOneRoute()},getInnerRoutesDropDown:function(){var e=[];return this.state.page.id!==this.props.data.currentPageId||this.shouldHidePageLinkPossibilty()||e.push({url:d,title:c.translate("Platform_Link_Menu_Anchor_Item_Option_Any_Item")}),this.state.routerInnerRoutes&&!p.isEmpty(this.state.routerInnerRoutes)?e.concat(this.getInnerRoutesToRender()):[{value:"NO_INNER_ROUTES",title:c.translate("LINK_PANEL_NO_INNER_ROUTES"),url:"no_inner_routes"}]},getCurrentPageThisTranslate:function(e){return e==="#"+this.props.data.currentPageId?" "+c.translate("LINK_PANEL_PAGE_THIS"):""},getRouterTypeForPageId:function(e){var t=this.getEditorAPI().pages.dynamicPages.getRouterPageType(e);return t?"("+t+")":""},linkToAnchor:function(){return{value:(p.has(this.state.link,"anchorDataId.id")?"#"+this.state.link.anchorDataId.id:p.get(this.state.link,"anchorDataId"))||"SCROLL_TO_TOP",requestChange:function(e){var t=this.getAnchorLink(e),n={link:t.link};t.page&&(n.page=t.page),this.setState(n)}.bind(this)}},getAnchorLink:function(e){var t=this.getEditorAPI(),n={};if("TOP_OF_SELECTED_PAGE"===e){var a=this.state.page.pageId;n={link:this.getDefaultDataForPageAnchorLinkTabWithDynamicPages(a),page:P(a,this.props.data.pages)}}else{var s=this.props.data.anchors,i=void 0;if(this.state.link&&this.state.link.routerId)n={link:{type:"DynamicPageLink",anchorDataId:e,routerId:this.state.link.routerId,innerRoute:this.state.link.innerRoute}};else{var o={type:"AnchorLink",anchorDataId:e,pageId:this.state.page.pageId},l="#"+t.dsRead.siteSegments.getSiteStructureId();if(_(e))o.anchorName=c.translate("LINK_PANEL_PAGE_ANCHOR_SCROLL_TO_TOP_NAME"),o.pageId=l;else if(b(e))o.anchorName=c.translate("LINK_PANEL_PAGE_ANCHOR_SCROLL_TO_BOTTOM_NAME"),o.pageId=l;else for(i=0;i<s.length;i++){var r=s[i];if(r.anchorDataId===e){o.anchorName=r.anchorName;break}}n.link=o}}return n},cachePagesList:function(e){var i=[];return e.forEach(function(e){var t,n,a="#"+e.id;if(t=a,n=this.props.data.pages,!P(t,n).repeaterPage){var s={id:a,title:e.title,level:0};i.push(s)}},this),i},getAnchorOptions:function(e,t){var n=[];return e.forEach(function(e){("#"===e.pageId.charAt(0)?e.pageId.substring(1):e.pageId)===t&&n.push(e)}),n.sort(function(e,t){return e.y-t.y}),n},documentChanged:function(e){var t=e[0],n=t.fileName;this.setState({link:{type:"DocumentLink",docId:n,name:t.title},pdfIndexable:y(this.getEditorAPI(),n)})},handleShowPdfIndexing:function(){var e=this.getEditorAPI(),t=this;e.panelManager.openPanel("compPanels.panels.DocumentMedia.confirmationPanel",{onConfirm:function(){c.media.setLinksAsIndexableForDoc(e,t.state.link.docId),t.setState({pdfIndexable:!0,link:p.defaults({indexable:!0},t.state.link)}),e.bi.event(r.events.documentMedia.PDF_INDEXING,{origin:t.constructor.displayName})}},!0)},openMediaGallery:function(e){var n=this,a=this.getEditorAPI().mediaServices,t=a.mediaManager,s=e||t.categories.ICON_DOCUMENT;t.open(s,{callback:function(e,t){n._handleChangeImage(e,t),a.setFocusToEditor()},multiSelect:!1})},getDocId:function(){return p.get(this.state.link,"docId")},isMobileEditor:function(){return this.getEditorAPI().isMobileEditor()},isSectionVisible:function(e){return!this.visibleSections||!1!==this.visibleSections[e]},shouldHidePageLinkPossibilty:function(){return this.props.hidePageLinks},hasAnchors:function(e){var t=e||this.state.page.id;return!!t&&(t="#"===t.charAt(0)?t.substring(1):t,0!==this.getAnchorOptions(this.props.data.anchors,t).length)},getPagesWithAnchors:function(){return p.filter(this.pagesList,p.bind(function(e){return this.hasAnchors(e.id)},this))},openLearnMoreOnAnchor:function(){var e={panel_name:this.props.panelName,origin:u.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("4932c49c-7282-48f0-8fa2-42d929981c40",null,e)},openLearnMoreOnAddingInnerRoutes:function(){var e={panel_name:this.props.panelName,origin:u.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("0a1de6d7-3f69-4d30-8ddc-7aa99bd12edc",null,e)},openLearnMoreOnPhoneLink:function(){var e={panel_name:this.props.panelName,origin:u.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("269ee4ca-ac26-40a4-b982-b120e84c75d4",null,e)},openLearnMoreOnWhatsappLink:function(){var e={panel_name:this.props.panelName,origin:u.BI.HELP.ORIGIN.PANEL,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("25e5d809-cd6e-4966-9515-92175603e433",null,e)},getPagesListToShow:function(){if(this.shouldHidePageLinkPossibilty()){var e=this.getEditorAPI().dsRead.routers.pages.getDynamicPagesList(),t=p(e).flatMap("pages").map("id").value();return p.filter(this.pagesList,function(e){return p.includes(t,e.id.slice(1))})}return this.pagesList},shouldShowPageSection:function(){if(!this.shouldHidePageLinkPossibilty())return!0;var e=this.getEditorAPI().routers.pages.getDynamicPagesList(),t=p.flatMap(e,"pages");return!p.isEmpty(t)},getDropDownOptions:function(){var t=[],e=this.getAnchorOptions(this.props.data.anchors,this.state.page.id);return 0<e.length&&p.forEach(e,function(e){t.push({value:e.anchorDataId,label:e.anchorName})}),t},getPopupLinkOptions:function(){var e=p.clone(this.props.data.popups),t=this.getEditorAPI(),n=t.dsRead.pages.getFocusedPageId(),a=t.dsRead.pages.popupPages.isPopup(n);return!this.props.showAllPopups&&a&&p.remove(e,{id:n}),e},getAnchorTooltipValue:function(){return{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{image:"linkPanelAnchorTooltip",title:"Anchor_Settings_tooltip_title",text:"Anchor_Settings_tooltip_text",learnMoreText:"mobile_refreshlayout_link",linkAction:this.openLearnMoreOnAnchor,imageContainerStyle:{backgroundColor:"#5fcef5"}}}},isOkDisabled:function(){return!this.state.isValid},getAnchorType:function(e){switch(e){case"SCROLL_TO_TOP":return"page-top";case"SCROLL_TO_BOTTOM":return"page-bottom";default:return"anchor"}},logLinkCreationBI:function(){var e=this.state.link;if(e){var t={site_id:this.getEditorAPI().dsRead.generalInfo.getSiteId(),component_type:p.get(this.props,"bi.selectedComponentType","")};switch(e&&e.type){case"PageLink":p.assign(t,{field_type:"page",data:""});break;case"AnchorLink":p.assign(t,{field_type:this.getAnchorType(e.anchorDataId),data:""});break;case"ExternalLink":p.assign(t,{field_type:"url",data:e.url});break;case"AddressLink":p.assign(t,{field_type:"address",data:e.address});break;case"EmailLink":p.assign(t,{field_type:"mail",data:""});break;case"PhoneLink":p.assign(t,{field_type:"phone",data:e.phoneNumber});break;case"WhatsAppLink":p.assign(t,{field_type:"whatsapp",data:e.phoneNumber});break;case"DocumentLink":p.assign(t,{field_type:"document",data:""});break;default:return}this.getEditorAPI().bi.event(r.events.linkPanel.LINK_PANEL_ADD_CLICK_TO_ACTION,t)}},getEdgeAnchors:function(){return[{value:"SCROLL_TO_TOP",label:"LINK_PANEL_TAB_TOPandBOTTOM_ TOP",illustration:t.createElement(n.symbol,{name:"anchorTop"})},{value:"SCROLL_TO_BOTTOM",label:"LINK_PANEL_TAB_TOPandBOTTOM_ BOTTOM",illustration:t.createElement(n.symbol,{name:"anchorBottom"})}]},isEmptyStringOrFullUrl:function(e){return""===e||c.validate.fullUrl(e)},goToAddPanelPopup:function(){var e=this.getEditorAPI();e.store.dispatch(o.editorPlugins.userPreferences.actions.setSessionUserPreferences("addPanelCategoryIdOnClose","popup")),e.store.dispatch(o.editorPlugins.leftBar.actions.openAddPanel())},getHelpId:function(){return this.getEditorAPI().developerMode.isEnabled()?"049671da-19be-4453-8f1e-a53d949a0110":"650e4ba4-4aa8-4484-957a-cc9db36be6d9"}})}),define("panels/toolPanels/colorPicker/constants",[],function(){"use strict";return{NO_COLOR:"noColor"}}),define("panels/toolPanels/colorPicker/siteCustomColors.rt",["react","lodash","baseUI","panels/toolPanels/colorPicker/constants","util"],function(s,i,o,e,l){"use strict";return function(){return function(){var e,t,n,a=l.valueLink.getValueFromProps(this.props);return s.createElement.apply(this,["div",(e={className:"site-custom-colors"},t=this.filteredProps(),n=i.assign({},e,t),e.hasOwnProperty("style")&&(n.style=i.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n),this.props.isEditable?s.createElement("label",{key:"addColorButton",ref:"addColorButton",className:"color-option first-color-in-row"},s.createElement("div",{className:"add-color-button",onClick:this.addCustomColor},s.createElement(o.symbol,{name:"add-custom-color-plus"}))):null,i.map(this.getFilteredColors(),function(e,t,n){return s.createElement("label",{className:"color-option",key:"colorOption-"+n,onMouseEnter:function(e,t,n){this.props.onPreview(t)}.bind(this,e,t,n),onMouseLeave:function(e,t,n){this.props.onPreview(e)}.bind(this,e,t,n)},s.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:t,checked:n===this.state.selectedIndex,onChange:function(e,t,n){this.selectColor(t,n)}.bind(this,e,t,n)}),s.createElement("div",{className:i(this.getColorOptionClasses(t)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),style:{backgroundColor:t}}))}.bind(this,a)),i.isEmpty(this.getFilteredColors())?i.map(i.range(this.NUM_OF_EMPTY_SLOTS),function(e,t,n){return s.createElement("div",{key:"emptyColorOptions",className:"empty-color-option"})}.bind(this,a)):null])}.apply(this,[])}}),define("panels/toolPanels/colorPicker/siteCustomColors",["create-react-class","prop-types","lodash","core","util","baseUI","higherOrderComponents","coreBi","constants","panels/toolPanels/colorPicker/siteCustomColors.rt"],function(e,t,n,a,s,i,o,l,r,c){"use strict";var p=["#000000","#FFFFFF"],u=e({displayName:"siteCustomColors",mixins:[a.mixins.editorAPIMixin,i.radioButtonsMixin],propTypes:{customColors:t.arrayOf(t.string).isRequired,userAddedColors:t.array,isEditable:t.bool,onPreview:t.func,openAddColorPanel:t.func},NUM_OF_EMPTY_SLOTS:36,getInitialState:function(){return{selectedIndex:this.getSelectedColorIndex(s.valueLink.getValueFromProps(this.props),this.props.userAddedColors||[])}},getFilteredColors:function(e){e=e||this.props.userAddedColors;var t=n.difference(this.props.customColors,p,e);return p.concat(e,t)},selectColor:function(e,t){this.getEditorAPI().bi.event(l.events.colorPicker.CUSTOM_COLOR_SELECT,{}),this.setState({selectedIndex:t},s.valueLink.callOnChangeIfExists(this.props,e))},getSelectedColorIndex:function(e,t){return this.getFilteredColors(t||this.props.userAddedColors).indexOf(e)},getColorBrightnessClass:function(e){var t=s.colors.hexToRgb(e),n=s.colors.rgbToHsb(t);return 80<=n.brightness&&n.saturation<50?"bright":"dark"},getColorOptionClasses:function(e){var t={"color-displayer":!0,"white-option":s.colors.getDistanceToWhite(e)<3};return t[this.getColorBrightnessClass(e)+"-color"]=!0,t},componentWillReceiveProps:function(e){var t=s.valueLink.getValueFromProps(this.props),n=s.valueLink.getValueFromProps(e);t!==n&&this.setState({selectedIndex:this.getSelectedColorIndex(n)})},addCustomColor:function(){this.getEditorAPI().bi.event(l.events.colorPicker.ADD_COLOR_BUTTON_CLICKED,{}),this.props.openAddColorPanel()},render:c}),d=[{type:"session",key:r.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED,propName:"userAddedColors",updatePropName:"setUserAddedColors"}];return o.withUserPreferences(d)(u)}),define("panels/toolPanels/colorPicker/colorPickerPanelMainContent.rt",["react","lodash","util","baseUI","baseUILib","panels/toolPanels/colorPicker/siteCustomColors","santa-editor-symbols"],function(n,a,e,t,s,i,o){"use strict";return function(){return n.createElement("div",{className:"main-content"},n.createElement("div",{className:"panel-section color-picker-header",onMouseDown:this.startContentDrag},n.createElement("div",{className:"color-picker-header-content"},n.createElement("span",{key:"color-picker-title"},"\n                    ",e.translate("ColorPicker_MainPanel_Header"),"\n                ")),n.createElement("span",{className:"close-panel-button",onClick:this.close},n.createElement(o.symbol,{name:"headerCloseButton"}))),this.state.content===this.Content.CHOOSE_COLOR?n.createElement("div",{key:"color-picker-content-color",className:"choose-color-content"},n.createElement("div",{className:"panel-section site-colors-section"},n.createElement("div",{className:"section-left"},e.translate("ColorPicker_MainPanel_SitePalette")),n.createElement("div",{className:"section-gap"}),this.isPaletteChangeAllowed()?n.createElement("div",{key:"color-picker-edit-palette-button",className:"section-right"},n.createElement("a",{onClick:this.switchContent.bind(this,this.Content.CHANGE_PALETTE)},"\n                    ",e.translate("ColorPicker_MainPanel_ChangeSiteColors"),"\n                ")):null),n.createElement(t.paletteDisplayer,{palette:this.getPaletteColors(),isSelectable:!0,onPreview:this.previewColor,valueLink:{value:this.getColorInHex(this.state.selectedColor),requestChange:this.selectColor}}),n.createElement("div",{className:"panel-section custom-colors-title-section"},"\n            ",e.translate("ColorPicker_MainPanel_MoreColors"),"\n        "),n.createElement(s.CustomScroll,{},n.createElement(i,{className:"custom-colors-section",customColors:this.siteCustomColors,isEditable:!0,onPreview:this.previewColor,paletteColors:this.state.paletteColors,openAddColorPanel:this.openAddColorPanel,valueLink:{value:this.getColorInHex(this.state.selectedColor),requestChange:this.selectColor}})),n.createElement("div",{className:"panel-section footer"},n.createElement("div",{className:"section-left"},n.createElement("span",{},"+"),n.createElement("a",{onClick:this.addColorLinkClicked},"\n                    ",e.translate("ColorPicker_MainPanel_AddColor"),"\n                ")),n.createElement("div",{className:"section-right"},"\n                ",this.isThemeColor(this.state.colorToPreview)?this.getPaletteColors()[this.state.colorToPreview]:this.state.colorToPreview,"\n            "))):null,this.state.content===this.Content.CHANGE_PALETTE?n.createElement("div",{key:"color-picker-content-palettes",className:"content-change-palette"},n.createElement("div",{className:"panel-section change-palette-section"},e.translate("ColorPicker_ChangeEditPalette_Title"),"\n        "),n.createElement(t.paletteDisplayer,{palette:this.getPaletteColors(),isSelectable:!0,valueLink:{value:null,requestChange:this.openChangePaletteColor}}),n.createElement.apply(this,["div",{className:"root-colors-wrapper"},a.map(this.getRootColors(),function(e,t){return n.createElement("div",{className:a(this.getRootColorBoxClasses(e)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),key:"rootColor-"+t},n.createElement("div",{className:"root-color-arrow",style:{borderBottomColor:e}}),n.createElement("div",{className:"root-color-circle",style:{backgroundColor:e},onClick:function(e,t){this.openChooseRootColorPanel(e,t)}.bind(this,e,t)},n.createElement(o.symbol,{name:"recycle"+this.getColorBrightness(e)})))}.bind(this))]),n.createElement("div",{className:"help-text"},n.createElement("span",{},e.translate("ColorPicker_ChangeEditPalette_HelpText")),n.createElement("a",{onClick:function(){this.openHelpCenter(this.EDIT_PALETTE_LEARN_MORE_HELP_ID)}.bind(this)},e.translate("ColorPicker_ChangeEditPalette_LearnMore"))),n.createElement("div",{className:"footer"},n.createElement(t.button,{className:"cancel-button btn-md btn-confirm-secondary",label:"ColorPicker_ChangeEditPalette_CancelButton",onClick:this.handleCancelEditingPaletteClicked}),n.createElement(t.button,{className:"confirm-button btn-md",label:"ColorPicker_ChangeEditPalette_DoneButton",onClick:this.handleDoneEditingPaletteClicked}))):null)}}),define("panels/toolPanels/colorPicker/colorPickerPanelSecondaryContent.rt",["react","lodash","util","baseUI","baseUILib"],function(e,t,n,a,s){"use strict";return function(){return this.state.content===this.Content.CHANGE_PALETTE?e.createElement("div",{className:"secondary-content palette-list-section",key:"colorPickerPaletteListSection"},e.createElement("div",{className:"palette-list-title"},n.translate("ColorPicker_ChangeEditPalette_PalettesStrip")),e.createElement("div",{className:"palette-list-comp-wrapper"},e.createElement(s.CustomScroll,{heightRelativeToParent:"100%"},e.createElement(a.palettesList,{palettes:this.getPaletteList(),valueLink:{value:this.state.selectedPalette,requestChange:this.setSelectedPalette},onPreview:this.handlePaletteListPreview,className:"change-palette-palette-list"})))):null}}),define("panels/toolPanels/colorPicker/colorPickerPanel",["create-react-class","react","prop-types","lodash","core","coreBi","util","santa-editor-utils","stateManagement","higherOrderComponents","panels/frames/toolPanelFrame","panels/toolPanels/colorPicker/constants","panels/toolPanels/colorPicker/colorPickerPanelMainContent.rt","panels/toolPanels/colorPicker/colorPickerPanelSecondaryContent.rt","constants","experiment"],function(e,n,t,i,a,s,o,l,r,c,p,u,d,m,h,g){"use strict";var f=l.hoc.measuring,P=r.editorPlugins.panels.actions,_=P.updatePanelAction,b=P.updateOrOpenPanel,E=P.openHelpCenter,C={color_13:["color_11","color_12","color_13","color_14","color_15"],color_18:["color_16","color_17","color_18","color_19","color_20"],color_23:["color_21","color_22","color_23","color_24","color_25"],color_28:["color_26","color_27","color_28","color_29","color_30"],color_33:["color_31","color_32","color_33","color_34","color_35"]},I=r.domMeasurements.selectors.getStageLayout;function y(e){return e?(0===e.indexOf("{color")&&(e=e.replace("{","").replace("}","")),"transparent"===e?u.NO_COLOR:0!==e.indexOf("#")&&0!==e.indexOf("color")&&e!==u.NO_COLOR?0===e.indexOf("r")?e:"rgba("+e+")":e):null}function N(e){return{top:e.top-window.pageYOffset+15+"px",left:e.left-window.pageXOffset+204+"px"}}var v=e({displayName:"colorPickerPanel",propTypes:{customInstanceColors:t.array,displayNoColor:t.bool,panelName:t.string,customCompsAddedColors:t.array,setCustomCompsAddedColors:t.func,customUserAddedColors:t.array,setCustomUserAddedColors:t.func,previewOnHover:t.bool,enableHistory:t.bool,palettePresets:t.array,updateSitePalette:t.func,top:t.oneOfType([t.string,t.number]),left:t.oneOfType([t.string,t.number]),isBlockingLayerFullScreen:t.bool,shouldBlockOuterScroll:t.bool,openHelpCenter:t.func.isRequired,updatePanelProps:t.func.isRequired,openPanel:t.func.isRequired,onClose:t.func,value:t.any,onChange:t.func,valueLink:o.valueLink.valueLinkPropType,reportMeasurements:t.func.isRequired,measurements:t.object.isRequired},mixins:[a.mixins.editorAPIMixin],getDefaultProps:function(){return{previewOnHover:!0}},getInitialState:function(){var e=this.getColorInHex(this.getColorFromProps()),t={selectedColor:e,colorToPreview:e,selectedPalette:this.getEditorAPI().theme.colors.getAll(),content:this.Content.CHOOSE_COLOR};return this.initialPalette=t.selectedPalette,this.siteCustomColors=this.getCustomColorsInOrderAndSaveOrder(),t},componentDidMount:function(){this.mounted=!0},componentWillReceiveProps:function(){this.setState({paletteColors:this.getEditorAPI().theme.colors.getAll()})},componentDidUpdate:function(e){if(this.state.content===this.Content.CHANGE_PALETTE&&this.props.top!==e.top||this.props.left!==e.left){var t=N(this.getContentElementOffset());this.props.updatePanelProps("panels.toolPanels.colorPicker.addColorPanel",{top:t.top,left:t.left})}},componentWillUnmount:function(){this.mounted=!1,this.props.onClose&&this.props.onClose(),this.resetPaletteIfPanelClosedWithoutPaletteConfirmation(),this.resetPreviewColor()},Content:{CHOOSE_COLOR:"CHOOSE_COLOR",CHANGE_PALETTE:"CHANGE_PALETTE"},getFrameContentStyle:function(){var e=i.pick(this.props,["top","left"]);return this.state.content===this.Content.CHANGE_PALETTE?i.defaults(this.adjustPanelPosition(),e):e},getPaletteColors:function(){var e=this.state.paletteColors;return i.omit(e,"paletteName","paletteTags")},getColorFromProps:function(){return y(o.valueLink.getValueFromProps(this.props))},getContentElementOffset:function(){return this.props.measurements.contentOffset||{}},getCustomColorsInOrderAndSaveOrder:function(){var e=this.props.customCompsAddedColors,t=this.props.customUserAddedColors,n=void 0;if(e){var a=i.intersection(e,t),s=i.difference(t,e);n=a.concat(s)}else n=t;return this.props.setCustomCompsAddedColors(n),n.concat(i.difference(this.props.customInstanceColors,n))},getColorBrightness:function(e){var t=o.colors.hexToRgb(e),n=o.colors.rgbToHsb(t);return 80<=n.brightness&&n.saturation<50?"Dark":"Bright"},isThemeColor:function(e){return i.includes(e,"color_")},isPaletteChangeAllowed:function(){return this.props.palettePresets&&!this.getEditorAPI().isMobileEditor()},getColorInHex:function(e){var t=o.colors.rgbToHex;return e=y(e),i.includes(e,"rgba")?t(o.colors.rgbaStringToObject(e)):i.includes(e,"rgb")?t(o.colors.rgbStringToObject(e)):e},getColorInOriginalFormat:function(e){var t=this.getColorFromProps();t=y(t);var n=o.colors.hexToRgb;if(e===u.NO_COLOR)return e;var a=this.isThemeColor(e)?this.getPaletteColors()[e]:e;if(i.includes(t,"rgba")){var s=n(a);return s.alpha=o.colors.rgbaStringToObject(t).alpha,o.colors.rgbaObjectToString(s)}return i.includes(t,"rgb")?o.colors.rgbObjectToString(n(a)):e},areColorsEqual:function(e,t){return i.includes(e,"color")&&i.includes(t,"color")?e===t:this.getColorInHex(e)===this.getColorInHex(t)},EDIT_PALETTE_LEARN_MORE_HELP_ID:"7b56b01e-1104-485d-8bcc-9690f8c9592a",getRootColors:function(){return i.pick(this.getPaletteColors(),i.keys(C))},getRootColorBoxClasses:function(e){return{"root-color-box":!0,"white-color":o.colors.getDistanceToWhite(e)<3}},getPaletteList:function(){return i.map(this.props.palettePresets,function(e){return i.omit(e,"paletteName","paletteTags")})},openChangePaletteColor:function(n){var a=this,e=N(this.getContentElementOffset()),t={valueLink:{value:this.getPaletteColors()[n],requestChange:function(e){var t=i.clone(a.state.selectedPalette);t[n]=e,a.setSelectedPalette(t)}},siteCustomColors:this.siteCustomColors,paletteColors:this.state.paletteColors,top:e.top,left:e.left,onPreview:function(e){var t=i.clone(a.state.selectedPalette);t[n]=e,a.setPaletteToDocument(t)},onCancel:this.setPaletteToDocument.bind(this,i.clone(this.state.selectedPalette))};this.props.openPanel("panels.toolPanels.colorPicker.addColorPanel",t,!0)},selectColor:function(e,t){if(e!==this.state.selectedColor){var n=this;this.setState({selectedColor:e},function(){n.handleChange(e),n.addColorHistoryEntryIfNeeded()})}else t&&this.close()},previewColor:function(e){g.isOpen("colorPickerChangeColorOnClickExp")||(this.mounted&&this.setState({colorToPreview:e}),this.props.previewOnHover&&this.handleChange(e,!0))},handleChange:function(e,t){o.valueLink.callOnChangeIfExists(this.props,this.getColorInOriginalFormat(e),t)},setSelectedPalette:function(e){this.mounted?this.setState({selectedPalette:e},this.setPaletteToDocument.bind(this,e)):this.setPaletteToDocument(e)},setPaletteToDocument:function(e){this.props.updateSitePalette(e)},computeNewPaletteFromRootColor:function(e,t){var n=this.getPaletteColors(),a=o.colors.createGradientColorsFromRoot(t,n,C[e]);return i.assign(n,a)},setSelectedPaletteFromRootColor:function(e,t){var n=this.computeNewPaletteFromRootColor(e,t);this.mounted?this.setState({selectedPalette:n},this.setPaletteToDocument.bind(this,n)):this.setPaletteToDocument(n)},setPaletteToDocumentFromRootColor:function(e,t){var n=this.computeNewPaletteFromRootColor(e,t);this.setPaletteToDocument(n)},addCustomColor:function(e){var t=i.cloneDeep(this.props.customUserAddedColors);t.unshift(e),this.props.setCustomUserAddedColors(t),this.selectColor(e)},openAddColorPanel:function(){var e,t={top:(e=this.getContentElementOffset()).top-window.pageYOffset+115+"px",left:e.left+window.pageXOffset+48+"px"};this.props.openPanel("panels.toolPanels.colorPicker.addColorPanel",{valueLink:{value:this.state.selectedColor,requestChange:this.addCustomColor},paletteColors:this.state.paletteColors,onPreview:i.debounce(this.previewColor,100),top:t.top,left:t.left,onCancel:this.previewColor.bind(this,this.state.selectedColor)},!0)},addColorLinkClicked:function(){this.getEditorAPI().bi.event(s.events.colorPicker.ADD_COLOR_LINK_CLICKED,{}),this.openAddColorPanel()},openChooseRootColorPanel:function(e,t){var n=N(this.getContentElementOffset());this.props.openPanel("panels.toolPanels.colorPicker.addColorPanel",{valueLink:{value:e,requestChange:this.setSelectedPaletteFromRootColor.bind(this,t)},siteCustomColors:this.siteCustomColors,paletteColors:this.state.paletteColors,top:n.top,left:n.left,onPreview:i.debounce(this.setPaletteToDocumentFromRootColor.bind(this,t),100),onCancel:this.setPaletteToDocument.bind(this,i.clone(this.state.selectedPalette))},!0)},handlePaletteListPreview:function(e){g.isOpen("colorPickerChangePaletteOnClickExp")||this.setPaletteToDocument(e)},handleDoneEditingPaletteClicked:function(){this.addPaletteHistoryEntryIfNeeded(),this.initialPalette=this.state.selectedPalette,this.setPaletteToDocument(this.state.selectedPalette),this.close()},handleCancelEditingPaletteClicked:function(){this.setSelectedPalette(this.initialPalette),this.setSelectedPalette(this.initialPalette),this.switchContent(this.Content.CHOOSE_COLOR)},handleBackEditingPaletteClicked:function(){this.setSelectedPalette(this.initialPalette),this.switchContent(this.Content.CHOOSE_COLOR)},arePalettesEqual:function(e,t){var n=i.intersection(i.keys(e),i.keys(t));return i.isEqual(i.pick(e,n),i.pick(t,n))},addPaletteHistoryEntryIfNeeded:function(){this.props.enableHistory&&(this.arePalettesEqual(this.state.selectedPalette,this.initialPalette)||this.getEditorAPI().history.add("palette colors updated"))},addColorHistoryEntryIfNeeded:function(){this.props.enableHistory&&(this.areColorsEqual(this.state.selectedColor,this.getColorFromProps())||this.getEditorAPI().history.add("new color chosen - "+this.state.selectedColor))},switchContent:function(e){e===this.Content.CHANGE_PALETTE&&this.getEditorAPI().bi.event(s.events.colorPicker.CHANGE_SITE_COLORS_LINK_CLICKED,{}),this.setState({content:e})},resetPaletteIfPanelClosedWithoutPaletteConfirmation:function(){this.state.content===this.Content.CHANGE_PALETTE&&this.setPaletteToDocument(this.initialPalette)},resetPreviewColor:function(){this.state.colorToPreview!==this.state.selectedColor&&this.previewColor(this.state.selectedColor)},adjustPanelPosition:function(){var e=this.getContentElementOffset(),t=I(this.getEditorAPI().store.getState()),n=t.right-424,a=this.props.measurements.contentHeight||0,s=window.pageYOffset+(t.bottom-a);return{top:Math.min(e.top,s),left:Math.min(e.left,n)}},close:function(){this.state.content===this.Content.CHOOSE_COLOR?this.getEditorAPI().bi.event(s.events.colorPicker.MAIN_PANEL_CLOSED,{}):this.state.content===this.Content.CHANGE_PALETTE&&this.getEditorAPI().bi.event(s.events.colorPicker.CHANGE_SITE_COLOR_CLOSED,{}),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},openHelpCenter:function(e){var t={component:this.getEditorAPI().selection.getSelectedComponentType(),learn_more:!0,origin:h.BI.HELP.ORIGIN.PANEL,panel_name:this.props.panelName};this.props.openHelpCenter(e,null,t)},render:function(){var t=this;return n.createElement(p,{panelName:this.props.panelName,isSingleInstance:!0,contentWrapperClass:"color-picker-panel",isBlockingLayerFullScreen:this.props.isBlockingLayerFullScreen,shouldBlockOuterScroll:this.props.shouldBlockOuterScroll,contentStyle:this.getFrameContentStyle(),contentClass:"color-picker-panel-content-wrapper",measurements:this.props.measurements,reportMeasurements:this.props.reportMeasurements,selectedColor:this.state.selectedColor,renderContent:function(e){return t.startContentDrag=e,[d.call(t),m.call(t)]}})}}),S=[{type:"session",key:h.USER_PREFS.THEME.COLORS.CUSTOM.COMPS_ADDED,propName:"customCompsAddedColors",updatePropName:"setCustomCompsAddedColors"},{type:"session",key:h.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED,propName:"customUserAddedColors",updatePropName:"setCustomUserAddedColors"}],T=i.flowRight(r.bi.hoc.reportBiEventOnUiChange,c.withUserPreferences(S),o.hoc.connect(o.hoc.STORES.STATE_ONLY,i.constant({}),function(a){return{openHelpCenter:function(e,t,n){a(E(e,t,n))},openPanel:function(e,t,n){a(b(e,t,n))},updatePanelProps:function(e,t){a(_(e,t))}}},void 0,!1),f)(v);return T.pure=v,T}),define("panels/toolPanels/colorPicker/addColorContent.rt",["react","lodash","util","baseUI","baseUILib","panels/toolPanels/colorPicker/siteCustomColors"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement("div",{className:"add-color-content"},e.createElement("div",{},e.createElement(a.colorSpace,{value:this.state.selectedColor,onChange:this.onHsbColorChanged})),e.createElement("div",{className:"color-indicator"},e.createElement("span",{className:"color-sample initial-color",onMouseDown:this.resetToInitialColor,style:{backgroundColor:this.resolveColor(this.initialColor)}}),e.createElement("span",{className:"color-sample current-color",style:{backgroundColor:n.colors.hsbToHex(this.state.selectedColor)}})),e.createElement("div",{className:"color-format"},e.createElement(a.colorFormat,{value:this.state.selectedColor,onChange:this.onHsbColorChanged,onChangeInValidationStatus:this.onChangeInValidationStatus})),this.props.siteCustomColors?e.createElement("div",{key:"addColorCustomColorsSeperator",className:"custom-colors-separator"}):null,this.props.siteCustomColors?e.createElement("div",{key:"customColorsSectionTitle",className:"custom-colors-section-title"},"\n        ",n.translate("ColorPicker_MainPanel_MoreColors"),"\n    "):null,e.createElement(s.CustomScroll,{},this.props.siteCustomColors?e.createElement("div",{key:"customColorsSection",className:"custom-colors-section"},e.createElement(i,{className:"custom-colors",onPreview:this.previewColor,customColors:this.props.siteCustomColors,paletteColors:this.props.paletteColors,value:n.colors.hsbToHex(this.state.selectedColor),onChange:this.onCustomColorSelected})):null),e.createElement("div",{className:"footer"},e.createElement(a.button,{className:"cancel-button btn-md btn-confirm-secondary",label:"ColorPicker_ColorSpace_CancelButton",onClick:this.handleCancel}),e.createElement(a.button,{className:"confirm-button btn-md",label:"ColorPicker_ColorSpace_AddButton",onClick:this.callOnChangeAndClose,disabled:!this.state.isValid})))}}),define("panels/toolPanels/colorPicker/addColorContent",["create-react-class","prop-types","lodash","util","panels/toolPanels/colorPicker/constants","panels/toolPanels/colorPicker/addColorContent.rt"],function(e,t,n,a,s,i){"use strict";return e({displayName:"addColorContent",propTypes:{valueLink:t.shape({value:t.string,requestChange:t.func}).isRequired,paletteColors:t.object.isRequired,closeHandler:t.func.isRequired,onPreview:t.func.isRequired,onCancel:t.func.isRequired,siteCustomColors:t.arrayOf(t.string)},getInitialState:function(){this.initialColor=a.valueLink.getValueFromProps(this.props);var e=this.resolveColor(this.initialColor);return{selectedColor:a.colors.hexToHsbExact(e),isValid:!0}},resolveColor:function(e){return n.includes(e,"color")?this.props.paletteColors[e]:e&&e!==s.NO_COLOR?e:"#ffffff"},onHsbColorChanged:function(t){this.setState({selectedColor:t},function(){var e=a.colors.hsbToHex(t);this.props.onPreview(e)})},onCustomColorSelected:function(e){this.setState({selectedColor:a.colors.hexToHsbExact(e)},function(){this.props.onPreview(e)})},resetToInitialColor:function(){var e=this.resolveColor(this.initialColor);this.setState({selectedColor:a.colors.hexToHsbExact(e)},function(){this.props.onPreview(this.initialColor)})},previewColor:function(e){this.props.onPreview(e)},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1,this.wasConfirmClicked||this.props.onCancel()},callOnChangeAndClose:function(){a.valueLink.callOnChangeIfExists(this.props,a.colors.hsbToHex(this.state.selectedColor)),this.wasConfirmClicked=!0,this.close()},onChangeInValidationStatus:function(e){this.mounted&&this.setState({isValid:e})},handleCancel:function(){this.props.onCancel(),this.close()},close:function(){this.props.closeHandler()},render:i})}),define("panels/toolPanels/colorPicker/addColorPanel.rt",["react","lodash","panels/frames/toolPanelFrame","util","panels/toolPanels/colorPicker/addColorContent"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{ref:"frame",contentWrapperClass:"custom-color-picker-panel",panelName:this.props.panelName,title:this.props.title,contentStyle:t.pick(this.props,["top","left"])},e.createElement(s,{siteCustomColors:this.props.siteCustomColors,paletteColors:this.props.paletteColors,valueLink:this.props.valueLink,onPreview:this.props.onPreview,onCancel:this.props.onCancel,closeHandler:this.close}))}}),define("panels/toolPanels/colorPicker/addColorPanel",["create-react-class","prop-types","lodash","core","coreBi","panels/toolPanels/colorPicker/addColorPanel.rt"],function(e,t,n,a,s,i){"use strict";return e({displayName:"addColorPanel",mixins:[a.mixins.editorAPIMixin],propTypes:{valueLink:t.shape({value:t.string,requestChange:t.func}).isRequired,paletteColors:t.object.isRequired,top:t.string,left:t.string,onPreview:t.func.isRequired,onCancel:t.func.isRequired,siteCustomColors:t.arrayOf(t.string)},close:function(){this.getEditorAPI().bi.event(s.events.colorPicker.ADD_COLOR_PANEL_CLOSED,{}),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:i})}),define("panels/toolPanels/colorPicker/colorPicker",["panels/toolPanels/colorPicker/colorPickerPanel","panels/toolPanels/colorPicker/addColorPanel","panels/toolPanels/colorPicker/addColorContent"],function(e,t,n){"use strict";return{colorPickerPanel:e,addColorPanel:t,addColorContent:n}}),define("panels/toolPanels/iconPicker/iconPickerPanel.rt",["react","lodash","util","baseUILib","santa-editor-symbols"],function(a,e,t,n,s){"use strict";return function(){return a.createElement("div",{className:"main-content"},a.createElement("div",{className:"panel-section icon-picker-header",onMouseDown:this.startContentDrag},a.createElement("div",{className:"icon-picker-header-content"},a.createElement("div",{className:"icon-picker-title",key:"icon-picker-title"},"\n                ",t.translate("mobile_quick_actions_choose_icon_title"),"\n            "),a.createElement("div",{className:"icon-picker-panel-close-button",onClick:this.close},a.createElement(s.symbol,{name:"headerCloseButton"})))),a.createElement(n.Divider,{long:!0}),a.createElement(n.CustomScroll,{},a.createElement.apply(this,["section",{className:"panel-section icon-picker-body"},e.map(this.props.options,function(e,t,n){return function(e,t){var n=this.props.getCurrentIcon();return a.createElement(s.symbol,{className:"icon-picker-selection"+(n===e.value?" icon-current":""),onClick:function(e,t,n){this.props.onChange(e.value)}.bind(this,e,t,n),key:"icon"+e.value,ref:"icon"+e.value,name:e.symbolName})}.apply(this,[e,t])}.bind(this))])),a.createElement(n.Divider,{long:!0}),a.createElement(n.Composites.ButtonMedium,{},a.createElement(n.Button,{className:"btn-md",onClick:this.close},a.createElement("span",{},t.translate("mobile_quick_actions_choose_icon_done_button_label")))))}}),define("panels/toolPanels/iconPicker/iconPickerPanel",["lodash","react","create-react-class","prop-types","util","stateManagement","panels/frames/toolPanelFrame","panels/toolPanels/iconPicker/iconPickerPanel.rt"],function(e,n,t,a,s,i,o,l){"use strict";var r=t({displayName:"iconPickerPanel",propTypes:{top:a.number.isRequired,left:a.number.isRequired,panelName:a.string.isRequired,getCurrentIcon:a.func.isRequired,options:a.array.isRequired,onChange:a.func.isRequired,closePanelByName:a.func.isRequired},close:function(){this.props.closePanelByName(this.props.panelName)},render:function(){var t=this;return n.createElement(o,{panelName:"iconPickerPanel",isSingleInstance:!0,contentWrapperClass:"icon",isBlockingLayerFullScreen:!1,shouldBlockOuterScroll:!1,contentStyle:e.pick(this.props,["top","left"]),contentClass:"icon-picker-panel-content-wrapper",renderContent:function(e){return t.startContentDrag=e,l.call(t)}})}});return s.hoc.connect([],e.noop,function(t){return{closePanelByName:function(e){t(i.editorPlugins.panels.actions.closePanelByNameAction(e))}}})(r)}),define("panels/toolPanels/languageSupport/languageSupport.rt",["react","lodash","panels/frames/toolPanelFrame","baseUI","baseUILib","constants"],function(n,a,e,s,i,o){"use strict";return function(){return n.createElement.apply(this,[e,{panelName:this.props.panelName,headerTitle:this.translateIfNeeded("add_languages_header_label"),isSingleInstance:!0,helpId:"147f770b-8d82-48b9-aea8-2f07d94c0743",ref:"frame",contentWrapperClass:"language-support-panel",contentStyle:a.pick(this.props,["top","left"]),contentClass:"language-support-panel-content-wrapper"},n.createElement("div",{className:"label"},this.translateIfNeeded("add_languages_text")),a.map(this.state.charsItems,function(e,t){return n.createElement("div",{className:a({"language-option":!0,disabled:e.disabled}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),key:e.label},n.createElement(s.tooltip,{value:e.tooltip,disabled:!e.tooltip,styleType:o.UI.TOOLTIP.STYLE_TYPE.SMALL},n.createElement(i.Checkbox,{label:e.label,disabled:e.disabled,value:e.value,onChange:function(e,t,n){this.update(t,n)}.bind(this,e,t),labelAfterSymbol:!0})),e.disabled?null:n.createElement("span",{className:"example-img",key:"example-img"},n.createElement("span",{style:e.style})))}.bind(this)),n.createElement("footer",{},n.createElement("div",{className:"copy-right-text"},n.createElement("span",{},this.translateIfNeeded("add_languages_copyright_text"),n.createElement("a",{className:"copy-right-link",onClick:this.openCopyright},this.translateIfNeeded("add_languages_copyright_text_link")))),n.createElement(s.button,{label:"add_languages_save_button",onClick:this.setLanguages,className:"btn-confirm-primary"}))])}}),define("panels/toolPanels/languageSupport/languageSupport",["create-react-class","lodash","core","util","stateManagement","coreBi","panels/toolPanels/languageSupport/languageSupport.rt"],function(e,i,t,n,a,s,o){"use strict";var l=[{characterSet:"latin",position:"0px 0px",label:"add_languages_english",tooltip:"add_languages_english_tooltip",disabled:!0},{characterSet:"latin-ext",position:"-15px -46px",label:"add_languages_eastern_european",tooltip:"add_languages_eastern_european_tooltip"},{characterSet:"cyrillic",position:"-15px -19px",label:"add_languages_cyrillic",tooltip:"add_languages_cyrillic_tooltip"},{characterSet:"japanese",position:"-15px -123px",label:"add_languages_japanese"},{characterSet:"korean",position:"-15px -96px",label:"add_languages_korean"},{characterSet:"arabic",position:"-15px -150px",label:"add_languages_arabic"},{characterSet:"hebrew",position:"-15px -70px",label:"add_languages_hebrew"}],r=e({displayName:"languageSupport",mixins:[n.translationMixin,t.mixins.editorAPIMixin],render:o,getBackground:function(){return"url("+n.media.getMediaUrl("textEditor/langs.v1.png")+")"},getInitialState:function(){return{charsItems:this.getCharacterSetsArray()}},setLanguages:function(){this.getEditorAPI().bi.event(s.events.textControls.text_languages_support_dialog_save_click);var t=[];i.forEach(this.state.charsItems,function(e){e.value&&t.push(e.characterSet)}),this.getEditorAPI().dsActions.theme.fonts.updateCharacterSet(t),this.close()},close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},update:function(e,t){var n=i.clone(this.state.charsItems),a=i.clone(n[e]);a.value=t,n[e]=a,this.setState({charsItems:n})},getCharactersSets:function(){return this.getEditorAPI().dsRead.theme.fonts.getCharacterSet()},openHelpPanelFrame:function(){this.getEditorAPI().bi.event(s.events.textControls.text_languages_support_learn_more_click),this.getEditorAPI().panelManager.openHelpCenter("147f770b-8d82-48b9-aea8-2f07d94c0743",{},{panel_name:"languageSupport",origin:"languageSupport"})},getCharacterSetsArray:function(){var e=l,n=[],a=this.getCharactersSets(),s=this.getBackground();return i.forEach(e,function(e){var t={label:e.label,characterSet:e.characterSet,tooltip:e.tooltip,value:i.includes(a,e.characterSet),disabled:e.disabled,style:{backgroundImage:s,backgroundPosition:e.position,height:"18px",width:"72px",display:"inline-block"}};n.push(t)}),n},openCopyright:function(){var e=n.translate("add_languages_copyright_link");window&&window.open(e,"_blank")}}),c=a.bi.hoc.reportBiEventOnUiChange(r);return c.pure=r,c}),define("panels/toolPanels/mobileActionBarSubPanel/mobileActionBarSubPanel.rt",["react","lodash","panels/frames/toolPanelFrame","baseUI","baseUILib","util"],function(n,e,t,a,s,i){"use strict";return function(){return n.createElement(t,{ref:"frame",headerTitle:i.translate("mobile_action_bar_social_title"),panelName:this.props.panelName,isSingleInstance:!0,contentWrapperClass:"actionbar-sub-panel",isBlockingLayerFullScreen:this.props.isBlockingLayerFullScreen,shouldBlockOuterScroll:this.props.shouldBlockOuterScroll,contentStyle:e.pick(this.props,["top","left"]),contentClass:"actionbar-sub-panel-content-wrapper"},n.createElement(s.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%",addScrolledClass:!0},n.createElement.apply(this,["ul",{},e.map(this.getSocialLinks(),function(e,t){return n.createElement("li",{key:e.id,className:"social-link-item"},n.createElement(a.tooltip,{value:this.getSocialLinkTooltip(e.id)},n.createElement("span",{},n.createElement(a.symbol,{className:e.symbol+" symbol",name:e.symbol}))),n.createElement(a.textInput,{validator:this.validateUrlWithEmptyState,invalidMessage:"mobile_action_bar_social_error_message",placeholder:this.getSocialLinkPlaceholder(e.id),valueLink:this.getValueLink(e.id)}))}.bind(this))])))}}),define("panels/toolPanels/mobileActionBarSubPanel/mobileActionBarSubPanel",["create-react-class","lodash","core","util","panels/toolPanels/mobileActionBarSubPanel/mobileActionBarSubPanel.rt"],function(e,o,t,n,a){"use strict";return e({displayName:"mobileActionBarSubPanel",mixins:[t.mixins.editorAPIMixin],render:a,getSocialLinks:function(){return[{id:"blogger",symbol:"mba_social_panel_google_blogger"},{id:"facebook",symbol:"mba_social_panel_facebook"},{id:"flickr",symbol:"mba_social_panel_youtube_flickr"},{id:"google_plus",symbol:"mba_social_panel_google_plus"},{id:"linkedin",symbol:"mba_social_panel_google_linkdin"},{id:"pinterest",symbol:"mba_social_panel_pinterest"},{id:"tumblr",symbol:"mba_social_panel_google_tumblr"},{id:"twitter",symbol:"mba_social_panel_twitter"},{id:"vimeo",symbol:"mba_social_panel_youtube_vimeo"},{id:"youtube",symbol:"mba_social_panel_youtube"}]},getSocialLinkPlaceholder:function(e){return"mobile_action_bar_"+(e="google_plus"===e?"google":e)+"_placeholder"},getValueLink:function(e){var s=this.getEditorAPI().mobile.actionBar.actions,i=s.get().socialLinks;return{value:i[e],requestChange:function(e,t){var n={};i[e]=t,n.socialLinks=i;var a=0<o(i).values().compact().value().length;s.update(n),s.enable({socialLinks:a})}.bind(this,e)}},getSocialLinkTooltip:function(e){return"mobile_action_bar_"+(e="google_plus"===e?"google":e)+"_tooltip"},validateUrlWithEmptyState:function(e){return n.validate.url(e)||""===e}})}),define("panels/toolPanels/fontsManager/fontItem.rt",["react","lodash","baseUI","santa-editor-symbols","util","constants"],function(a,s,i,o,l,r){"use strict";return function(){return a.createElement("div",{className:"font-item "+(this.shouldShowActions()?"with-actions ":"")+" "+(this.shouldShowCancel()?"cancelable":"")+" "+(this.props.status&&!this.props.fontFamily?"queue":"list")+" "+(this.props.errorCode?"error":"")+" "+(this.props.finished?"animated":"")},a.createElement("div",{className:"font-description "+(this.props.fontFamily?"uploaded":"")},a.createElement("span",{className:"font-title display-name "+(this.props.fontFamily?"uploaded":""),style:this.getStyle()},this.props.name),a.createElement("span",{className:"font-title file-name"},this.props.fileName),a.createElement("span",{className:"font-status-msg"},l.translate(this.getStatusMessage()))),a.createElement("div",{className:"indicator"},this.getStatusSymbol()?a.createElement(o.symbol,{name:this.getStatusSymbol(),className:this.props.status||"",key:"status-symbol"}):null),this.props.finished?a.createElement("div",{className:"indicator finished",key:"finished-symbol"},a.createElement(o.symbol,{name:"inputValidationSuccess"})):null,a.createElement("div",{className:"cancel-icon"},a.createElement(o.symbol,{name:"headerCloseButton",onClick:this.props.onCancelClick,className:"cancel-btn"})),a.createElement("div",{className:"actions"},a.createElement(i.tooltip,{value:"Upload_Fonts_Download_Tooltip",styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL},a.createElement("div",{className:"action-btn-container"},this.props.downloadable?a.createElement("a",(e={className:"action-btn download",href:this.props.downloadUrl,onClick:this.props.onDownloadClick,key:"download-btn"},t=this.getDownloadProps(),n=s.assign({},e,t),e.hasOwnProperty("style")&&(n.style=s.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n),a.createElement(o.symbol,{name:"font-download"})):null)),a.createElement(i.tooltip,{value:"Upload_Fonts_Delete_Tooltip",styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL},a.createElement("div",{className:"action-btn-container"},this.props.removeable?a.createElement("a",{className:"action-btn",onClick:this.props.onRemoveClick,key:"remove-btn"},a.createElement(o.symbol,{name:"font-delete"})):null))));var e,t,n}}),define("panels/toolPanels/fontsManager/fontItem",["create-react-class","prop-types","lodash","util","panels/toolPanels/fontsManager/fontItem.rt"],function(e,t,n,a,s){"use strict";return e({displayName:"fontItem",propTypes:{fontFamily:t.string,name:t.string,status:t.string,onDownloadClick:t.func,onRemoveClick:t.func,onCancelClick:t.func,downloadable:t.bool,removeable:t.bool,cancelable:t.bool,isStillUploading:t.bool,errorCode:t.string},getStyle:function(){return this.props.fontFamily?{fontFamily:this.props.fontFamily+",HelveticaNeueW01-45Ligh, HelveticaNeueW02-45Ligh, HelveticaNeueW10-45Ligh, Helvetica Neue, Helvetica, Arial, メイリオ, meiryo, ヒラギノ角ゴ pro w3, hiragino kaku gothic pro, sans-serif"}:{}},shouldShowActions:function(){return this.props.downloadable||this.props.removeable},shouldShowCancel:function(){return this.props.cancelable},getStatusSymbol:function(){return{uploading:"font-uploading-loader",waiting:"font-uploading-loader",processing:"font-uploading-loader",succeeded:"inputValidationSuccess",failed:"inputValidationError"}[this.props.status]},getDownloadProps:function(){var e={};return a.browserUtil.isChrome()?e.download=this.props.fileName:e.target="_blank",e},getStatusMessage:function(){return this.props.errorCode?a.fontsManagerUtils.getErrorMessage(this.props.errorCode).translate_msg:this.props.isStillUploading?"Upload_Fonts_Status_Still_Uploading":a.fontsManagerUtils.constants.FONT_STATUS_MSG[this.props.status]||""},render:s})}),define("panels/toolPanels/fontsManager/fontsUploadPanel.rt",["react","lodash","panels/frames/focusPanelFrame","baseUI","baseUILib","santa-editor-symbols","panels/toolPanels/fontsManager/fontItem"],function(n,a,e,t,s,i,o){"use strict";return function(){return n.createElement(e,{ref:"frame",panelName:this.props.panelName,className:"fonts-upload-panel",shouldNotCloseOnBlur:!0,onClose:this.handlePanelCloseClick,title:this.translateIfNeeded("UPLOAD_FONTS_Panel_Header"),helpId:"96323a82-c61a-4ac1-90ac-10aecb37cbf8",width:"600",onContextMenu:function(e){e.preventDefault()}.bind(this)},n.createElement("div",{className:"fonts-upload-header"},n.createElement("span",{className:"general-explanation-text"},this.shouldFilterOtfFiles()?this.translateIfNeeded("Upload_Fonts_Panel_Header_Text_CJK"):this.translateIfNeeded("Upload_Fonts_Panel_Header_Text")),n.createElement(t.fileInput,{className:"font-upload-button",label:"Upload_Fonts_Upload_Button",onChange:function(e){this.handleUpload(e,!1)}.bind(this),fileTypes:this.getFileTypes()})),this.shouldShowFontsList()?null:n.createElement(t.filesDrop,{onChange:function(e){this.handleUpload(e,!0)}.bind(this),key:"empty-fonts-list",className:"empty-msg"},n.createElement("div",{className:"empty-message-container"},n.createElement("div",{className:"empty-symbol-container"},n.createElement(i.symbol,{name:"fonts-manager-clipart"})),n.createElement("span",{className:"empty-text-title"},this.translateIfNeeded("Upload_Fonts_Empty_State_Title")),n.createElement("br",{}),n.createElement("span",{className:"empty-text"},this.shouldFilterOtfFiles()?this.translateIfNeeded("Upload_Fonts_Empty_State_Text_CJK"):this.translateIfNeeded("Upload_Fonts_Empty_State_Text")),n.createElement(t.fileInput,{className:"font-upload-link",label:"Upload_Fonts_Empty_State_Text_Link",onChange:function(e){this.handleUpload(e,!1)}.bind(this),onlyText:!0,fileTypes:this.getFileTypes()}))),this.shouldShowFontsList()?n.createElement(t.filesDrop,{key:"fonts-list",hasBorder:!1,className:"list",onChange:function(e){this.handleUpload(e,!0)}.bind(this)},n.createElement(s.CustomScroll,{ref:"customScroll"},n.createElement.apply(this,["div",{className:"font-list-container"},a.map(this.state.invalidFiles,function(e,t){return n.createElement(o,a.assign({},{key:e.name},this.getInvalidFilesProps(e)))}.bind(this)),a.map(this.getFontsList(),function(e,t){return n.createElement(o,a.assign({},{key:e.fontFamily||e.fileName+t},e))}.bind(this))]))):null,n.createElement("div",{className:"fonts-upload-footer"},this.shouldShowFooterMsg()?n.createElement("span",{key:"upload-text",className:"footer-msg"},this.translateIfNeeded("Upload_Fonts_Footer_Text")):null,this.shouldShowErrorMsg()?n.createElement("span",{key:"error-text",className:"footer-error-msg"},this.translateIfNeeded("Upload_Fonts_Footer_Error_Text")):null,n.createElement(t.button,{className:"default btn-md close-panel",label:this.getButtonLabel(),disabled:this.isUploadInProcess(),onClick:this.handleDoneClick})))}}),define("panels/toolPanels/fontsManager/fontsUploadPanel",["create-react-class","prop-types","lodash","stateManagement","util","coreBi","panels/toolPanels/fontsManager/fontsUploadPanel.rt"],function(e,t,o,n,l,s,a){"use strict";var i=n.editorPlugins.uploadedFonts.selectors,r=i.getList,c=i.getQueue,p=i.getUploadedItems,u=n.editorPlugins.uploadedFonts.actions,d=u.setUploadedItems,m=u.assignFlagToQueueItem,h=u.cancelUpload,g=u.prepareUploadedFontsData,f=u.removeFonts,P=u.clearUploadQueue,_=u.uploadItems,b=n.editorPlugins.panels.actions,E=b.updateOrOpenPanel,C=b.closePanelByName,I=e({displayName:"fontsUploadPanel",mixins:[l.translationMixin],propTypes:{panelName:t.string,geoLocation:t.string.isRequired,uploadedFontsList:t.object,uploadedFontsQueue:t.object,uploadedFontsItems:t.object,setUploadedFontsItems:t.func.isRequired,assignFlagToQueueItem:t.func.isRequired,cancelUpload:t.func.isRequired,clearUploadQueue:t.func.isRequired,prepareUploadedFontsData:t.func.isRequired,removeFonts:t.func.isRequired,uploadItems:t.func.isRequired,closePanelByName:t.func.isRequired,updateOrOpenPanel:t.func.isRequired,reportBi:t.func.isRequired},render:a,getInitialState:function(){return{invalidFiles:[],isUploadStarted:!1,isUploadError:!1}},handleUpload:function(e,t){var n=this,a=this.shouldFilterOtfFiles();if(20<e.length)this.setState({isUploadError:!0});else{this.sendUploadBIEvents(e,t);var s=o.reduce(e,function(e,t){return l.fontsManagerUtils.isFolder(t)?(t.errorCode="999998",e.push(t)):l.fontsManagerUtils.isFontExt(t,a)||(t.errorCode="-7751",e.push(t)),e},[]),i=o.difference(e,s);o.forEach(s,function(e){n.sendUploadFailedBi(e.errorCode,e)}),this.setState({isUploadError:!1,invalidFiles:s,isUploadStarted:!0}),this.props.uploadItems(i)}},sendUploadBIEvents:function(e,t){var n=this,a=t?s.events.fontsUploadPanel.Fonts_Dragged:s.events.fontsUploadPanel.Upload_Fonts_Click;this.props.reportBi(a,{count:e.length}),o.forEach(e,function(e){n.props.reportBi(s.events.fontsUploadPanel.Upload_Fonts_Try_Upload,{name:e.name})})},sendUploadFailedBi:function(e,t){var n=l.fontsManagerUtils.getErrorMessage(e).bi_msg;this.props.reportBi(s.events.fontsUploadPanel.Upload_Failed,{message:n,name:t.name})},getFontProps:function(e){var t=!!e.status&&!e.fontFamily,n="";return t?t&&(n=e.status):n=l.fontsManagerUtils.constants.FONT_STATUS.FINISHED,{fileName:e.name,name:e.displayName,fontFamily:e.fontFamily,status:n,errorCode:e.error_code,downloadable:!t,downloadUrl:e.downloadUrl,removeable:!t,finished:e.status===l.fontsManagerUtils.constants.FONT_STATUS.SUCCEEDED||this.isUploadedItem(e),onRemoveClick:o.partial(this.handleRemoveClick,e),onDownloadClick:o.partial(this.handleDownloadClick,e),cancelable:e.status===l.fontsManagerUtils.constants.FONT_STATUS.WAITING,isStillUploading:e.stillUploading,onCancelClick:t?o.partial(this.handleCancleClick,e):null}},isUploadedItem:function(e){return e.id&&!!o.get(this.props.uploadedFontsItems,e.id)},getFontsList:function(){var e=this.getQueueItems().concat(this.getExistingItems());return o.map(e,this.getFontProps)},getInvalidFilesProps:function(e){return{fileName:e.name,status:l.fontsManagerUtils.constants.FONT_STATUS.FAILED,errorCode:e.errorCode}},getExistingItems:function(){var t=this.props.uploadedFontsQueue;return o.reject(this.props.uploadedFontsList,function(e){return o.find(t,{id:e.id})})},getQueueItems:function(){var e=this.props.uploadedFontsQueue;return o.reject(e,function(e){return e.removed||e.isAborted||e.canceled})},componentWillUnmount:function(){this.cancelAllUpload(),this.props.prepareUploadedFontsData()},shouldShowFontsList:function(){return!o.isEmpty(this.getExistingItems())||!o.isEmpty(this.getQueueItems())||!o.isEmpty(this.state.invalidFiles)},handleRemoveClick:function(e){this.props.reportBi(s.events.fontsUploadPanel.Delete_File,{}),this.openDeleteConfirmationPanel(e)},handleDownloadClick:function(){this.props.reportBi(s.events.fontsUploadPanel.Download_File_Click,{})},openDeleteConfirmationPanel:function(e){var t=this,n=o.partial(this.removeItem,e);this.props.updateOrOpenPanel("panels.toolPanels.deleteFontMsg",{panelName:"deleteFontConfirmation",onConfirm:n,onCancel:function(){t.props.reportBi(s.events.fontsUploadPanel.Approve_Delete_File,{text:"cancel"})}},!0)},removeItem:function(e){this.props.reportBi(s.events.fontsUploadPanel.Approve_Delete_File,{text:"delete"});var t=this.props.uploadedFontsQueue,n=o.findIndex(t,{id:e.id}),a=this.props.uploadedFontsItems;-1!==n&&(this.props.assignFlagToQueueItem(n,{removed:!0}),a[e.id]&&delete(a=o.clone(a))[e.id],this.props.setUploadedFontsItems(a)),this.props.removeFonts([e.id])},handleCancleClick:function(e){e.status===l.fontsManagerUtils.constants.FONT_STATUS.WAITING&&(this.props.reportBi(s.events.fontsUploadPanel.Cancel_Upload,{name:e.name}),this.cancelUpload(o.indexOf(this.props.uploadedFontsQueue,e)))},cancelUpload:function(e){this.props.cancelUpload(e)},cancelAllUpload:function(){var t=this,n=this,e=o.filter(this.props.uploadedFontsQueue,{status:l.fontsManagerUtils.constants.FONT_STATUS.WAITING}),a=o.map(e,function(e){return o.indexOf(t.props.uploadedFontsQueue,e)});this.isUploadInProcess()&&e&&o.forEach(a,function(e){n.cancelUpload(e)}),this.props.clearUploadQueue()},handlePanelCloseClick:function(){return!this.isUploadInProcess()||(this.openCancelConfirmationPanel(),!1)},openCancelConfirmationPanel:function(){var e=this;this.props.updateOrOpenPanel("panels.toolPanels.cancelFontUploadMsg",{panelName:"cancelUploadConfirmation",onConfirm:function(){e.props.reportBi(s.events.fontsUploadPanel.Approve_Stop_Upload,{}),e.closePanel()},onCancel:function(){return!1}},!0)},isAnyInQueueProcessing:function(){return o.some(this.props.uploadedFontsQueue,{status:l.fontsManagerUtils.constants.FONT_STATUS.PROCESSING})},isAnyInQueueWaiting:function(){return o.some(this.props.uploadedFontsQueue,{status:l.fontsManagerUtils.constants.FONT_STATUS.WAITING})},isAnyInQueueUploading:function(){return o.some(this.props.uploadedFontsQueue,{status:l.fontsManagerUtils.constants.FONT_STATUS.UPLOADING})},closePanel:function(){this.props.closePanelByName(this.props.panelName)},handleDoneClick:function(){this.props.reportBi(s.events.fontsUploadPanel.Closed_Button_Click,{}),this.closePanel()},getButtonLabel:function(){return this.state.isUploadStarted?"Upload_Fonts_Close_Button_2":"Upload_Fonts_Close_Button_1"},isUploadInProcess:function(){return this.isAnyInQueueProcessing()||this.isAnyInQueueWaiting()||this.isAnyInQueueUploading()},shouldShowFooterMsg:function(){return!this.state.isUploadError&&!o.isEmpty(this.props.uploadedFontsItems)&&!this.isUploadInProcess()},shouldShowErrorMsg:function(){return this.state.isUploadError},getFileTypes:function(){var e=this.shouldFilterOtfFiles()?l.fontsManagerUtils.constants.CONVERTED_EXTENTIONS:l.fontsManagerUtils.constants.ACCEPTABLE_EXTENTIONS;return o.map(e,function(e){return"."+e}).join(",")},shouldFilterOtfFiles:function(){var e=l.languages.getLanguageCode();return l.fontsManagerUtils.shouldFilterOtfFiles(e,this.props.geoLocation)}}),y={setUploadedItems:d,assignFlagToQueueItem:m,cancelUpload:h,prepareUploadedFontsData:g,removeFonts:f,uploadItems:_,clearUploadQueue:P,updateOrOpenPanel:E,closePanelByName:C,reportBi:function(){var e;return(e=n.editorPlugins.bi.actions).event.apply(e,arguments)}},N=o.flow(l.hoc.renderWhenMutated,l.hoc.connect(l.hoc.STORES.STATE_AND_DS,function(e){var t=e.state,n=e.dsRead;return{uploadedFontsList:r(t),uploadedFontsQueue:c(t),uploadedFontsItems:p(t),geoLocation:n.generalInfo.getGeo()}},y))(I);return N.pure=I,N}),define("panels/toolPanels/fontsManager/deleteFontMsg.rt",["react","lodash","panels/frames/messagePanelFrame","util"],function(e,t,n,a){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,confirmLabel:"Upload_Fonts_Delete_Pop_Up_Button_1",cancelLabel:"Upload_Fonts_Delete_Pop_Up_Button_2",className:"important delete-font-message",panelTitle:a.translate("Upload_Fonts_Delete_Pop_Up_Header")},e.createElement("div",{className:"delete-font-message"},e.createElement("div",{className:"message"},a.translate("Upload_Fonts_Delete_Pop_Up_Text"))))}}),define("panels/toolPanels/fontsManager/deleteFontMsg",["create-react-class","prop-types","lodash","panels/toolPanels/fontsManager/deleteFontMsg.rt"],function(e,t,n,a){"use strict";return e({displayName:"deleteFontMsg",propTypes:{panelName:t.string.isRequired,onConfirm:t.func.isRequired,onCancel:t.func.isRequired},render:a})}),define("panels/toolPanels/fontsManager/cancelFontUploadMsg.rt",["react","lodash","panels/frames/messagePanelFrame","util","experiment"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(n,{panelName:this.props.panelName,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,confirmLabel:"Upload_Fonts_Close_Panel_Pop_Up_Button_1",cancelLabel:"Upload_Fonts_Close_Panel_Pop_Up_Button_2",className:"important close-font-message",panelTitle:a.translate("Upload_Fonts_Close_Panel_Pop_Up_Header")},e.createElement("div",{className:"cancel-font-message"},e.createElement("div",{className:"message"},a.translate("Upload_Fonts_Close_Panel_Pop_Up_Text"))))}}),define("panels/toolPanels/fontsManager/cancelFontUploadMsg",["create-react-class","lodash","panels/toolPanels/fontsManager/cancelFontUploadMsg.rt"],function(e,t,n){"use strict";return e({displayName:"cancelFontUploadMsg",render:n})}),define("panels/toolPanels/grid/gridAddColumnPanel.rt",["react","lodash","util","baseUI","panels/frames/toolPanelFrame","baseUILib"],function(n,e,t,a,s,i){"use strict";return function(){return n.createElement(s,{ref:"frame",panelName:"panels.toolPanels.gridAddColumnPanel",contentWrapperClass:"grid-add-column-toolbar",contentStyle:e.pick(this.props,["top","left"]),onClose:this.onClose},n.createElement("div",{className:"grid-add-column-panel"},n.createElement(i.PanelHeader,{className:"header light",ref:"panelHeader",onClose:this.onCloseButtonClick,noHelpBtn:!0},n.createElement("span",{className:"panel-title"},t.translate(this.panelTitle))),n.createElement("div",{className:"header-separator"}),n.createElement("div",{className:"grid-add-column-toolbar-content"},n.createElement(a.textInput,{label:"TABLE_ADD_PANEL_COL_TITLE_LABEL",value:this.state.label,onChange:this.onLabelChange}),n.createElement("hr",{className:"divider-long"}),n.createElement(a.textInput,{label:"TABLE_ADD_PANEL_FIELD_NAME_LABEL",ref:"fieldNameInput",value:this.state.fieldName,validator:this.fieldNameValidator,invalidMessage:"FIELD_NAME_CANNOT_BE_EMPTY",onValidation:this.onFieldNameValidation,onChange:this.onFieldNameChange}),n.createElement("hr",{className:"divider-long"}),n.createElement.apply(this,[a.dropDown.select,{label:"TABLE_ADD_PANEL_TYPE_LABEL",valueLink:this.linkState("type")},e.map(this.typeOptions,function(e,t){return n.createElement(a.dropDown.option,{key:e.value,value:e.value},"\n                                ",e.label,"\n                            ")}.bind(this))]),n.createElement("hr",{className:"divider-long"}),n.createElement("div",{className:"button-row"},n.createElement(a.button,{disabled:!this.state.isFormValid,className:"button",label:"TABLE_ADD_PANE_DONE_BTN",onClick:this.onAddButtonClick})))))}}),define("panels/toolPanels/grid/gridAddColumnPanel",["react-addons-linked-state-mixin","create-react-class","lodash","core","panels/toolPanels/grid/gridAddColumnPanel.rt","panels/frames/panelCloseOrigin","coreBi","util"],function(e,t,n,a,s,i,o,l){"use strict";var r=Object.freeze({STRING:"string",DATE:"date",NUMBER:"number",IMAGE:"image",BOOLEAN:"bool",RICH_TEXT:"richText"});return t({displayName:"gridAddColumnPanel",mixins:[a.mixins.editorAPIMixin,e],panelTitle:"TABLE_ADD_PANEL_TITLE",getInitialState:function(){return{label:this.props.labelPrefix+this.props.nextIndex,fieldName:this.props.fieldNamePrefix+this.props.nextIndex,type:r.STRING,fieldNameWasEdited:!1,isFormValid:!0}},render:s,onCloseButtonClick:function(){this.reportPanelClosed(i.HEADER_CLOSE_BUTTON),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},onAddButtonClick:function(){this.state.isFormValid&&(this.props.addColumnCallback(this.state.label,this.state.fieldName,this.state.type),this.reportPanelClosed(i.DONE_BUTTON),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName))},onLabelChange:function(e){var t={label:e};if(!this.state.fieldNameWasEdited){var n=e.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");0!==n.length&&(t.fieldName=n)}this.setState(t)},fieldNameValidator:function(e){return 0<e.length},onFieldNameChange:function(e){this.setState({fieldName:e,fieldNameWasEdited:!0})},onFieldNameValidation:function(e){this.setState({isFormValid:e})},typeOptions:[{value:r.STRING,label:l.translate("TABLE_ADD_PANEL_TYPE_OPT1")},{value:r.IMAGE,label:l.translate("TABLE_ADD_PANEL_TYPE_OPT2")},{value:r.NUMBER,label:l.translate("TABLE_ADD_PANEL_TYPE_OPT3")},{value:r.BOOLEAN,label:l.translate("TABLE_ADD_PANEL_TYPE_OPT4")},{value:r.DATE,label:l.translate("TABLE_ADD_PANEL_TYPE_OPT5")},{value:r.RICH_TEXT,label:l.translate("TABLE_ADD_PANEL_TYPE_OPT6")}],onClose:function(e){this.reportPanelClosed(e)},getSelectedComponentId:function(){var e=this.props.selectedComponents;return n.isArray(e)?n.head(e).id:e.id},reportPanelClosed:function(e){var t=this.getEditorAPI();t.bi.event(o.events.grid.GRID_ADD_COLUMN_DONE,{siteId:t.dsRead.generalInfo.getSiteId(),componentId:this.getSelectedComponentId(),panelName:this.panelTitle,columnType:this.state.type,fieldName:this.state.fieldName,columnTitle:this.state.label,origin:e})}})}),define("panels/toolPanels/customSignupSettings/customSignupSettingsPanel.rt",["react","lodash","panels/frames/toolPanelFrame","baseUILib","baseUI","util"],function(t,e,n,a,s,i){"use strict";return function(){return function(){var e=i.translate;return t.createElement(n,{panelName:this.props.panelName,helpId:"bb75971d-c8cf-4130-bbf6-a333a831932a",headerTitle:e("Pages_Custom_Signup_Settings_Header_Title"),contentClass:"custom-signup-settings-panel",contentWrapperClass:"custom-signup-settings-panel-wrapper"},t.createElement(a.Composites.RichText,{},t.createElement(a.RichText,{className:"light"},e("pages_Custom_Signup_Settings_Custom_Signup_Description_Label"))),t.createElement(a.Divider,{}),t.createElement("div",{className:"tab-content"},t.createElement("div",{className:"settings"},t.createElement("div",{className:"options"},t.createElement("section",{className:"option"},t.createElement(s.toggle,{name:"switch",value:this.state.isCustomSignupEnabled,onChange:this.toggleCustomSignupEnabled,label:"Pages_Custom_Signup_Settings_Custom_Signup_Enabled_Label"}))),t.createElement(a.Divider,{}),this.state.isCustomSignupEnabled?t.createElement("section",{key:"customSignupLink",className:"option"},t.createElement(a.Composites.ActionWithSymbolLabeled,{},t.createElement(a.TextLabel,{value:"Pages_Custom_Signup_Settings_Custom_Signup_Link_Action_Label",shouldTranslate:!0}),t.createElement(a.ActionWithSymbol,{action:this.openLinkPanel},t.createElement(a.TextLabel,{value:this.getCustomSignupPageLabel(),shouldTranslate:!1})))):null)),t.createElement(a.Divider,{long:!0}),t.createElement("footer",{className:"actions"},t.createElement(a.Tooltip,{disabled:this.isSaveEnabled(),content:"Pages_Custom_Signup_Settings_Custom_Signup_Disabled_Save_Button_Tooltip",shouldTranslate:!0,arrowAlignment:"top",key:"saveButtonTooltip"},t.createElement(s.button,{label:"Pages_Custom_Signup_Settings_Custom_Signup_Save_Button_Label",onClick:this.applySettings,disabled:!this.isSaveEnabled(),className:"btn-confirm-primary btn-md"}))))}.apply(this,[])}}),define("panels/toolPanels/customSignupSettings/customSignupSettingsPanel",["react-addons-linked-state-mixin","lodash","util","core","coreBi","create-react-class","panels/toolPanels/customSignupSettings/customSignupSettingsPanel.rt"],function(e,i,o,t,a,n,s){"use strict";function l(e){var t=a.events.topbar.pages,n=e.bi.event;return{clickOnSaveSettings:function(){return n(t.custom_signup_panel_save)},clickOnSaveLinkPanel:function(){return n(t.custom_signup_panel_link_panel_save)},clickOnCancelLinkPanel:function(){return n(t.custom_signup_panel_link_panel_cancel)},clickOnLinkButton:function(){return n(t.custom_signup_panel_link_panel_open)}}}return n({displayName:"customSignupSettingsPanel",mixins:[t.mixins.editorAPIMixin,e],getInitialState:function(){var e=this.getEditorAPI().siteMembers.getCustomSignupPageId();return{customSignupPageId:e,customSignupPageLink:null,isCustomSignupEnabled:!!e}},toggleCustomSignupEnabled:function(){this.setState({isCustomSignupEnabled:!this.state.isCustomSignupEnabled})},getCustomSignupPageLabel:function(){var e=this.getEditorAPI(),t=this.state,n=t.customSignupPageId,a=t.customSignupPageLink;if(!n||!e.data.getById(n))return o.translate("Pages_Custom_Signup_Settings_Custom_Signup_Link_Action_Placeholder");if(a)return o.link.getLinkValueAsString(e,a);var s=e.data.getById(n);return i.get(s,"title","")},openLinkPanel:function(){var e,t,n,a=this.getEditorAPI(),s=this.state.customSignupPageId;l(a).clickOnLinkButton(),a.openLinkPanel({visibleSections:{PopupLink:!0,PageLink:!1,AnchorLink:!1,NoLink:!1,PhoneLink:!1,WhatsAppLink:!1,ExternalLink:!1,EmailLink:!1,DocumentLink:!1,LoginToWixLink:!1,EdgeAnchorLinks:!1},defaultLinkType:"PopupLink",initialTabToDisplay:"PopupLink",link:(e=a,t=s,n=e.data.createItem("PageLink"),t&&(n.pageId="#"+t),n),showAllPopups:!0,hidePageLinks:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"Pages_Custom_Signup_Settings_Link_Panel_Header",onCancelCallback:function(){return l(a).clickOnCancelLinkPanel()},callback:this.updateCustomSignupState,hideExternalLinkTarget:!0})},updateCustomSignupState:function(e){var t=e?i.get(e,"pageId").replace("#",""):null;this.setState({customSignupPageLink:e,customSignupPageId:t}),l(this.getEditorAPI()).clickOnSaveLinkPanel()},applySettings:function(){var e=this.getEditorAPI().siteMembers,t=this.state,n=t.customSignupPageId,a=t.isCustomSignupEnabled;e.getCustomSignupPageId()!==n&&e.setCustomSignupPageId(n),a||e.setCustomSignupPageId(null),l(this.getEditorAPI()).clickOnSaveSettings(),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},isSaveEnabled:function(){var e=this.getEditorAPI().siteMembers,t=this.state,n=t.customSignupPageId,a=t.isCustomSignupEnabled;return e.getCustomSignupPageId()!==n||n&&!a},render:s})}),define("panels/toolPanels/rolesManager/rolesManager.rt",["react","lodash","panels/frames/toolPanelFrame","baseUILib","baseUI","util"],function(a,t,n,s,i,o){"use strict";return function(){return function(){var e=o.translate;return a.createElement(n,{panelName:this.props.panelName,headerTitle:e(this.props.headerTitle),contentClass:"roles-manager-panel",lightHeader:!0,contentWrapperClass:"roles-manager-panel-wrapper"},a.createElement(s.Divider,{long:!0}),a.createElement("div",{className:"content-section"},this.shouldRenderGroups()?a.createElement.apply(this,["div",{key:"should-show-checkbox-container"},t.map(this.getGroups(),function(e,t,n){return a.createElement("div",{className:"checkbox-container",key:t+n},a.createElement(s.Checkbox,{value:t.checked,label:t.title,name:t.id,disabled:t.disabled,labelAfterSymbol:!0,onChange:function(e,t,n,a){this.onCheckboxToggle(t.id,a)}.bind(this,e,t,n),shouldTranslate:!1}))}.bind(this,e)),a.createElement("div",{className:"content-section-divider"},a.createElement(s.Divider,{long:!0}))]):null,a.createElement(s.Button,{onClick:this.props.addNewButtonCallback,className:"btn-text add-new-role"},a.createElement("span",{},e(this.props.addNewButtonLabel)))),a.createElement(s.Divider,{long:!0}),this.getGroups()?a.createElement("footer",{className:"footer-section",key:"footer"},a.createElement(s.Composites.ButtonLarge,{},a.createElement(i.button,{label:this.props.applyButtonLabel,onClick:this.applyChanges,className:"btn-confirm-primary btn-md pp-apply"}))):null)}.apply(this,[])}}),define("panels/toolPanels/rolesManager/rolesManager",["react-addons-linked-state-mixin","lodash","core","create-react-class","panels/toolPanels/rolesManager/rolesManager.rt"],function(e,i,t,n,a){"use strict";return n({displayName:"rolesManager",mixins:[t.mixins.editorAPIMixin,e],getInitialState:function(){var e=this.props,t=e.selectedGroups,n=e.groups.map(function(e){return i.find(t,["id",e.id])||e});return{groups:this.props.groups,selectedGroups:n,currentSelection:n}},getGroups:function(){return this.state.currentSelection},shouldRenderGroups:function(){return 0<this.state.currentSelection.length},onCheckboxToggle:function(e,t){var n,a,s;this.setState({currentSelection:(n=e,a=t,s=this.state.currentSelection,s.map(function(e){return e.id===n?i.assign({},e,{checked:a}):e}))})},applyChanges:function(){var e=this.state,t=e.currentSelection,n=e.selectedGroups,a=i.differenceWith(t,n,i.isEqual);a&&this.props.applyButtonCallback(a),this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:a})}),define("panels/toolPanels/layers/spotlight",["lodash","stateManagement"],function(e,t){"use strict";var n=t.editorPlugins.layers.actions.setSpotlight,a=t.editorPlugins.layers.selectors.getSpotlightComponent,p=function(e,t){e.store.dispatch(n(t))},u=function(t,n){[t.documentServices.siteSegments.getHeader(),t.documentServices.siteSegments.getFooter(),t.documentServices.pages.getFocusedPage()].forEach(function(e){t.documentServices.components.get.byAncestor(e).forEach(function(e){n(e)})})},d=function(e,t){var n=a(e.store.getState());return e.utils.isSameRef(n,t)};return{isComponentSpotlighted:d,toggleSpotlight:function(e,t){var n,a,s,i,o,l,r,c;d(e,t)?(c=(r=e).documentServices.renderPlugins,u(r,c.showComp),p(r,null)):(a=t,l=(n=e).documentServices.renderPlugins,u(n,l.hideComp),p(n,a),s=n,i=a,o=l.showComp,(function(e,t){var n=e.documentServices.components.getAncestors(t);if(n&&n.length){var a=n.length-1;if(n[a].id===e.documentServices.pages.getMasterPageId())return n.slice(0,a)}return n}(s,i)||[]).forEach(function(e){o(e)}),o(i))},setSpotlightComponent:p}}),define("panels/toolPanels/layers/createNodeProps",["lodash","zepto","stateManagement","coreBi","panels/toolPanels/layers/spotlight"],function(c,p,u,d,m){"use strict";var h=function(e){return 25<e.length?e.substr(0,22)+"...":e},g=function(e,t){var n=e.components.layout.getRelativeToStructure(t);e.ui.scroll.animateScroll({x:0,y:Math.max(n.y-30,0)},.5),e.selection.selectComponentByCompRef(t),e.selection.setIsHiddenComponentDraggedNext(!0)},f=function(e,t){var n,a,s,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{label:""},o=e.dsActions.renderPlugins,l=e.dsRead.renderPlugins.isCompHidden(t);n=e,a=t,(s=l?o.showComp:o.hideComp)(a),n.dsRead.components.get.byAncestor(a).forEach(function(e){s(e)}),m.setSpotlightComponent(n,null),e.store.dispatch(u.bi.actions.event(d.events.layers.layer_show_hide,{state:l?"1":"0",layer_name:i.label}))};return function t(n,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=m.isComponentSpotlighted(n,e),o=function(e,t,n){var a=e.components.getDisplayName(t);if(0===n)return a;var s=e.components.getNickname(t);if(s)return s;switch(e.dsRead.components.getType(t)){case"wysiwyg.viewer.components.WRichText":return h(p(e.components.data.get(t).text).text());case"wysiwyg.viewer.components.SiteButton":return h(e.components.data.get(t).label)}return a}(n,e,a),l={parent:s,id:e.id,level:a,label:o,isSelected:n.utils.isSameRef(e,u.selection.selectors.getSelectedCompsRefs(n.store.getState())),isHidden:n.documentServices.renderPlugins.isCompHidden(e),onClick:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{label:""};g(e,t),e.store.dispatch(u.bi.actions.event(d.events.layers.layer_click,{layer_name:n.label}))}.bind(null,n,e,{label:o}),onToggleVisibility:f.bind(null,n,e,{label:o}),onToggleSpotlight:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{label:""},a=m.isComponentSpotlighted(e,t);a||g(e,t);var s=a?"0":"1";m.toggleSpotlight(e,t),e.store.dispatch(u.bi.actions.event(d.events.layers.layer_spotlight,{state:s,layer_name:n.label}))}.bind(null,n,e,{label:o}),shouldShowChildren:!1,icon:n.components.getIconInfo(e),isSpotlight:i};l.isSelected&&function e(t,n,a){t.parent&&(t.parent[n]=a,e(t.parent,n,a))}(l,"shouldShowChildren",!0);var r=n.dsRead.components.getChildren(e);return 0<r.length&&(l.childNodes=c.map(r,function(e){return t(n,e,a+1,l)}),l.moveToIndex=function(e,t,n,a,s){e.components.arrangement.moveToIndex(t[a],s),e.store.dispatch(u.bi.actions.event(d.events.layers.layer_drag,{previous_position_index:a,current_position_index:s,layer_name:n.label}))}.bind(null,n,r,{label:o})),l}}),define("panels/toolPanels/layers/layersPanelMapper",["lodash","panels/toolPanels/layers/createNodeProps"],function(e,n){"use strict";var a=function(e,t,n){return n.editorAPI.panelManager.openHelpCenter("4da3c6cd-dbb3-42c9-9fdd-eba0da517833")},s=function(e,t,n){return n.editorAPI};return{mapDispatchToProps:function(e){var t=e(s);return{openHelpCenter:function(){return e(a)},treeProps:{header:n(t,t.dsRead.pages.getReference("SITE_HEADER")),footer:n(t,t.dsRead.pages.getReference("SITE_FOOTER")),page:n(t,t.dsRead.pages.getFocusedPage())}}}}}),define("panels/toolPanels/layers/node.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols"],function(a,t,n,s,i){"use strict";return function(){return function(){var e=this.getReactClass();return a.createElement("div",{className:t({node:!0,headline:0===this.props.level,component:0<this.props.level}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),"data-aid":0===this.props.level?"layer-headline":""},a.createElement("div",{className:"item "+t({selected:this.props.isSelected,hidden:this.props.isHidden,spotlight:this.props.isSpotlight}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),"data-aid":0<this.props.level?"layer-item":"layer-header",onMouseDown:function(e,t){this.props.startDrag&&this.props.startDrag(t)}.bind(this,e)},a.createElement("div",{className:"item-inner"},this.hasChildren()?a.createElement("span",{onClick:this.toggleShowChildren,className:"toggle-show-children",key:"toggleShowChildren","data-aid":"toggle-show-children"},this.shouldShowChildren()?null:a.createElement(n.symbol,{className:"close",name:"triangle-right",key:"triangle-right"}),this.shouldShowChildren()?a.createElement(n.symbol,{className:"open",name:"triangle-down",key:"triangle-down"}):null):null,a.createElement("div",{className:"node-info "+t({"extra-margin":!this.hasChildren()}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},this.props.icon&&0<this.props.level?a.createElement("span",{className:"icon",key:"icon"},this.props.icon.svgName?a.createElement(n.symbol,{name:this.props.icon.svgName,key:"svg"}):null,this.props.icon.css?a.createElement("span",{style:this.getImageIconStyle(),key:"style",className:"image"}):null):null,a.createElement("span",{key:this.props.id,onClick:this.props.onClick,className:"title"},a.createElement(s.TextLabel,{value:this.props.label,type:"T17",shouldTranslate:!1})),0<this.props.level?a.createElement("span",{onClick:this.props.onToggleSpotlight,className:"toggle-spotlight",key:"spotlight-handle","data-aid":"layer-toggle-spotlight"},a.createElement(n.tooltip,{value:"Layers_SpotlightOff_Tooltip",shouldTranslate:!0},a.createElement("div",{},this.props.isSpotlight?a.createElement(i.symbol,{name:"spotlight",key:"spotlightOn"}):null)),a.createElement(n.tooltip,{value:"Layers_SpotlightOn_Tooltip",shouldTranslate:!0},a.createElement("div",{},this.props.isSpotlight?null:a.createElement(i.symbol,{name:"spotlight",key:"spotlightOff"})))):null,0<this.props.level?a.createElement("span",{onClick:this.props.onToggleVisibility,className:"toggle-visibility",key:"visibility-handle","data-aid":"layer-toggle-visibility"},a.createElement(n.tooltip,{value:"Layers_Hide_Tooltip",shouldTranslate:!0},a.createElement("div",{},this.props.isHidden?null:a.createElement(n.symbol,{name:"showComp",key:"showSymbol"}))),a.createElement(n.tooltip,{value:"Layers_Show_Tooltip",shouldTranslate:!0},a.createElement("div",{},this.props.isHidden?a.createElement(n.symbol,{name:"hiddenPageStatus",key:"hideSymbol"}):null))):null))),this.shouldShowChildren()?a.createElement.apply(this,[n.sortByDragList,{key:"sortList",ref:"sortList",className:"sort-list",onItemMoved:this.props.moveToIndex},t.map(this.props.childNodes,function(e,t,n){return a.createElement(e,{key:t.id,label:t.label,onClick:t.onClick,isSelected:t.isSelected,isHidden:t.isHidden,onToggleVisibility:t.onToggleVisibility,onToggleSpotlight:t.onToggleSpotlight,moveToIndex:t.moveToIndex,childNodes:t.childNodes,isSpecialParent:t.isSpecialParent,startDrag:this.startDrag.bind(this,n),level:t.level,icon:t.icon,shouldShowChildren:t.shouldShowChildren,isSpotlight:t.isSpotlight})}.bind(this,e))]):null)}.apply(this,[])}}),define("panels/toolPanels/layers/node",["lodash","create-react-class","prop-types","panels/toolPanels/layers/node.rt"],function(e,t,n,a){"use strict";var s=t({displayName:"LayersNode",propTypes:{id:n.string.isRequired,label:n.string.isRequired,onClick:n.func,isSelected:n.bool,isHidden:n.bool,onToggleVisibility:n.func,onToggleSpotlight:n.func,moveToIndex:n.func.isRequired,childNodes:n.array,shouldShowChildren:n.bool,isSpotlight:n.bool},getInitialState:function(){return{shouldShowChildren:this.props.shouldShowChildren}},getReactClass:function(){return s},startDrag:function(e,t){this.refs.sortList.startDrag(e,t)},toggleShowChildren:function(){this.hasChildren()&&this.setState({shouldShowChildren:!this.state.shouldShowChildren})},shouldShowChildren:function(){return this.hasChildren()&&this.state.shouldShowChildren},hasChildren:function(){return this.props.childNodes},getImageIconStyle:function(){return e.merge({},this.props.icon.css,{backgroundImage:"url("+this.props.icon.src+")"})},render:a});return s}),define("panels/toolPanels/layers/layersPanel.rt",["react","lodash","util","panels/toolPanels/layers/node","panels/frames/tpaSettingsPanelFrame"],function(e,t,n,a,s){"use strict";return function(){return e.createElement(s,{className:"layers-panel",title:n.translate("Layers_Title"),width:288,height:579,ref:"tpaSettingsFrame",top:"90px",left:"168px",shouldAddScroll:!0,onHelpClicked:this.props.openHelpCenter,panelName:"panels.toolPanels.layersPanel"},e.createElement("div",{className:"layers-panel"},this.props.treeProps.header.childNodes?e.createElement(a,t.assign({},{key:"header"},this.props.treeProps.header)):null,this.props.treeProps.header.childNodes?e.createElement("div",{className:"spacer",key:"spacer1"}):null,this.props.treeProps.page.childNodes?e.createElement(a,t.assign({},{key:"page"},this.props.treeProps.page)):null,this.props.treeProps.page.childNodes?e.createElement("div",{className:"spacer",key:"spacer2"}):null,this.props.treeProps.footer.childNodes?e.createElement(a,t.assign({},{key:"footer"},this.props.treeProps.footer)):null))}}),define("panels/toolPanels/layers/layersPanel",["zepto","lodash","create-react-class","reactDOM","prop-types","util","panels/toolPanels/layers/layersPanelMapper","panels/toolPanels/layers/layersPanel.rt"],function(a,e,t,s,n,i,o,l){"use strict";var r=i.hoc,c=r.connect,p=r.STORES.EDITOR_API,u=t({displayName:"LayersPanel",propTypes:{treeProps:n.object.isRequired,openHelpCenter:n.func.isRequired},componentDidMount:function(){var e=a(s.findDOMNode(this)),t=e.find(".layers-panel .custom-scroll .inner-container"),n=e.find(".selected");0<n.length&&519<n.offset().top&&t.scrollTop(n.offset().top-t.offset().top-55)},render:l}),d=c(p,e.constant({}),o.mapDispatchToProps,void 0,!1)(u);return d.pure=u,d}),define("panels/toolPanels/imageMaskPanel/imageCropSVGPanelConsts",[],function(){"use strict";return{MASKS:[{index:2,id:"909695c1e003409ba70b5561666c7c4d.svg",thumbId:"shape-01-02",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n<g>\n<path d="M63 9v54H9V9h54z"/>\n</g>\n</svg>'},{index:3,id:"cf545b123b6e4523b228d62bfa0dea9b.svg",thumbId:"shape-01-03",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M66 36c0 16.569-13.431 30-30 30C19.431 66 6 52.569 6 36 6 19.431 19.431 6 36 6c16.569 0 30 13.431 30 30z"/>\n    </g>\n</svg>\n'},{index:4,id:"9cca9e9c03ec45e28cb046998aedd32d.svg",thumbId:"shape-01-04",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36 8.955L4.643 63.045h62.714L36 8.955z"/>\n    </g>\n</svg>\n'},{index:5,id:"4ede9acf964a4861a5e7af5c79f91cff.svg",thumbId:"shape-01-05",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M45.31 7.287H26.69L11.626 18.254 5.872 36l5.754 17.746L26.69 64.713h18.62l15.064-10.967L66.128 36l-5.754-17.746L45.31 7.287z"/>\n    </g>\n</svg>\n'},{index:6,id:"0dc68a4a1c6440e285913033e4d0a0fe.svg",thumbId:"shape-01-06",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36.053 5.185L9.009 20.799v31.228l27.044 15.614 27.044-15.614V20.799L36.053 5.185z"/>\n    </g>\n</svg>\n'},{index:7,id:"aeb0df3014a44462815acf283a823208.svg",thumbId:"shape-01-07",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M63.702 63.904H8.298L20.054 8.096h31.892l11.756 55.808z"/>\n    </g>\n</svg>\n'},{index:8,id:"c5e4941a7b6546258e2ef4c1807eaf7b.svg",thumbId:"shape-01-08",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M64.538 36L36 68.644 7.462 36 36 3.356 64.538 36z"/>\n    </g>\n</svg>\n'},{index:9,id:"d3bcfabb79fb4bb193e17e0e5996fdfe.svg",thumbId:"shape-01-09",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M52.343 63.904H8.096L19.657 8.096h44.247L52.343 63.904z"/>\n    </g>\n</svg>\n'},{index:10,id:"2428012b6769448081719f3fde9f0f78.svg",thumbId:"shape-01-10",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36 6.883c-12.842 0-23.253 9.699-23.253 21.663v36.571h46.507V28.546C59.253 16.582 48.842 6.883 36 6.883z"/>\n    </g>\n</svg>\n'},{index:11,id:"72df8655830f4db6b8efbc852291ce0b.svg",thumbId:"shape-01-11",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M47.92 23.092c-1.913 0-3.726.422-5.357 1.174V4.537c-17.308 0-31.34 14.087-31.34 31.463s14.031 31.463 31.34 31.463v-19.73a12.76 12.76 0 0 0 5.357 1.174c7.101 0 12.857-5.779 12.857-12.908S55.021 23.092 47.92 23.092z"/>\n    </g>\n</svg>\n'},{index:12,id:"3813763a9dc144ce9324e280c91136d1.svg",thumbId:"shape-01-12",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M56.041 6.33A31.586 31.586 0 0 0 45.52 4.537C28.09 4.537 13.959 18.623 13.959 36S28.09 67.463 45.52 67.463c3.689 0 7.23-.633 10.52-1.793V6.33z"/>\n    </g>\n</svg>\n'},{index:13,id:"906322ee0e2b45e6941997bdb0790e82.svg",thumbId:"shape-01-13",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M65.029 35.72L44.481 6l-8.372 12.059L27.882 6.16 6.971 36.28 27.519 66l8.372-12.059 8.227 11.899 20.911-30.12z"/>\n    </g>\n</svg>\n'},{index:14,id:"d8e1899d7ddf4197baf56ef8b22a5e8a.svg",thumbId:"shape-01-14",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M45.557 7.833L36 36.107 26.442 7.833 7.4 64.167h57.2L45.557 7.833z"/>\n    </g>\n</svg>\n'},{index:15,id:"088d89c2b06642468a8418992fe38e73.svg",thumbId:"shape-01-15",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M57.4 6.351L36 24.536 14.6 6.351v59.298L36 47.464l21.4 18.185V6.351z"/>\n    </g>\n</svg>\n'},{index:16,id:"c4a2e6079ca84783af925ba9e640c851.svg",thumbId:"shape-01-16",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M45.018 45.018V26.982H26.982V8.947H8.947v36.49h17.597v17.616h36.509V45.018H45.018z"/>\n    </g>\n</svg>\n'},{index:17,id:"b4d71b7aa00c4d6b8d87f5ce84df8e0a.svg",thumbId:"shape-01-17",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M66.311 46.072V25.928H46.072V5.689H25.928v20.239H5.689v20.144h20.239v20.239h20.144V46.072h20.239z"/>\n    </g>\n</svg>\n'},{index:18,id:"591183f2d0454ddaa23a7f20dc8cdb18.svg",thumbId:"shape-01-18",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M45.273 45.273V26.727H26.727V8.18H8.18v55.64h55.64V45.273H45.273z"/>\n    </g>\n</svg>\n'},{index:19,id:"92254bf1c7e34693b107d3c194cc8943.svg",thumbId:"shape-01-19",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M48.166 38.361c-1.107 5.674-6.119 9.971-12.12 9.971-6.81 0-12.35-5.532-12.35-12.332 0-6.8 5.54-12.332 12.35-12.332l.091.002V5.565l-.091-.001c-8.142 0-15.797 3.166-21.554 8.915S5.564 27.87 5.564 36s3.171 15.773 8.928 21.522 13.412 8.915 21.554 8.915c8.142 0 15.797-3.166 21.554-8.915 5.196-5.189 8.284-11.921 8.837-19.161H48.166z"/>\n    </g>\n</svg>\n'},{index:20,id:"a8f6af7057234dfe9d49916ec1f792e7.svg",thumbId:"shape-01-20",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36.075 7.395L4 60.605h17.816l14.236-24.607L50.22 60.605H68L36.075 7.395z"/>\n    </g>\n</svg>\n'},{index:21,id:"e753c5d3d3f84d089e54418e7ad99f6a.svg",thumbId:"shape-01-21",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M16.529 7.5h34.942v57H33.623V25.432H16.529V7.5z"/>\n    </g>\n</svg>\n'},{index:22,id:"fae9b72843234469a0564d8d62d22125.svg",thumbId:"shape-01-22",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M62.128 31.675L36 5.547 9.872 31.675h16.234v34.778h19.788V31.675h16.234z"/>\n    </g>\n</svg>\n'},{index:23,id:"6cfa70f524284653a74fb4c67937649b.svg",thumbId:"shape-01-23",thumbnail:'<svg fill="#fff" xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 72 72">\n    <g>\n        <path d="M36.002 22.962l3.931-5.49c2.165-3.024 4.332-6.047 6.49-9.076.17-.239.342-.347.647-.347 6.08.009 12.16.007 18.241.007h.34c-.148.213-.253.371-.364.524-6.516 9.037-13.031 18.075-19.558 27.104-.247.341-.237.555.004.891 6.364 8.88 12.717 17.768 19.071 26.655.104.145.201.295.338.498-.161.014-.268.031-.374.032-5.914.062-11.827.119-17.741.191-.326.004-.503-.107-.686-.361-3.312-4.613-6.634-9.218-9.954-13.825-.125-.174-.256-.343-.426-.57-.137.182-.254.33-.364.483-3.34 4.634-6.68 9.267-10.015 13.904-.163.226-.313.374-.634.37-5.947-.073-11.894-.13-17.841-.192-.082-.001-.163-.011-.32-.023.109-.169.187-.303.277-.429C13.431 54.43 19.796 45.55 26.18 36.684c.32-.444.297-.708-.015-1.139-6.522-9.011-13.026-18.037-19.533-27.06-.084-.117-.159-.241-.283-.429h.547c5.981 0 11.961.003 17.942-.008.358-.001.564.116.769.403 3.334 4.678 6.68 9.348 10.024 14.019.105.144.215.285.371.492z"/>\n    </g>\n</svg>\n'},{index:24,id:"4bc9a1d5c9e4470e8abfdc87132b7952.svg",thumbId:"shape-01-24",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36 67.435c-8.397 0-16.291-3.27-22.228-9.207C7.835 52.291 4.565 44.397 4.565 36c0-8.397 3.27-16.291 9.207-22.228S27.603 4.565 36 4.565c8.397 0 16.291 3.27 22.228 9.207 5.937 5.937 9.207 13.831 9.207 22.228 0 8.397-3.27 16.291-9.207 22.228-5.937 5.937-13.831 9.207-22.228 9.207zm0-47.906c-9.082 0-16.471 7.389-16.471 16.471S26.918 52.471 36 52.471 52.471 45.082 52.471 36 45.082 19.529 36 19.529z"/>\n    </g>\n</svg>\n'},{index:25,id:"a9215c4b0e6c4fe580319d3242598adf.svg",thumbId:"shape-01-25",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M46.253 66.162l-3.79-4.099c-8.12 4.408-14.075 5.259-18.329 5.259-13.224 0-20.107-8.275-20.107-17.014 0-7.889 5.646-12.297 12.606-16.241-2.707-3.635-4.718-7.734-4.718-12.374 0-9.513 8.43-17.014 18.406-17.014 9.822 0 18.097 7.27 18.097 16.241 0 7.192-5.259 11.755-10.518 14.849l6.497 7.038c3.712-3.016 6.96-5.955 9.048-8.043l10.905 10.44c-3.481 3.403-6.729 6.264-9.745 8.662l11.369 12.297H46.253zM32.1 51.004l-7.579-8.198c-3.557 2.243-5.104 4.253-5.104 6.341 0 2.321 1.856 4.022 5.027 4.022 2.242 0 4.872-.851 7.656-2.165zm-2.552-24.052c3.557-2.165 5.181-3.867 5.181-5.723 0-2.088-2.088-3.557-4.176-3.557-2.32 0-4.253 1.779-4.253 3.867 0 1.546 1.005 3.015 3.248 5.413z"/>\n    </g>\n</svg>\n'},{index:26,id:"4641461a029148659a58e0f1fbe62195.svg",thumbId:"shape-01-26",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M12.412 18.367h9.899l2.243-12.528h12.761l-2.243 12.528h7.889l2.243-12.528h12.76l-2.243 12.528h7.657v13.302h-9.977l-1.47 8.739h7.657v13.225h-9.977l-2.166 12.529h-12.76l2.166-12.529h-7.889l-2.165 12.529H14.036l2.166-12.529h-7.58V40.408h9.899l1.47-8.739h-7.579V18.367zm18.87 22.041h7.889l1.469-8.739h-7.888l-1.47 8.739z"/>\n    </g>\n</svg>\n'},{index:27,id:"72f99a4575514335b116fea04a2cf903.svg",thumbId:"shape-01-27",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M30.857 44.43v.077c0 2.011 1.315 4.718 5.646 4.718 3.325 0 3.712-1.547 3.712-2.166 0-.851-.774-1.779-6.264-4.331-6.419-3.016-17.788-7.502-17.788-17.556 0-6.728 5.182-11.987 12.838-13.92V3.905h13.766v7.502c7.579 2.165 12.838 7.811 12.838 15.699v.464H40.524v-.077c0-2.011-1.16-4.718-5.027-4.718-3.016 0-3.325 1.624-3.325 2.088 0 .851.928 2.165 5.8 4.099s18.252 6.573 18.252 17.71c0 7.193-5.491 12.452-13.457 14.231v7.192H29.001v-7.502c-7.889-2.165-13.225-7.656-13.225-15.7v-.463h15.081z"/>\n    </g>\n</svg>\n'},{index:28,id:"c156ade1a0c5419593b933eacb9debc8.svg",thumbId:"shape-01-28",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M36.003 61.436c9.892-6.356 20.149-13.632 25.528-24.489 2.279-4.599 3.421-9.904 2.392-14.936-1.372-6.709-6.551-12.179-13.617-11.366-6.828.786-9.737 2.776-14.303 7.51h-.007c-4.567-4.734-7.475-6.724-14.303-7.51-7.066-.813-12.244 4.657-13.616 11.366-1.029 5.032.114 10.337 2.392 14.936 5.379 10.856 15.635 18.133 25.528 24.489h.006z"/>\n    </g>\n</svg>\n'},{index:29,id:"877c2faf8d604dd282a7920f8f310bb7.svg",thumbId:"shape-01-29",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M56.523 9.549c-6.767 0-12.253 5.487-12.253 12.255 0 .616.047 1.22.134 1.811a20.337 20.337 0 0 0-8.405-1.811c-3.012 0-5.868.657-8.441 1.828.11-.661.171-1.339.171-2.032 0-6.768-5.486-12.255-12.253-12.255S3.224 14.832 3.224 21.6 8.71 33.855 15.477 33.855c.671 0 1.329-.056 1.971-.16a20.354 20.354 0 0 0-1.869 8.534c0 11.281 9.143 20.426 20.421 20.426S56.421 53.51 56.421 42.23a20.35 20.35 0 0 0-1.768-8.312c.61.093 1.234.142 1.87.142 6.767 0 12.253-5.487 12.253-12.255S63.29 9.549 56.523 9.549z"/>\n    </g>\n</svg>\n'},{index:30,id:"a244381225fe4e538771607be81bbec9.svg",thumbId:"shape-01-30",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M32.016 35.834L12.667 16.599c10.74-10.587 28.078-10.56 38.783.082 10.733 10.67 10.733 27.969 0 38.638s-28.135 10.67-38.868 0l-.082-.084 19.516-19.401z"/>\n    </g>\n</svg>'},{index:31,id:"e8bb85e9af6547b0b4c96e3553bc38a6.svg",thumbId:"shape-01-31",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M59.739 11.739L32.88 8.175 7 29.284l16.287 34.541 29.605-4.6L63 39.153l-3.261-27.414z"/>\n    </g>\n</svg>\n'},{index:32,id:"adb57ae1122b49098d773454be6161a9.svg",thumbId:"shape-01-32",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M47.86 60.204l17.655-23.629-11.417-21.183-25.395-8.917L6.515 46.593l19.887 18.984 21.458-5.373z"/>\n    </g>\n</svg>\n'},{index:33,id:"bfc18cc253b24c21954f53dbd9644fb9.svg",thumbId:"shape-01-33",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M65 31.794L37.653 7.363 7 27.789l5.109 26.435 32.756 10.413L65 31.794z"/>\n    </g>\n</svg>\n'},{index:34,id:"7f78de979be645a882019d5ffce8b8ef.svg",thumbId:"shape-01-34",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M59.204 53.943a22.707 22.707 0 0 1-4.485 5.774c-9.849 9.114-28.125 6.445-37.11-1.897-5.342-4.96-7.551-11.339-7.562-17.568s2.029-12.37 4.479-18.355c2.045-4.995 4.796-10.319 11.004-13.119 5.14-2.318 11.653-2.421 17.727-2.025 3.769.246 7.65.69 10.814 2.155s5.425 4.197 4.558 6.797c-.63 1.889-2.707 3.337-4.169 4.981-3.13 3.522-3.328 8.243-.497 11.888 2.622 3.377 7.77 6.04 7.969 10.17.175 3.623-.761 7.6-2.728 11.199z"/>\n    </g>\n</svg>\n'},{index:35,id:"3a365dbcf90a4cdb9038ed2c682abc91.svg",thumbId:"shape-01-35",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M11.395 21.207c-6.433 9.196-3.25 23.054 1.418 32.263 2.887 5.695 8.111 13.329 17.139 11.88 2.052-.33 3.932-1.176 5.963-1.586 6.297-1.272 13.379 1.734 19.228-.568 2.314-.911 4.091-2.559 5.455-4.349 4.304-5.647 4.824-13.131 1.332-19.159-2.45-4.228-6.694-7.731-8.326-12.219-1.602-4.402-.478-9.189-1.664-13.679-1.443-5.461-7.604-9.376-13.944-6.151-2.395 1.218-4.448 2.855-7.059 3.783-2.718.966-5.733 1.219-8.492 2.107-5.179 1.667-8.736 4.371-11.05 7.678z"/>\n    </g>\n</svg>\n'},{index:36,id:"dd44237911db45a79ca681bd532aaab9.svg",thumbId:"shape-01-36",thumbnail:'<svg fill="#fff" viewBox="0 0 72 72" height="72" width="72" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M60.165 19.501c-.657-1.746-1.739-3.407-3.287-4.882-4.076-3.882-11.223-6.32-17.763-7.371-17.269-2.774-27.374 9.87-28.042 20.443-.318 5.035 2.509 9.948 2.731 14.998.238 5.419-2.03 10.766-.942 16.222.607 3.041 3.124 4.813 7.307 5.522 12.513 2.12 29.264-.418 35.545-9.2 1.759-2.459 2.532-5.267 2.804-7.998.321-3.224-.43-6.431-.533-9.649-.098-3.064.949-5.991 2.063-8.928 1.127-2.967 1.236-6.185.117-9.157z"/>\n    </g>\n</svg>\n'}],MASK_THUMB_SIZE:{width:72,height:72}}}),define("panels/toolPanels/imageMaskPanel/imageCropSVGPanelMapper",["stateManagement"],function(e){"use strict";var i=e.editorPlugins.userPreferences.actions.setSessionUserPreferences,o=e.editorPlugins.userPreferences.selectors.getSessionUserPreferences,l=e.editorPlugins.components.selectors.getData,r=function(e,t,n){return n.editorAPI},c=function(e,t){return t()};return{mapStateToProps:function(e,t){var n=e.editorAPI,a=n.store.getState(),s=t.selectedComponents[0].id;return{imageData:l(t.selectedComponents,n.dsRead),lastCustomMaskId:o("mask-crop-custom-svg-"+s)(a)}},mapDispatchToProps:function(n,e){var t=n(r),a=n(c),s=e.selectedComponents[0].id;return{mediaManager:t.mediaServices.mediaManager,setFocusToEditor:t.mediaServices.setFocusToEditor,setCropArea:t.imageCrop.setCropArea,getCropArea:t.imageCrop.getCropArea,getMMgrPath:function(e){return o(e)(a)},setMMgrPath:function(e,t){return n(i(e,t))},setLastCustomMaskId:function(e){return n(i("mask-crop-custom-svg-"+s,e))},onClose:e.onClose,getSVG:t.documentServices.media.vectorImage.getSvgFromCache}}}}),define("panels/toolPanels/imageMaskPanel/imageCropSVGPanel.rt",["react","lodash","baseUILib","santa-editor-symbols","panels/frames/toolPanelFrame","util"],function(e,t,n,a,s,i){"use strict";return function(){return e.createElement(s,{panelName:this.props.panelName,headerTitle:i.translate("CROP_MODE_SHAPES_PANEL_HEADER_TITLE"),contentStyle:this.getFrameStyle(),helpId:"9f5cc6cb-6abf-40c5-8f8b-774e2614df18",contentWrapperClass:"image-mask-panel",onClose:this.props.onClose},e.createElement(n.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%",addScrolledClass:!0,scrollTo:this.state.scrollPosition},e.createElement(n.Composites.Thumbnails,{},e.createElement(n.Thumbnails,{value:this.state.currentSvgId,ref:"maskCropItems",onChange:this.selectMask,maxThumbsPerRow:3,fixedRatio:!0,hasBackground:!1,borderType:"thumbnail",addThumbnailProps:this.getAddThumbProps(),options:this.getMaskOptions(),shouldTranslate:!0}),this.props.lastCustomMaskId?e.createElement("div",{className:"image-crop-change-mask-indicator",key:"changebutton",onClick:this.openMMgr},e.createElement(n.Tooltip,{shouldTranslate:!0,closeOnMouseClick:!0,content:"CROP_MODE_SHAPES_PANEL_CUSTOM_REPLACE_TOOLTIP"},e.createElement(a.symbol,{name:"video-player-change-poster"}))):null)))}}),define("panels/toolPanels/imageMaskPanel/imageCropSVGPanel",["react","reactDOM","prop-types","lodash","create-react-class","util","baseUI","panels/toolPanels/imageMaskPanel/imageCropSVGPanelConsts","panels/toolPanels/imageMaskPanel/imageCropSVGPanelMapper","panels/toolPanels/imageMaskPanel/imageCropSVGPanel.rt"],function(o,n,e,s,t,i,l,r,a,c){"use strict";var p=i.hoc,u=p.connect,d=p.STORES.EDITOR_API;function m(e,t,n,a,s,i){return{value:i.id,illustration:o.createElement(l.imageWithMask,{imageData:e,imageWidth:t,imageHeight:n,imageUrl:s,isClip:a,crop:{width:t,height:n,x:0,y:0,svgId:i.id,svgStr:i.thumbnail.replace("<svg ","<svg id="+i.thumbId+" "),svgDomId:i.thumbId,maskContour:a?null:{width:2,color:"#dae1e9"}}})}}function h(e){return!!e&&s.some(r.MASKS,{id:e})}var g="public/ec9ed40a-6502-4df2-a088-355405d7bd25",f=i.imageTransform,P=t({displayName:"imageCropSVGPanel",propTypes:{mediaManager:e.object.isRequired,imageData:e.object.isRequired,setFocusToEditor:e.func,setCropArea:e.func,getCropArea:e.func,getCropOriginArea:e.func,getMMgrPath:e.func,setMMgrPath:e.func,getLastCustomMaskId:e.func,lastCustomMaskId:e.string,setLastCustomMaskId:e.func,getSVG:e.func},getDefaultProps:function(){return{top:"200px",left:"300px"}},getInitialState:function(){var e=this.props.getCropArea(),t=e&&e.svgId;return t&&!h(t)&&this.props.setLastCustomMaskId(t),{currentSvgId:t,scrollPosition:0}},componentWillUnmount:function(){this.props.setCropArea({original:null})},componentDidMount:function(){this.scrollToSelectedItem()},scrollToSelectedItem:function(){var e=n.findDOMNode(this.refs.maskCropItems).querySelector("input:checked");if(e){var t=e.parentNode;this.setState({scrollPosition:Math.max(t.offsetTop-74,0)})}},getMaskOptions:function(){var e=this.props.getCropArea(),t=f.getFromImageData(this.props.imageData,e.width,e.height),n=s.map(r.MASKS,m.bind(this,this.props.imageData,r.MASK_THUMB_SIZE.width,r.MASK_THUMB_SIZE.height,!1,t.uri)),a=this.getCurrentMaskThumbnail();return a&&n.unshift(a),n},selectMask:function(e,t){var n=this,a=this.props.getCropArea(),s=a.x,i=void 0===s?0:s,o=a.y,l=void 0===o?0:o,r=a.width,c=a.height;this.props.setCropArea({svgId:e,svgStr:"",svgDomId:"",width:r,height:c,x:i,y:l},function(){t&&!h(e)&&n.props.setLastCustomMaskId(e),n.setState({currentSvgId:e})})},openMMgr:function(){var a=this,e=this.props.mediaManager.categories.VECTOR_ART,t=this.props.lastCustomMaskId,s=this.props.imageData.id,n=t&&this.props.getMMgrPath("last_svg_mask_path_"+s)||g;this.props.mediaManager.open(e,{path:n,multiSelect:!1,translation:{title:i.translate("CROP_MODE_MMGR_TITLE"),submitButton:i.translate("CROP_MODE_MMGR_SUBMIT_BUTTON")},callback:function(e,t){if(e){var n=e[0].uri;a.selectMask(n,!0),a.props.setMMgrPath("last_svg_mask_path_"+s,t.path||g)}a.props.setFocusToEditor()}})},getAddThumbProps:function(){return!this.props.lastCustomMaskId&&{onAddThumbnailClick:this.openMMgr,isFirst:!0,height:r.MASK_THUMB_SIZE.height}},getCurrentMaskThumbnail:function(){if(!this.props.lastCustomMaskId)return null;var e,t=this.props.imageData,n=this.props.getCropArea(),a=f.getFromImageData(this.props.imageData,n.width,n.height),s=m.call(this,t,r.MASK_THUMB_SIZE.width,r.MASK_THUMB_SIZE.height,!0,a.uri,{id:this.props.lastCustomMaskId,thumbnail:(e=this.props.getSVG(this.props.lastCustomMaskId),e.replace('preserveAspectRatio="none"','preserveAspectRatio="xMidYMid"')),thumbId:"svg-panel-change-mask-id"});return s.className="custom-mask",s},getFrameStyle:function(){return s.defaults({width:288,height:600},s.pick(this.props,["top","left"]))},render:c}),_=u(d,a.mapStateToProps,a.mapDispatchToProps)(P);return _.pure=P,_}),define("panels/toolPanels/apiDefinitionEvent/apiDefinitionEvent.rt",["react","lodash","baseUILib","util","panels/frames/toolPanelFrame"],function(e,t,n,a,s){"use strict";return function(){var t=this;return e.createElement(s,{panelName:"panels.toolPanels.apiDefinitionEvent",onClose:function(e){return t.closePanel(e)},headerTitle:a.translate(this.props.title),contentStyle:this.props.contentStyle,className:"api-definition-event",automationId:"api-definition-event"},e.createElement(n.Composites.TextInputLabeled,{},e.createElement(n.InfoIcon,{text:"AppStudio_WidgetAPI_NewEvent_Name_Tooltip"}),e.createElement(n.TextLabel,{value:"AppStudio_WidgetAPI_NewEvent_Name_label"}),e.createElement(n.TextInput,{value:this.state.name,className:"add-event-name",placeholder:"AppStudio_WidgetAPI_NewEvent_Name_Placeholder",validator:this.isEventNameValid,allowInvalidChange:!0,validateInitialValue:!1,invalidMessage:"AppStudio_WidgetAPI_NewEvent_Name_InvalidName_Error",onChange:function(e){this.setState({name:e})}.bind(this)})),e.createElement(n.Divider,{long:!0}),e.createElement(n.Composites.TextInputMultilineLabeled,{},e.createElement(n.InfoIcon,{text:"AppStudio_WidgetAPI_NewEvent_Description_Tooltip"}),e.createElement(n.TextLabel,{value:"AppStudio_WidgetAPI_NewEvent_Description_Label"}),e.createElement(n.TextInputMultiline,{value:this.state.description,automationId:"add-event-description",className:"widget-event-description",placeholder:"AppStudio_WidgetAPI_NewEvent_Description_Placeholder",onChange:function(e){this.setState({description:e})}.bind(this)})),e.createElement(n.Composites.ButtonMedium,{},e.createElement(n.Button,{className:"btn-md",disabled:!this.isFormValid(),automationId:"add-event-main-button",onClick:this.handleClickAction},e.createElement("span",{},a.translate(this.props.mainActionLabel)))))}}),define("panels/toolPanels/apiDefinitionEvent/apiDefinitionEvent",["lodash","create-react-class","util","prop-types","stateManagement","constants","panels/frames/panelCloseOrigin","panels/toolPanels/apiDefinitionEvent/apiDefinitionEvent.rt"],function(o,e,t,n,a,s,i,l){"use strict";var r=e({displayName:"apiDefinitionEvent",propTypes:{event:n.object.isRequired,title:n.string.isRequired,mainActionLabel:n.string.isRequired,onChange:n.func.isRequired,close:n.func.isRequired,illegalEventNames:n.arrayOf(n.string),contentStyle:n.shape({top:n.number,right:n.number,width:n.number}),callBi:n.func.isRequired},getInitialState:function(){return{name:this.props.event.name,description:this.props.event.description}},getDefaultProps:function(){return{event:{name:"",description:""}}},handleClickAction:function(){this.props.onChange({name:this.state.name,description:this.state.description}),this.props.callBi()},closePanel:function(e){e===i.CLICK_OUTSIDE&&this.isFormValid()?this.handleClickAction():this.props.close()},isEventNameValid:function(e){return t.validate.eventName(e)&&!o.includes(this.props.illegalEventNames,e)},isFormValid:function(){return this.isEventNameValid(this.state.name)},render:l});return o.flow(t.hoc.renderWhenMutated,t.hoc.connect(t.hoc.STORES.DS_ONLY,function(e,t){var n=e.dsRead,a=n.pages.getFocusedPageId(),s=n.appStudio.widgets.getByRootCompId(a),i=n.appStudio.widgets.events.get(s);return{illegalEventNames:o(i).reject({name:o.get(t,"event.name")}).map("name").value()}}),a.editorPlugins.panels.hoc.panelFrame(s.PANEL_TYPES.TOOL))(r)}),define("panels/toolPanels/apiDefinitionProperty/propertyTypes",["util","lodash"],function(t,n){"use strict";return{STRING:{value:"string",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Text",automationId:"property-default-string",defaultValueSchema:{name:"string",propType:"string",automationId:"property-default-value",defaultValue:"",displayName:"AppStudio_WidgetAPI_DefaultValue_Label",placeholder:"AppStudio_WidgetAPI_DefaultValue_Placeholder"},validations:["maxLength"]},NUMBER:{value:"number",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Number",automationId:"property-default-number",defaultValueSchema:{name:"number",propType:"number",automationId:"property-default-value",min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,step:.1,defaultValue:0,displayName:"AppStudio_WidgetAPI_Number_DefaultValue_Label"},validations:["min","max","step"]},BOOL:{value:"bool",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Boolean",automationId:"property-default-boolean",defaultValueSchema:{name:"boolean",propType:"radio",automationId:"property-default-value",defaultValue:"false",displayName:"AppStudio_WidgetAPI_Boolean_DefaultValue_Label",options:[{value:"true",label:"AppStudio_WidgetAPI_Boolean_DefaultValue_True"},{value:"false",label:"AppStudio_WidgetAPI_Boolean_DefaultValue_False"}]}},IMAGE:{value:"image",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Image",automationId:"property-default-image",defaultValueSchema:{name:"image",propType:"image",automationId:"property-default-value",changeImage:"image-change",uploadImage:"upload-btn",defaultValue:"",displayName:"AppStudio_WidgetAPI_Image_DefaultImage"}},DATE:{value:"dateTime",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_DateTime",automationId:"property-default-date",defaultValueSchema:{name:"date",propType:"string",automationId:"property-default-value",displayName:"AppStudio_WidgetAPI_URL_DefaultDate_Label",placeholder:"AppStudio_WidgetAPI_URL_DefaultDate_Placeholder",validator:function(e){return n.isEmpty(e)||!isNaN(new Date(e).getDate())},allowInvalidChange:!0,validateInitialValue:!1,defaultValue:!1,invalidMessage:"AppStudio_WidgetAPI_URL_DefaultDate_Error"}},URL:{value:"url",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_URL",automationId:"property-default-url",defaultValueSchema:{name:"url",propType:"string",automationId:"property-default-value",displayName:"AppStudio_WidgetAPI_URL_DefaultURL_Label",placeholder:"AppStudio_WidgetAPI_URL_DefaultURL_Placeholder",validator:function(e){return n.isEmpty(e)||t.validate.url(e)},allowInvalidChange:!0,defaultValue:"",validateInitialValue:!1,invalidMessage:"AppStudio_WidgetAPI_URL_DefaultURL_Error"}}}}),define("panels/focusPanels/propertyTypes",[],function(){"use strict";return{STRING:{value:"string",label:"Text (String)"},NUMBER:{value:"number",label:"Number"},BOOLEAN:{value:"boolean",label:"Boolean"},IMAGE:{value:"image",label:"Image"},DATE:{value:"date",label:"DateTime"},URL:{value:"url",label:"URL"},COLOR:{value:"color",label:"Color"}}}),define("panels/toolPanels/apiDefinitionProperty/apiDefinitionProperty.rt",["react","lodash","baseUILib","panels/focusPanels/propertyTypes","util","panels/frames/toolPanelFrame","santa-editor-symbols"],function(n,e,a,t,s,i,o){"use strict";return function(){var t=this;return n.createElement(i,{panelName:"panels.toolPanels.apiDefinitionProperty",onClose:function(e){return t.closePanel(e)},headerTitle:s.translate(this.props.title),useScroll:!0,contentStyle:this.props.contentStyle,automationId:"api-definition-property"},n.createElement("div",{className:"api-property-definition-panel"},n.createElement.apply(this,["div",{className:"api-definition-panel-content"},n.createElement(a.Composites.TextInputLabeled,{},n.createElement(a.InfoIcon,{text:"AppStudio_WidgetAPI_NewProperty_Name_Tooltip"}),n.createElement(a.TextLabel,{value:"AppStudio_WidgetAPI_NewProperty_Name_label"}),n.createElement(a.TextInput,{value:this.state.name,automationId:"add-property-name",validator:this.isPropertyNameValid,allowInvalidChange:!0,validateInitialValue:!1,invalidMessage:"AppStudio_WidgetAPI_NewProperty_Name_InvalidName_Error",autoSelect:!0,placeholder:"AppStudio_WidgetAPI_NewProperty_Name_Placeholder",onChange:function(e){this.setState({name:e})}.bind(this)})),n.createElement(a.Divider,{long:!0}),n.createElement(a.Composites.TextInputLabeled,{},n.createElement(a.InfoIcon,{text:"AppStudio_WidgetAPI_DisplayName_Tooltip"}),n.createElement(a.TextLabel,{value:"AppStudio_WidgetAPI_DisplayName_Label"}),n.createElement(a.TextInput,{value:this.state.displayName,automationId:"add-property-display-name",placeholder:"AppStudio_WidgetAPI_DisplayName_Placeholder",onChange:function(e){this.setState({displayName:e})}.bind(this)})),n.createElement(a.Divider,{long:!0}),n.createElement(a.Composites.DropDownLabeled,{},n.createElement(a.TextLabel,{value:"AppStudio_WidgetAPI_PropertyType_Title"}),n.createElement(a.DropDown,{value:this.state.type,automationId:"add-property-type-selection",options:this.getPropertyTypeOptions(),onChange:this.onPropertyTypeChanged})),n.createElement(a.Divider,{long:!0}),"\n            ",this.getDefaultValueComponent(),"\n            ",n.createElement(a.Divider,{long:!0}),e.map(this.getValidatorsData(),function(e,t){return[n.createElement(a.Composites.ToggleSwitchWithSelectiveInput,{key:e.label},n.createElement(a.Composites.ToggleSwitch,{},n.createElement(a.ToggleSwitch,{value:e.toggleValue,label:e.label,automationId:e.toggleAutomationId,onChange:e.onToggle})),e.toggleValue?n.createElement(a.Composites.TextInput,{key:e.label},n.createElement(a.NumericInput,{value:e.inputValue||0,min:e.min,max:e.max,step:e.step,automationId:e.inputAutomationId,onChange:e.onChangeInput})):null),n.createElement(a.Divider,{long:!0,key:"29132"})]}.bind(this)),n.createElement(a.Composites.TextInputMultilineLabeled,{},n.createElement(a.InfoIcon,{text:"AppStudio_WidgetAPI_Description_Tooltip"}),n.createElement(a.TextLabel,{value:"AppStudio_WidgetAPI_Description_Label"}),n.createElement(a.TextInputMultiline,{value:this.state.description,automationId:"add-property-description",placeholder:"AppStudio_WidgetAPI_Description_Placeholder",onChange:function(e){this.setState({description:e})}.bind(this)}))]),n.createElement(a.Composites.ButtonLargeFixedBottom,{className:"api-definition-property-bottom-button"},n.createElement(a.Button,{className:"btn-md",disabled:!this.isFormValid(),automationId:"add-property-main-button",onClick:this.handleClickAction},n.createElement("span",{},s.translate(this.props.mainActionLabel))))))}}),define("panels/toolPanels/apiDefinitionProperty/apiDefinitionProperty",["create-react-class","lodash","baseUI","util","stateManagement","constants","prop-types","panels/toolPanels/apiDefinitionProperty/propertyTypes","panels/frames/panelCloseOrigin","panels/toolPanels/apiDefinitionProperty/apiDefinitionProperty.rt"],function(e,o,a,l,t,n,s,i,r,c){"use strict";var p=l.hoc,u=p.connect,d=p.renderWhenMutated,m=p.STORES.EDITOR_API,h=e({displayName:"apiDefinitionProperty",propTypes:{property:s.shape({displayName:s.string,name:s.string,propType:s.string,validations:s.object,defaultValue:s.any,description:s.string}),illegalPropertyNames:s.arrayOf(s.string),title:s.string.isRequired,mainActionLabel:s.string.isRequired,close:s.func.isRequired,onChange:s.func.isRequired,openMediaManager:s.func.isRequired,callBi:s.func.isRequired,contentStyle:s.shape({top:s.number,right:s.number,width:s.number})},getInitialState:function(){var e=o.get(this.props.property,"validations",{}),t=e.min,n=e.max,a=e.step,s=e.maxLength;return{displayName:this.props.property.displayName,name:this.props.property.name,type:this.props.property.propType,min:t,max:n,step:a,maxLength:s,defaultValue:this.props.property.defaultValue,description:this.props.property.description,validateMin:!o.isUndefined(t),validateMax:!o.isUndefined(n),validateStep:!o.isUndefined(a),validateMaxLength:!o.isUndefined(s)}},getPropertyTypeOptions:function(){return o.map(i,function(e){return o.pick(e,["value","label","automationId"])})},onPropertyTypeChanged:function(e){var t=o.find(i,{value:e});this.setState({type:e,defaultValue:t.defaultValueSchema.defaultValue,validateMax:!1,validateMin:!1,validateMaxLength:!1})},getDefaultPropertyValue:function(){return this.state.defaultValue?this.state.defaultValue:o.find(i,{value:this.state.type}).defaultValue},getPlaceholderValue:function(){return o.find(i,{value:this.state.type}).placeholder},getDefaultProps:function(){return{property:{name:"",displayName:"",propType:i.STRING.value,defaultValue:i.STRING.defaultValueSchema.defaultValue,description:""}}},generateValidatorFunction:function(){var t=this,n=function(e,t){return o.isNumber(e)?e:t};return this.state.validateMaxLength?function(e){return e.length<=t.state.maxLength}:this.state.validateMax&&this.state.validateMin?function(e){return Number(e)<=n(t.state.max,Number.MAX_SAFE_INTEGER)&&Number(e)>=n(t.state.min,Number.MIN_SAFE_INTEGER)}:this.state.validateMax?function(e){return Number(e)<=n(t.state.max,Number.MAX_SAFE_INTEGER)}:this.state.validateMin?function(e){return Number(e)>=n(t.state.min,Number.MIN_SAFE_INTEGER)}:void 0},getInvalidMessage:function(){return this.state.validateMaxLength?"AppStudio_propertyPanel_textLength_validator":this.state.validateMax&&this.state.validateMin?l.translate("AppStudio_propertyPanel_minMaxRange_validator"):this.state.validateMax?l.translate("AppStudio_propertyPanel_maxValue_validator"):this.state.validateMin?l.translate("AppStudio_propertyPanel_minValue_validator"):void 0},getReactKey:function(e){return this.state.validateMaxLength?""+(e.defaultValueSchema.name+this.state.maxLength):this.state.validateMax&&this.state.validateMin?""+(e.defaultValueSchema.name+this.state.max+this.state.min):this.state.validateMax?""+(e.defaultValueSchema.name+this.state.max):this.state.validateMin?""+(e.defaultValueSchema.name+this.state.min):void 0},generateValidatorDescriptor:function(e){return{validator:this.generateValidatorFunction(),invalidMessage:this.getInvalidMessage(),reactKey:this.getReactKey(e)}},getDefaultValueComponent:function(){var n=this,e=o.find(i,{value:this.state.type}),t=o.defaults(this.generateValidatorDescriptor(e),e.defaultValueSchema);return a.utils.generateUICompBySchema(o.assign({shouldTranslate:!0},t),this.state.defaultValue,function(e,t){return n.setState({defaultValue:t})},{openMediaManager:this.props.openMediaManager})},closePanel:function(e){e===r.CLICK_OUTSIDE&&this.isFormValid()?this.handleClickAction():this.props.close()},getValidatorsData:function(){var t=this,e={maxLength:{toggleValue:this.state.validateMaxLength,label:"AppStudio_WidgetAPI_MaxCharacters_Label",onToggle:function(e){return t.setState({validateMaxLength:e,maxLength:t.state.maxLength||0})},step:1,min:0,max:9999,inputValue:this.state.maxLength,onChangeInput:function(e){return t.setState({maxLength:e})},toggleAutomationId:"max-length-toggle",inputAutomationId:"max-length-input"},max:{toggleValue:this.state.validateMax,label:"AppStudio_WidgetAPI_Number_MaxValue_Label",onToggle:function(e){return t.setState({validateMax:e,max:t.state.max||0})},step:.1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,inputValue:this.state.max,onChangeInput:function(e){return t.setState({max:e})},toggleAutomationId:"max-toggle",inputAutomationId:"max-input"},min:{toggleValue:this.state.validateMin,label:"AppStudio_WidgetAPI_Number_MinValue_Label",onToggle:function(e){return t.setState({validateMin:e,min:t.state.min||0})},step:.1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,inputValue:this.state.min,onChangeInput:function(e){return t.setState({min:e})},toggleAutomationId:"min-toggle",inputAutomationId:"min-input"},step:{toggleValue:this.state.validateStep,label:"AppStudio_WidgetAPI_Number_StepValue_Label",onToggle:function(e){return t.setState({validateStep:e,step:t.state.step||0})},step:.1,min:.1,max:Number.MAX_SAFE_INTEGER,inputValue:this.state.step,onChangeInput:function(e){return t.setState({step:e})},toggleAutomationId:"step-toggle",inputAutomationId:"step-input"}},n=o.find(i,{value:this.state.type});return o.pick(e,n.validations)},handleClickAction:function(){var e=o.assign({},this.state.validateMin?{min:this.state.min}:{},this.state.validateMax?{max:this.state.max}:{},this.state.validateStep?{step:this.state.step}:{},this.state.validateMaxLength?{maxLength:this.state.maxLength}:{});this.props.onChange({displayName:this.state.displayName,name:this.state.name,propType:this.state.type,validations:e,defaultValue:""+this.state.defaultValue,description:this.state.description}),this.props.callBi()},isPropertyNameValid:function(e){return l.validate.variableName(e)&&!o.includes(this.props.illegalPropertyNames,e)},isFormValid:function(){var e,t=this,n=o.find(i,{value:this.state.type}),a=(e=n).defaultValueSchema.validator||t.generateValidatorDescriptor(e).validator,s=!a||a(this.state.defaultValue);return this.isPropertyNameValid(this.state.name)&&s},render:c});return o.flow(d,u(m,function(e,t){var n=e.dsRead,a=n.pages.getFocusedPageId(),s=n.appStudio.widgets.getByRootCompId(a),i=n.appStudio.widgets.properties.get(s);return{illegalPropertyNames:o(i).reject({name:o.get(t,"property.name")}).map("name").value()}},function(t){return{openMediaManager:function(e){var o;t((o=e,function(e,t,n){var a=n.editorAPI,s=a.mediaServices.mediaManager,i=a.mediaServices.mediaManager.categories.IMAGE;s.open(i,{callback:o,translation:{title:l.translate("AppStudio_WidgetAPI_Image_DefaultImage_Upload_MediaManager_Header"),submitButton:l.translate("AppStudio_WidgetAPI_Image_DefaultImage_Upload_MediaManager_Set_Button")}})}))}}}),t.editorPlugins.panels.hoc.panelFrame(n.PANEL_TYPES.TOOL))(h)}),define("panels/toolPanels/apiDefinitionPropertySchema/propertyTypes",["util","lodash"],function(t,n){"use strict";return{primitives:{text:{value:"string",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Text",automationId:"property-default-string",defaultValueSchema:{name:"string",propType:"string",automationId:"property-default-value",defaultValue:"",displayName:"AppStudio_WidgetAPI_DefaultValue_Label",placeholder:"AppStudio_WidgetAPI_DefaultValue_Placeholder"},validations:["maxLength"]},number:{value:"number",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Number",automationId:"property-default-number",defaultValueSchema:{name:"number",propType:"number",automationId:"property-default-value",min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,step:.1,defaultValue:0,displayName:"AppStudio_WidgetAPI_Number_DefaultValue_Label"},validations:["min","max","step"]},boolean:{value:"boolean",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Boolean",automationId:"property-default-boolean",defaultValueSchema:{name:"bool",propType:"radio",automationId:"property-default-value",defaultValue:"false",displayName:"AppStudio_WidgetAPI_Boolean_DefaultValue_Label",options:[{value:"true",label:"AppStudio_WidgetAPI_Boolean_DefaultValue_True"},{value:"false",label:"AppStudio_WidgetAPI_Boolean_DefaultValue_False"}]}},image:{value:"image",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_Image",automationId:"property-default-image",defaultValueSchema:{name:"image",propType:"image",automationId:"property-default-value",changeImage:"image-change",uploadImage:"upload-btn",defaultValue:"",displayName:"AppStudio_WidgetAPI_Image_DefaultImage"}},dateTime:{value:"dateTime",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_DateTime",automationId:"property-default-date",defaultValueSchema:{name:"dateTime",propType:"dateTime",automationId:"property-default-value",displayName:"AppStudio_WidgetAPI_URL_DefaultDate_Label",placeholder:"AppStudio_WidgetAPI_URL_DefaultDate_Placeholder",validator:function(e){return n.isEmpty(e)||!isNaN(new Date(e).getDate())},allowInvalidChange:!0,validateInitialValue:!1,defaultValue:!1,invalidMessage:"AppStudio_WidgetAPI_URL_DefaultDate_Error"}},url:{value:"url",label:"AppStudio_WidgetAPI_PropertyType_Dropdown_URL",automationId:"property-default-url",defaultValueSchema:{name:"url",propType:"string",automationId:"property-default-value",displayName:"AppStudio_WidgetAPI_URL_DefaultURL_Label",placeholder:"AppStudio_WidgetAPI_URL_DefaultURL_Placeholder",validator:function(e){return n.isEmpty(e)||t.validate.url(e)},allowInvalidChange:!0,defaultValue:"",validateInitialValue:!1,invalidMessage:"AppStudio_WidgetAPI_URL_DefaultURL_Error"}},color:{value:"color",label:"~COLOR",automationId:"property-default-color",defaultValueSchema:{name:"url",propType:"string",automationId:"property-default-value",displayName:"~COLOR Label",placeholder:"~COLOR placeholder",validator:function(e){return n.isEmpty(e)||t.validate.url(e)},allowInvalidChange:!0,defaultValue:"",validateInitialValue:!1,invalidMessage:"~COLOR Label error"}}}}}),define("panels/toolPanels/apiDefinitionPropertySchema/apiDefinitionPropertySchema.rt",["react","lodash","baseUILib","panels/focusPanels/propertyTypes","util","panels/frames/toolPanelFrame","santa-editor-symbols"],function(e,t,n,a,s,i,o){"use strict";return function(){var t=this;return e.createElement(i,{panelName:"panels.toolPanels.apiDefinitionPropertySchema",onClose:function(e){return t.closePanel(e)},headerTitle:s.translate(this.props.title),useScroll:!0,contentStyle:this.props.contentStyle,automationId:"api-definition-property"},e.createElement("div",{className:"api-property-definition-panel"},e.createElement("div",{className:"api-definition-panel-content"},e.createElement(n.Composites.TextInputLabeled,{},e.createElement(n.InfoIcon,{text:"AppStudio_WidgetAPI_NewProperty_Name_Tooltip"}),e.createElement(n.TextLabel,{value:"AppStudio_WidgetAPI_NewProperty_Name_label"}),e.createElement(n.TextInput,{value:this.state.name,automationId:"add-property-name",validator:this.isPropertyNameValid,allowInvalidChange:!0,validateInitialValue:!1,invalidMessage:"AppStudio_WidgetAPI_NewProperty_Name_InvalidName_Error",autoSelect:!0,placeholder:"AppStudio_WidgetAPI_NewProperty_Name_Placeholder",onChange:function(e){this.setState({name:e})}.bind(this)})),e.createElement(n.Divider,{long:!0}),e.createElement(n.Composites.TextInputLabeled,{},e.createElement(n.InfoIcon,{text:"AppStudio_WidgetAPI_DisplayName_Tooltip"}),e.createElement(n.TextLabel,{value:"AppStudio_WidgetAPI_DisplayName_Label"}),e.createElement(n.TextInput,{value:this.state.title,automationId:"add-property-display-name",placeholder:"AppStudio_WidgetAPI_DisplayName_Placeholder",onChange:function(e){this.setState({title:e})}.bind(this)})),e.createElement(n.SectionDivider,{},e.createElement(n.TextLabel,{value:"Property Details"})),e.createElement(n.Composites.DropDownLabeled,{},e.createElement(n.TextLabel,{value:"AppStudio_WidgetAPI_PropertyType_Title"}),e.createElement(n.DropDown,{value:this.state.type,automationId:"add-property-type-selection",options:this.getPropertyTypeOptions(),onChange:this.onPropertyTypeChanged})),e.createElement(n.Divider,{long:!1}),e.createElement(n.Composites.Checkboxes,{},e.createElement(n.Checkbox,{value:this.state.isArray,onChange:function(e){this.setState({isArray:e})}.bind(this),label:"Make as an array property list",labelAfterSymbol:!0})),e.createElement(n.Divider,{long:!1}),"\n            ",this.getDefaultValueComponent(),"\n            ",e.createElement(n.Divider,{long:!0}),e.createElement(n.Composites.TextInputMultilineLabeled,{},e.createElement(n.InfoIcon,{text:"AppStudio_WidgetAPI_Description_Tooltip"}),e.createElement(n.TextLabel,{value:"AppStudio_WidgetAPI_Description_Label"}),e.createElement(n.TextInputMultiline,{value:this.state.description,automationId:"add-property-description",placeholder:"AppStudio_WidgetAPI_Description_Placeholder",onChange:function(e){this.setState({description:e})}.bind(this)}))),e.createElement(n.Composites.ButtonLargeFixedBottom,{className:"api-definition-property-bottom-button"},e.createElement(n.Button,{className:"btn-md",disabled:!this.isFormValid(),automationId:"add-property-main-button",onClick:this.handleClickAction},e.createElement("span",{},s.translate(this.props.mainActionLabel))))))}}),define("panels/toolPanels/apiDefinitionPropertySchema/apiDefinitionPropertySchema",["create-react-class","lodash","baseUI","util","stateManagement","constants","prop-types","panels/toolPanels/apiDefinitionPropertySchema/propertyTypes","panels/frames/panelCloseOrigin","wix-json-schema-utils","panels/toolPanels/apiDefinitionPropertySchema/apiDefinitionPropertySchema.rt"],function(e,u,t,l,n,a,s,i,o,d,r){"use strict";var c=l.hoc,p=c.connect,m=c.renderWhenMutated,h=c.STORES.EDITOR_API,g=e({displayName:"apiDefinitionPropertySchema",propTypes:{property:s.object,propertyName:s.string,propertyData:s.object,illegalPropertyNames:s.arrayOf(s.string),mainActionLabel:s.string.isRequired,close:s.func.isRequired,onChange:s.func.isRequired,openMediaManager:s.func.isRequired,contentStyle:s.shape({top:s.number,right:s.number,width:s.number})},getInitialState:function(){return{name:this.props.propertyName,title:this.props.propertyData.title,type:this.props.propertyData.type,defaultValue:this.props.propertyData.default,description:this.props.propertyData.description}},getTypeData:function(e){return u.find(i.primitives,{value:e})},getPropertyTypeOptions:function(){return u.map(i.primitives,function(e){return u.pick(e,["value","label","automationId"])})},onPropertyTypeChanged:function(e){var t=this.getTypeData(e),n=void 0;n=t?t.defaultValueSchema.defaultValue:this.state.isArray?[]:{},this.setState({type:e,defaultValue:n})},getDefaultValueComponent:function(){var n=this,e=this.getTypeData(this.state.type);return e?t.utils.generateUICompBySchema(u.assign({shouldTranslate:!0},e.defaultValueSchema),this.state.defaultValue,function(e,t){return n.setState({defaultValue:t})},{openMediaManager:this.props.openMediaManager}):null},closePanel:function(e){e===o.CLICK_OUTSIDE&&this.isFormValid()?this.handleClickAction():this.props.close()},handleClickAction:function(){var e=this.state.name,t=u.defaultsDeep({default:this.state.defaultValue,title:this.state.title,description:this.state.description},this.props.propertyData);this.props.onChange(_defineProperty({},e,t))},isPropertyNameValid:function(e){return l.validate.variableName(e)&&!u.includes(this.props.illegalPropertyNames,e)},isFormValid:function(){return this.isPropertyNameValid(this.state.name)},render:r});return u.flow(m,p(h,function(e,t){var n,a=e.dsRead,s=a.pages.getFocusedPageId(),i=a.appStudio.widgets.getByRootCompId(s),o=a.appStudio.widgets.propertiesSchemas.get(i),l={base:d.baseDefinitions,custom:u.assign.apply(u,[{}].concat(_toConsumableArray(a.appStudio.definitions.getAllSerialized())))},r=t.property;r||(r={"":(n="text",{allOf:[{$ref:"#"+n},{title:void 0,description:void 0,default:void 0}]})});var c=u.head(u.keys(r)),p=d.createResolver(l.base,l.custom).resolve(r)[c];return{illegalPropertyNames:u(o).map(function(e){return u.head(u.keys(e))}).reject(function(e){return e===c}).value(),definitions:l,propertyName:c,propertyData:p}},function(t){return{openMediaManager:function(e){var o;t((o=e,function(e,t,n){var a=n.editorAPI,s=a.mediaServices.mediaManager,i=a.mediaServices.mediaManager.categories.IMAGE;s.open(i,{callback:o,translation:{title:l.translate("AppStudio_WidgetAPI_Image_DefaultImage_Upload_MediaManager_Header"),submitButton:l.translate("AppStudio_WidgetAPI_Image_DefaultImage_Upload_MediaManager_Set_Button")}})}))}}}),n.editorPlugins.panels.hoc.panelFrame(a.PANEL_TYPES.TOOL))(g)}),define("panels/toolPanels/toolPanels",["panels/toolPanels/pagesSelector/pagesSelectorPanel","panels/toolPanels/exampleToolPanel","panels/toolPanels/linkPanel/linkPanel","panels/toolPanels/colorPicker/colorPicker","panels/toolPanels/iconPicker/iconPickerPanel","panels/toolPanels/languageSupport/languageSupport","panels/toolPanels/mobileActionBarSubPanel/mobileActionBarSubPanel","panels/toolPanels/fontsManager/fontsUploadPanel","panels/toolPanels/fontsManager/deleteFontMsg","panels/toolPanels/fontsManager/cancelFontUploadMsg","panels/toolPanels/grid/gridAddColumnPanel","panels/toolPanels/customSignupSettings/customSignupSettingsPanel","panels/toolPanels/rolesManager/rolesManager","panels/toolPanels/layers/layersPanel","panels/toolPanels/imageMaskPanel/imageCropSVGPanel","panels/toolPanels/apiDefinitionEvent/apiDefinitionEvent","panels/toolPanels/apiDefinitionProperty/apiDefinitionProperty","panels/toolPanels/apiDefinitionPropertySchema/apiDefinitionPropertySchema"],function(e,t,n,a,s,i,o,l,r,c,p,u,d,m,h,g,f,P){"use strict";return{pagesSelectorPanel:e,exampleTool:t,linkPanel:n,languageSupport:i,colorPicker:a,iconPickerPanel:s,mobileActionBarSubPanel:o,fontsUploadPanel:l,deleteFontMsg:r,cancelFontUploadMsg:c,gridAddColumnPanel:p,customSignupSettingsPanel:u,rolesManagerPanel:d,layersPanel:m,imageCropSVGPanel:h,apiDefinitionEvent:g,apiDefinitionProperty:f,apiDefinitionPropertySchema:P}}),define("panels/commonControls/linkTo/linkToMixin",["lodash","core","baseUI","util"],function(e,t,n,a){"use strict";return{mixins:[n.inputMixin,t.mixins.editorAPIMixin],ValidationStatus:{NONE:"none",SUCCESS:"success",ERROR:"error"},getInitialState:function(){return{validationStatus:this.ValidationStatus.NONE}},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},openLinkDialogFromPanel:function(){this.openLinkDialog(!0)},openLinkDialog:function(e){this.getEditorAPI().openLinkPanel({link:a.valueLink.getValueFromProps(this.props),visibleSections:this.props.visibleSections,callback:this.linkUpdated},!e)},linkUpdated:function(e){this.setState({validationStatus:this.ValidationStatus.SUCCESS}),a.valueLink.callOnChangeIfExists(this.props,e),window.setTimeout(function(){this.mounted&&this.setState({validationStatus:this.ValidationStatus.NONE})}.bind(this),1e3)}}}),define("panels/commonControls/linkTo/linkTo.rt",["react","lodash","baseUI","experiment"],function(e,t,n,a){"use strict";return function(){return e.createElement(n.labelWithCircleButton,{key:"labelWithCircleButton",className:"input-link-to",isDisabled:this.isDisabled(),label:this.props.label,displayedValue:this.getTranslatedLink(),onClick:this.openLinkDialogFromPanel,buttonIcon:"linkBtnThin",showButton:this.shouldShowButton(),showSuccessSymbol:this.shouldShowSuccessSymbol(),infoIconText:this.props.infoText,infoIconTitle:this.props.infoTitle})}}),define("panels/commonControls/linkTo/linkTo",["create-react-class","prop-types","lodash","util","panels/commonControls/linkTo/linkToMixin","panels/commonControls/linkTo/linkTo.rt"],function(e,t,n,a,s,i){"use strict";return e({displayName:"linkTo",mixins:[s],propTypes:{label:t.string,placeholder:t.string,showButton:t.bool,infoText:t.string,infoTitle:t.string},getDefaultProps:function(){return{label:"",placeholder:"Link_To_Control_Label_Placeholder",showButton:!0}},shouldShowButton:function(){return this.props.showButton&&this.state.validationStatus===this.ValidationStatus.NONE},shouldShowSuccessSymbol:function(){return this.state.validationStatus===this.ValidationStatus.SUCCESS},getTranslatedLink:function(){var e=a.link.getLinkValueAsString(this.getEditorAPI(),a.valueLink.getValueFromProps(this.props));return e=e||a.translate(this.props.placeholder)},render:i})}),define("panels/commonControls/linkTo/linkToButton.rt",["react","lodash","baseUI"],function(a,s,i){"use strict";return function(){return a.createElement(i.button,(e={icon:"link",className:"link-to-button",onClick:this.openLinkDialog},t=this.filteredProps(),n=s.assign({},e,t),e.hasOwnProperty("style")&&(n.style=s.defaults(n.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(n.className=t.className+" "+e.className),n));var e,t,n}}),define("panels/commonControls/linkTo/linkToButton",["create-react-class","lodash","panels/commonControls/linkTo/linkToMixin","panels/commonControls/linkTo/linkToButton.rt"],function(e,t,n,a){"use strict";return e({displayName:"linkToButton",mixins:[n],render:a})}),define("panels",["panels/panelManager/panelManager","panels/frames/frames","panels/mixins/mixins","panels/helpPanels/helpPanels","panels/errorPages/errorPagesPanels","panels/focusPanels/focusPanels","panels/messagePanels/messagePanels","panels/toolPanels/toolPanels","panels/commonControls/linkTo/linkTo","panels/commonControls/linkTo/linkToButton","panels/commonControls/linkTo/linkToMixin"],function(e,t,n,a,s,i,o,l,r,c,p){"use strict";return{PanelManager:e,frames:t,mixins:n,helpPanels:a,errorPages:s,focusPanels:i,messagePanels:o,toolPanels:l,commonControls:{linkTo:r,linkToButton:c},linkToMixin:p}});
//# sourceMappingURL=panels.min.js.map